ARM GAS  /tmp/cc9KJrYz.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"ff.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.mem_cpy,"ax",%progbits
  16              		.align	1
  17              		.arch armv7-m
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu softvfp
  23              	mem_cpy:
  24              	.LVL0:
  25              	.LFB72:
  26              		.file 1 "Middlewares/Third_Party/FatFs/src/ff.c"
   1:Middlewares/Third_Party/FatFs/src/ff.c **** /*----------------------------------------------------------------------------/
   2:Middlewares/Third_Party/FatFs/src/ff.c **** /  FatFs - FAT file system module  R0.11                 (C)ChaN, 2015
   3:Middlewares/Third_Party/FatFs/src/ff.c **** /-----------------------------------------------------------------------------/
   4:Middlewares/Third_Party/FatFs/src/ff.c **** / FatFs module is a free software that opened under license policy of
   5:Middlewares/Third_Party/FatFs/src/ff.c **** / following conditions.
   6:Middlewares/Third_Party/FatFs/src/ff.c **** /
   7:Middlewares/Third_Party/FatFs/src/ff.c **** / Copyright (C) 2015, ChaN, all right reserved.
   8:Middlewares/Third_Party/FatFs/src/ff.c **** /
   9:Middlewares/Third_Party/FatFs/src/ff.c **** / 1. Redistributions of source code must retain the above copyright notice,
  10:Middlewares/Third_Party/FatFs/src/ff.c **** /    this condition and the following disclaimer.
  11:Middlewares/Third_Party/FatFs/src/ff.c **** /
  12:Middlewares/Third_Party/FatFs/src/ff.c **** / This software is provided by the copyright holder and contributors "AS IS"
  13:Middlewares/Third_Party/FatFs/src/ff.c **** / and any warranties related to this software are DISCLAIMED.
  14:Middlewares/Third_Party/FatFs/src/ff.c **** / The copyright owner or contributors be NOT LIABLE for any damages caused
  15:Middlewares/Third_Party/FatFs/src/ff.c **** / by use of this software.
  16:Middlewares/Third_Party/FatFs/src/ff.c **** /-----------------------------------------------------------------------------/
  17:Middlewares/Third_Party/FatFs/src/ff.c **** / Feb 26,'06 R0.00  Prototype.
  18:Middlewares/Third_Party/FatFs/src/ff.c **** /
  19:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 29,'06 R0.01  First stable version.
  20:Middlewares/Third_Party/FatFs/src/ff.c **** /
  21:Middlewares/Third_Party/FatFs/src/ff.c **** / Jun 01,'06 R0.02  Added FAT12 support.
  22:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Removed unbuffered mode.
  23:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed a problem on small (<32M) partition.
  24:Middlewares/Third_Party/FatFs/src/ff.c **** / Jun 10,'06 R0.02a Added a configuration option (_FS_MINIMUM).
  25:Middlewares/Third_Party/FatFs/src/ff.c **** /
  26:Middlewares/Third_Party/FatFs/src/ff.c **** / Sep 22,'06 R0.03  Added f_rename().
  27:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed option _FS_MINIMUM to _FS_MINIMIZE.
  28:Middlewares/Third_Party/FatFs/src/ff.c **** / Dec 11,'06 R0.03a Improved cluster scan algorithm to write files fast.
  29:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mkdir() creates incorrect directory on FAT32.
  30:Middlewares/Third_Party/FatFs/src/ff.c **** /
  31:Middlewares/Third_Party/FatFs/src/ff.c **** / Feb 04,'07 R0.04  Supported multiple drive system.
  32:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed some interfaces for multiple drive system.
ARM GAS  /tmp/cc9KJrYz.s 			page 2


  33:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed f_mountdrv() to f_mount().
  34:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added f_mkfs().
  35:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 01,'07 R0.04a Supported multiple partitions on a physical drive.
  36:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added a capability of extending file size to f_lseek().
  37:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added minimization level 3.
  38:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed an endian sensitive code in f_mkfs().
  39:Middlewares/Third_Party/FatFs/src/ff.c **** / May 05,'07 R0.04b Added a configuration option _USE_NTFLAG.
  40:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added FSINFO support.
  41:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed DBCS name can result FR_INVALID_NAME.
  42:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed short seek (<= csize) collapses the file object.
  43:Middlewares/Third_Party/FatFs/src/ff.c **** /
  44:Middlewares/Third_Party/FatFs/src/ff.c **** / Aug 25,'07 R0.05  Changed arguments of f_read(), f_write() and f_mkfs().
  45:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mkfs() on FAT32 creates incorrect FSINFO.
  46:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mkdir() on FAT32 creates incorrect directory.
  47:Middlewares/Third_Party/FatFs/src/ff.c **** / Feb 03,'08 R0.05a Added f_truncate() and f_utime().
  48:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed off by one error at FAT sub-type determination.
  49:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed btr in f_read() can be mistruncated.
  50:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed cached sector is not flushed when create and close without write.
  51:Middlewares/Third_Party/FatFs/src/ff.c **** /
  52:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 01,'08 R0.06  Added fputc(), fputs(), fprintf() and fgets().
  53:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Improved performance of f_lseek() on moving to the same or following cluster.
  54:Middlewares/Third_Party/FatFs/src/ff.c **** /
  55:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 01,'09 R0.07  Merged Tiny-FatFs as a configuration option. (_FS_TINY)
  56:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added long file name feature.
  57:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added multiple code page feature.
  58:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added re-entrancy for multitask operation.
  59:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added auto cluster size selection to f_mkfs().
  60:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added rewind option to f_readdir().
  61:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed result code of critical errors.
  62:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Renamed string functions to avoid name collision.
  63:Middlewares/Third_Party/FatFs/src/ff.c **** / Apr 14,'09 R0.07a Separated out OS dependent code on reentrant cfg.
  64:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added multiple sector size feature.
  65:Middlewares/Third_Party/FatFs/src/ff.c **** / Jun 21,'09 R0.07c Fixed f_unlink() can return FR_OK on error.
  66:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed wrong cache control in f_lseek().
  67:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added relative path feature.
  68:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added f_chdir() and f_chdrive().
  69:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added proper case conversion to extended character.
  70:Middlewares/Third_Party/FatFs/src/ff.c **** / Nov 03,'09 R0.07e Separated out configuration options from ff.h to ffconf.h.
  71:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_unlink() fails to remove a sub-directory on _FS_RPATH.
  72:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed name matching error on the 13 character boundary.
  73:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added a configuration option, _LFN_UNICODE.
  74:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed f_readdir() to return the SFN with always upper case on non-LFN cfg.
  75:Middlewares/Third_Party/FatFs/src/ff.c **** /
  76:Middlewares/Third_Party/FatFs/src/ff.c **** / May 15,'10 R0.08  Added a memory configuration option. (_USE_LFN = 3)
  77:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added file lock feature. (_FS_SHARE)
  78:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added fast seek feature. (_USE_FASTSEEK)
  79:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed some types on the API, XCHAR->TCHAR.
  80:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed .fname in the FILINFO structure on Unicode cfg.
  81:Middlewares/Third_Party/FatFs/src/ff.c **** /                   String functions support UTF-8 encoding files on Unicode cfg.
  82:Middlewares/Third_Party/FatFs/src/ff.c **** / Aug 16,'10 R0.08a Added f_getcwd().
  83:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added sector erase feature. (_USE_ERASE)
  84:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Moved file lock semaphore table from fs object to the bss.
  85:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed a wrong directory entry is created on non-LFN cfg when the given name con
  86:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mkfs() creates wrong FAT32 volume.
  87:Middlewares/Third_Party/FatFs/src/ff.c **** / Jan 15,'11 R0.08b Fast seek feature is also applied to f_read() and f_write().
  88:Middlewares/Third_Party/FatFs/src/ff.c **** /                   f_lseek() reports required table size on creating CLMP.
  89:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Extended format syntax of f_printf().
ARM GAS  /tmp/cc9KJrYz.s 			page 3


  90:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Ignores duplicated directory separators in given path name.
  91:Middlewares/Third_Party/FatFs/src/ff.c **** /
  92:Middlewares/Third_Party/FatFs/src/ff.c **** / Sep 06,'11 R0.09  f_mkfs() supports multiple partition to complete the multiple partition feature
  93:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added f_fdisk().
  94:Middlewares/Third_Party/FatFs/src/ff.c **** / Aug 27,'12 R0.09a Changed f_open() and f_opendir() reject null object pointer to avoid crash.
  95:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed option name _FS_SHARE to _FS_LOCK.
  96:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed assertion failure due to OS/2 EA on FAT12/16 volume.
  97:Middlewares/Third_Party/FatFs/src/ff.c **** / Jan 24,'13 R0.09b Added f_setlabel() and f_getlabel().
  98:Middlewares/Third_Party/FatFs/src/ff.c **** /
  99:Middlewares/Third_Party/FatFs/src/ff.c **** / Oct 02,'13 R0.10  Added selection of character encoding on the file. (_STRF_ENCODE)
 100:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added f_closedir().
 101:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added forced full FAT scan for f_getfree(). (_FS_NOFSINFO)
 102:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added forced mount feature with changes of f_mount().
 103:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Improved behavior of volume auto detection.
 104:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Improved write throughput of f_puts() and f_printf().
 105:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Changed argument of f_chdrive(), f_mkfs(), disk_read() and disk_write().
 106:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_write() can be truncated when the file size is close to 4GB.
 107:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_open(), f_mkdir() and f_setlabel() can return incorrect error code.
 108:Middlewares/Third_Party/FatFs/src/ff.c **** / Jan 15,'14 R0.10a Added arbitrary strings as drive number in the path name. (_STR_VOLUME_ID)
 109:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Added a configuration option of minimum sector size. (_MIN_SS)
 110:Middlewares/Third_Party/FatFs/src/ff.c **** /                   2nd argument of f_rename() can have a drive number and it will be ignored.
 111:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_mount() with forced mount fails when drive number is >= 1.
 112:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_close() invalidates the file object without volume lock.
 113:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_closedir() returns but the volume lock is left acquired.
 114:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed creation of an entry with LFN fails on too many SFN collisions.
 115:Middlewares/Third_Party/FatFs/src/ff.c **** / May 19,'14 R0.10b Fixed a hard error in the disk I/O layer can collapse the directory entry.
 116:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed LFN entry is not deleted on delete/rename an object with lossy converted 
 117:Middlewares/Third_Party/FatFs/src/ff.c **** / Nov  9,'14 R0.10c Added a configuration option for the platforms without RTC. (_FS_NORTC)
 118:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed volume label created by Mac OS X cannot be retrieved with f_getlabel(). (
 119:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed a potential problem of FAT access that can appear on disk error.
 120:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed null pointer dereference on attempting to delete the root direcotry. (app
 121:Middlewares/Third_Party/FatFs/src/ff.c **** / Feb 02,'15 R0.11  Added f_findfirst() and f_findnext(). (_USE_FIND)
 122:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed f_unlink() does not remove cluster chain of the file. (appeared at R0.10c
 123:Middlewares/Third_Party/FatFs/src/ff.c **** /                   Fixed _FS_NORTC option does not work properly. (appeared at R0.10c)
 124:Middlewares/Third_Party/FatFs/src/ff.c **** /---------------------------------------------------------------------------*/
 125:Middlewares/Third_Party/FatFs/src/ff.c **** 
 126:Middlewares/Third_Party/FatFs/src/ff.c **** #include "ff.h"			/* Declarations of FatFs API */
 127:Middlewares/Third_Party/FatFs/src/ff.c **** #include "diskio.h"		/* Declarations of disk I/O functions */
 128:Middlewares/Third_Party/FatFs/src/ff.c **** 
 129:Middlewares/Third_Party/FatFs/src/ff.c **** 
 130:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 131:Middlewares/Third_Party/FatFs/src/ff.c **** 
 132:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Definitions
 133:Middlewares/Third_Party/FatFs/src/ff.c **** 
 134:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 135:Middlewares/Third_Party/FatFs/src/ff.c **** 
 136:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FATFS != 32020	/* Revision ID */
 137:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong include file (ff.h).
 138:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 139:Middlewares/Third_Party/FatFs/src/ff.c **** 
 140:Middlewares/Third_Party/FatFs/src/ff.c **** 
 141:Middlewares/Third_Party/FatFs/src/ff.c **** /* Reentrancy related */
 142:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 143:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1
 144:Middlewares/Third_Party/FatFs/src/ff.c **** #error Static LFN work area cannot be used at thread-safe configuration
 145:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 146:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)		{ if (!lock_fs(fs)) return FR_TIMEOUT; }
ARM GAS  /tmp/cc9KJrYz.s 			page 4


 147:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LEAVE_FF(fs, res)	{ unlock_fs(fs, res); return res; }
 148:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 149:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ENTER_FF(fs)
 150:Middlewares/Third_Party/FatFs/src/ff.c **** #define LEAVE_FF(fs, res)	return res
 151:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 152:Middlewares/Third_Party/FatFs/src/ff.c **** 
 153:Middlewares/Third_Party/FatFs/src/ff.c **** #define	ABORT(fs, res)		{ fp->err = (BYTE)(res); LEAVE_FF(fs, res); }
 154:Middlewares/Third_Party/FatFs/src/ff.c **** 
 155:Middlewares/Third_Party/FatFs/src/ff.c **** 
 156:Middlewares/Third_Party/FatFs/src/ff.c **** /* Definitions of sector size */
 157:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_MAX_SS < _MIN_SS) || (_MAX_SS != 512 && _MAX_SS != 1024 && _MAX_SS != 2048 && _MAX_SS != 4096
 158:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong sector size configuration
 159:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 160:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS == _MIN_SS
 161:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((UINT)_MAX_SS)	/* Fixed sector size */
 162:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 163:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SS(fs)	((fs)->ssize)	/* Variable sector size */
 164:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 165:Middlewares/Third_Party/FatFs/src/ff.c **** 
 166:Middlewares/Third_Party/FatFs/src/ff.c **** 
 167:Middlewares/Third_Party/FatFs/src/ff.c **** /* Timestamp feature */
 168:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_NORTC == 1
 169:Middlewares/Third_Party/FatFs/src/ff.c **** #if _NORTC_YEAR < 1980 || _NORTC_YEAR > 2107 || _NORTC_MON < 1 || _NORTC_MON > 12 || _NORTC_MDAY < 
 170:Middlewares/Third_Party/FatFs/src/ff.c **** #error Invalid _FS_NORTC settings
 171:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 172:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	((DWORD)(_NORTC_YEAR - 1980) << 25 | (DWORD)_NORTC_MON << 21 | (DWORD)_NORTC_
 173:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 174:Middlewares/Third_Party/FatFs/src/ff.c **** #define GET_FATTIME()	get_fattime()
 175:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 176:Middlewares/Third_Party/FatFs/src/ff.c **** 
 177:Middlewares/Third_Party/FatFs/src/ff.c **** 
 178:Middlewares/Third_Party/FatFs/src/ff.c **** /* File access control feature */
 179:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 180:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_READONLY
 181:Middlewares/Third_Party/FatFs/src/ff.c **** #error _FS_LOCK must be 0 at read-only configuration
 182:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 183:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
 184:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;		/* Object ID 1, volume (NULL:blank entry) */
 185:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clu;		/* Object ID 2, directory (0:root) */
 186:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD idx;		/* Object ID 3, directory index */
 187:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD ctr;		/* Object open counter, 0:none, 0x01..0xFF:read mode open count, 0x100:write mode */
 188:Middlewares/Third_Party/FatFs/src/ff.c **** } FILESEM;
 189:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 190:Middlewares/Third_Party/FatFs/src/ff.c **** 
 191:Middlewares/Third_Party/FatFs/src/ff.c **** 
 192:Middlewares/Third_Party/FatFs/src/ff.c **** 
 193:Middlewares/Third_Party/FatFs/src/ff.c **** /* DBCS code ranges and SBCS extend character conversion table */
 194:Middlewares/Third_Party/FatFs/src/ff.c **** 
 195:Middlewares/Third_Party/FatFs/src/ff.c **** #if _CODE_PAGE == 932	/* Japanese Shift-JIS */
 196:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81	/* DBC 1st byte range 1 start */
 197:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0x9F	/* DBC 1st byte range 1 end */
 198:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2S	0xE0	/* DBC 1st byte range 2 start */
 199:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF2E	0xFC	/* DBC 1st byte range 2 end */
 200:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40	/* DBC 2nd byte range 1 start */
 201:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E	/* DBC 2nd byte range 1 end */
 202:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80	/* DBC 2nd byte range 2 start */
 203:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFC	/* DBC 2nd byte range 2 end */
ARM GAS  /tmp/cc9KJrYz.s 			page 5


 204:Middlewares/Third_Party/FatFs/src/ff.c **** 
 205:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 936	/* Simplified Chinese GBK */
 206:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
 207:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
 208:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
 209:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
 210:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x80
 211:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
 212:Middlewares/Third_Party/FatFs/src/ff.c **** 
 213:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 949	/* Korean */
 214:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
 215:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
 216:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x41
 217:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x5A
 218:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0x61
 219:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0x7A
 220:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3S	0x81
 221:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS3E	0xFE
 222:Middlewares/Third_Party/FatFs/src/ff.c **** 
 223:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 950	/* Traditional Chinese Big5 */
 224:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0x81
 225:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1E	0xFE
 226:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1S	0x40
 227:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS1E	0x7E
 228:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2S	0xA1
 229:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DS2E	0xFE
 230:Middlewares/Third_Party/FatFs/src/ff.c **** 
 231:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 437	/* U.S. (OEM) */
 232:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 233:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0x41,0x8E,0x41,0x8F,0x80,0x45,0x45,0x45,0x49,0x49,0x49,0x8E,0x8F,0x9
 234:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 235:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 236:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 237:Middlewares/Third_Party/FatFs/src/ff.c **** 
 238:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 720	/* Arabic (OEM) */
 239:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 240:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x45,0x41,0x84,0x41,0x86,0x43,0x45,0x45,0x45,0x49,0x49,0x8D,0x8E,0x8F,0x9
 241:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 242:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 243:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 244:Middlewares/Third_Party/FatFs/src/ff.c **** 
 245:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 737	/* Greek (OEM) */
 246:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 247:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 248:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x90,0x91,0xAA,0x92,0x93,0x94,0x95,0x96,0xB0,0xB1,0xB2,
 249:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 250:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x97,0xEA,0xEB,0xEC,0xE4,0xED,0xEE,0xE7,0xE8,0xF1,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 251:Middlewares/Third_Party/FatFs/src/ff.c **** 
 252:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 775	/* Baltic (OEM) */
 253:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 254:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x91,0xA0,0x8E,0x95,0x8F,0x80,0xAD,0xED,0x8A,0x8A,0xA1,0x8D,0x8E,0x8F,0x9
 255:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xE0,0xA3,0xA3,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 256:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xB5,0xB6,0xB7,
 257:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE3,0xE8,0xE8,0xEA,0xEA,0xEE,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 259:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 850	/* Multilingual Latin 1 (OEM) */
 260:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
ARM GAS  /tmp/cc9KJrYz.s 			page 6


 261:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0xDE,0x8E,0x8F,0x9
 262:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 263:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 264:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE7,0xE9,0xEA,0xEB,0xED,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 265:Middlewares/Third_Party/FatFs/src/ff.c **** 
 266:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 852	/* Latin 2 (OEM) */
 267:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 268:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xDE,0x8F,0x80,0x9D,0xD3,0x8A,0x8A,0xD7,0x8D,0x8E,0x8F,0x9
 269:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA4,0xA4,0xA6,0xA6,0xA8,0xA8,0xAA,0x8D,0xAC,0xB8,0xAE,0xAF,0xB0,0xB1,0xB2,
 270:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC6,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD1,0xD1,0xD2,
 271:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE3,0xD5,0xE6,0xE6,0xE8,0xE9,0xE8,0xEB,0xED,0xED,0xDD,0xEF,0xF0,0xF1,0xF2,
 272:Middlewares/Third_Party/FatFs/src/ff.c **** 
 273:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 855	/* Cyrillic (OEM) */
 274:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 275:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x81,0x81,0x83,0x83,0x85,0x85,0x87,0x87,0x89,0x89,0x8B,0x8B,0x8D,0x8D,0x8F,0x8F,0x9
 276:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA1,0xA1,0xA3,0xA3,0xA5,0xA5,0xA7,0xA7,0xA9,0xA9,0xAB,0xAB,0xAD,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 277:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD1,0xD1,0xD3,
 278:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE2,0xE2,0xE4,0xE4,0xE6,0xE6,0xE8,0xE8,0xEA,0xEA,0xEC,0xEC,0xEE,0xEE,0xEF,0xF0,0xF2,0xF2,
 279:Middlewares/Third_Party/FatFs/src/ff.c **** 
 280:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 857	/* Turkish (OEM) */
 281:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 282:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0x98,0x8E,0x8F,0x9
 283:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA6,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 284:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 285:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xDE,0x59,0xEE,0xEF,0xF0,0xF1,0xF2,
 286:Middlewares/Third_Party/FatFs/src/ff.c **** 
 287:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 858	/* Multilingual Latin 1 + Euro (OEM) */
 288:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 289:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x9A,0x90,0xB6,0x8E,0xB7,0x8F,0x80,0xD2,0xD3,0xD4,0xD8,0xD7,0xDE,0x8E,0x8F,0x9
 290:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xB5,0xD6,0xE0,0xE9,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 291:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC7,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD1,0xD1,0xD2,
 292:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE5,0xE5,0xE6,0xE7,0xE7,0xE9,0xEA,0xEB,0xED,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 293:Middlewares/Third_Party/FatFs/src/ff.c **** 
 294:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 862	/* Hebrew (OEM) */
 295:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 296:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 297:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0x49,0x4F,0x55,0xA5,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0x21,0xAE,0xAF,0xB0,0xB1,0xB2,
 298:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 299:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 300:Middlewares/Third_Party/FatFs/src/ff.c **** 
 301:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 866	/* Russian (OEM) */
 302:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 303:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 304:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0xB0,0xB1,0xB2,
 305:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 306:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x90,0x91,0x92,0x93,0x9d,0x95,0x96,0x97,0x98,0x99,0x9A,0x9B,0x9C,0x9D,0x9E,0x9F,0xF0,0xF0,0xF2,
 307:Middlewares/Third_Party/FatFs/src/ff.c **** 
 308:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 874	/* Thai (OEM, Windows) */
 309:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 310:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 311:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 312:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 313:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 314:Middlewares/Third_Party/FatFs/src/ff.c **** 
 315:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1250 /* Central Europe (Windows) */
 316:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 317:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
ARM GAS  /tmp/cc9KJrYz.s 			page 7


 318:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 319:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 320:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 321:Middlewares/Third_Party/FatFs/src/ff.c **** 
 322:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1251 /* Cyrillic (Windows) */
 323:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 324:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x82,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x8
 325:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA2,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 326:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 327:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 328:Middlewares/Third_Party/FatFs/src/ff.c **** 
 329:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1252 /* Latin 1 (Windows) */
 330:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 331:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 332:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0x21,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 333:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 334:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 335:Middlewares/Third_Party/FatFs/src/ff.c **** 
 336:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1253 /* Greek (Windows) */
 337:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 338:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 339:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 340:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 341:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xF2,
 342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 343:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1254 /* Turkish (Windows) */
 344:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 345:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 346:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0x21,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 347:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 348:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 349:Middlewares/Third_Party/FatFs/src/ff.c **** 
 350:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1255 /* Hebrew (Windows) */
 351:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 352:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 353:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0x21,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 354:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 355:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xE0,0xE1,0xE2,0xE3,0xE4,0xE5,0xE6,0xE7,0xE8,0xE9,0xEA,0xEB,0xEC,0xED,0xEE,0xEF,0xF0,0xF1,0xF2,
 356:Middlewares/Third_Party/FatFs/src/ff.c **** 
 357:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1256 /* Arabic (Windows) */
 358:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 359:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 360:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 361:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 362:Middlewares/Third_Party/FatFs/src/ff.c **** 				0x41,0xE1,0x41,0xE3,0xE4,0xE5,0xE6,0x43,0x45,0x45,0x45,0x45,0xEC,0xED,0x49,0x49,0xF0,0xF1,0xF2,
 363:Middlewares/Third_Party/FatFs/src/ff.c **** 
 364:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1257 /* Baltic (Windows) */
 365:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 366:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 367:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0xA1,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
 368:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 369:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 371:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1258 /* Vietnam (OEM, Windows) */
 372:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 373:Middlewares/Third_Party/FatFs/src/ff.c **** #define _EXCVT {0x80,0x81,0x82,0x83,0x84,0x85,0x86,0x87,0x88,0x89,0x8A,0x8B,0x8C,0x8D,0x8E,0x8F,0x9
 374:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xA0,0x21,0xA2,0xA3,0xA4,0xA5,0xA6,0xA7,0xA8,0xA9,0xAA,0xAB,0xAC,0xAD,0xAE,0xAF,0xB0,0xB1,0xB2,
ARM GAS  /tmp/cc9KJrYz.s 			page 8


 375:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xCC,0xCD,0xCE,0xCF,0xD0,0xD1,0xD2,
 376:Middlewares/Third_Party/FatFs/src/ff.c **** 				0xC0,0xC1,0xC2,0xC3,0xC4,0xC5,0xC6,0xC7,0xC8,0xC9,0xCA,0xCB,0xEC,0xCD,0xCE,0xCF,0xD0,0xD1,0xF2,
 377:Middlewares/Third_Party/FatFs/src/ff.c **** 
 378:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _CODE_PAGE == 1	/* ASCII (for only non-LFN cfg) */
 379:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 380:Middlewares/Third_Party/FatFs/src/ff.c **** #error Cannot use LFN feature without valid code page.
 381:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 382:Middlewares/Third_Party/FatFs/src/ff.c **** #define _DF1S	0
 383:Middlewares/Third_Party/FatFs/src/ff.c **** 
 384:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 385:Middlewares/Third_Party/FatFs/src/ff.c **** #error Unknown code page
 386:Middlewares/Third_Party/FatFs/src/ff.c **** 
 387:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 388:Middlewares/Third_Party/FatFs/src/ff.c **** 
 389:Middlewares/Third_Party/FatFs/src/ff.c **** 
 390:Middlewares/Third_Party/FatFs/src/ff.c **** /* Character code support macros */
 391:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsUpper(c)	(((c)>='A')&&((c)<='Z'))
 392:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsLower(c)	(((c)>='a')&&((c)<='z'))
 393:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDigit(c)	(((c)>='0')&&((c)<='9'))
 394:Middlewares/Third_Party/FatFs/src/ff.c **** 
 395:Middlewares/Third_Party/FatFs/src/ff.c **** #if _DF1S		/* Code page is DBCS */
 396:Middlewares/Third_Party/FatFs/src/ff.c **** 
 397:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DF2S	/* Two 1st byte areas */
 398:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	(((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E) || ((BYTE)(c) >= _DF2S && (BYTE)(c) 
 399:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* One 1st byte area */
 400:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	((BYTE)(c) >= _DF1S && (BYTE)(c) <= _DF1E)
 401:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 402:Middlewares/Third_Party/FatFs/src/ff.c **** 
 403:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _DS3S	/* Three 2nd byte areas */
 404:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 405:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Two 2nd byte areas */
 406:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	(((BYTE)(c) >= _DS1S && (BYTE)(c) <= _DS1E) || ((BYTE)(c) >= _DS2S && (BYTE)(c) 
 407:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 408:Middlewares/Third_Party/FatFs/src/ff.c **** 
 409:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Code page is SBCS */
 410:Middlewares/Third_Party/FatFs/src/ff.c **** 
 411:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS1(c)	0
 412:Middlewares/Third_Party/FatFs/src/ff.c **** #define IsDBCS2(c)	0
 413:Middlewares/Third_Party/FatFs/src/ff.c **** 
 414:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _DF1S */
 415:Middlewares/Third_Party/FatFs/src/ff.c **** 
 416:Middlewares/Third_Party/FatFs/src/ff.c **** 
 417:Middlewares/Third_Party/FatFs/src/ff.c **** /* Name status flags */
 418:Middlewares/Third_Party/FatFs/src/ff.c **** #define NSFLAG		11		/* Index of name status byte in fn[] */
 419:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LOSS		0x01	/* Out of 8.3 format */
 420:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LFN		0x02	/* Force to create LFN entry */
 421:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_LAST		0x04	/* Last segment */
 422:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_BODY		0x08	/* Lower case flag (body) */
 423:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_EXT		0x10	/* Lower case flag (ext) */
 424:Middlewares/Third_Party/FatFs/src/ff.c **** #define NS_DOT		0x20	/* Dot entry */
 425:Middlewares/Third_Party/FatFs/src/ff.c **** 
 426:Middlewares/Third_Party/FatFs/src/ff.c **** 
 427:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT sub-type boundaries (Differ from specs but correct for real DOS/Windows) */
 428:Middlewares/Third_Party/FatFs/src/ff.c **** #define MIN_FAT16	4086U	/* Minimum number of clusters as FAT16 */
 429:Middlewares/Third_Party/FatFs/src/ff.c **** #define	MIN_FAT32	65526U	/* Minimum number of clusters as FAT32 */
 430:Middlewares/Third_Party/FatFs/src/ff.c **** 
 431:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9KJrYz.s 			page 9


 432:Middlewares/Third_Party/FatFs/src/ff.c **** /* FatFs refers the members in the FAT structures as byte array instead of
 433:Middlewares/Third_Party/FatFs/src/ff.c **** / structure member because the structure is not binary compatible between
 434:Middlewares/Third_Party/FatFs/src/ff.c **** / different platforms */
 435:Middlewares/Third_Party/FatFs/src/ff.c **** 
 436:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_jmpBoot			0		/* x86 jump instruction (3) */
 437:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_OEMName			3		/* OEM name (8) */
 438:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BytsPerSec		11		/* Sector size [byte] (2) */
 439:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerClus		13		/* Cluster size [sector] (1) */
 440:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RsvdSecCnt		14		/* Size of reserved area [sector] (2) */
 441:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumFATs			16		/* Number of FAT copies (1) */
 442:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootEntCnt		17		/* Number of root directory entries for FAT12/16 (2) */
 443:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec16		19		/* Volume size [sector] (2) */
 444:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_Media			21		/* Media descriptor (1) */
 445:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz16			22		/* FAT size [sector] (2) */
 446:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_SecPerTrk		24		/* Track size [sector] (2) */
 447:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_NumHeads		26		/* Number of heads (2) */
 448:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_HiddSec			28		/* Number of special hidden sectors (4) */
 449:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_TotSec32		32		/* Volume size [sector] (4) */
 450:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum			36		/* Physical drive number (2) */
 451:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig			38		/* Extended boot signature (1) */
 452:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID			39		/* Volume serial number (4) */
 453:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab			43		/* Volume label (8) */
 454:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType		54		/* File system type (1) */
 455:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FATSz32			36		/* FAT size [sector] (4) */
 456:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_ExtFlags		40		/* Extended flags (2) */
 457:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSVer			42		/* File system version (2) */
 458:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_RootClus		44		/* Root directory first cluster (4) */
 459:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_FSInfo			48		/* Offset of FSINFO sector (2) */
 460:Middlewares/Third_Party/FatFs/src/ff.c **** #define BPB_BkBootSec		50		/* Offset of backup boot sector (2) */
 461:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_DrvNum32			64		/* Physical drive number (2) */
 462:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_BootSig32		66		/* Extended boot signature (1) */
 463:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolID32			67		/* Volume serial number (4) */
 464:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_VolLab32			71		/* Volume label (8) */
 465:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_FilSysType32		82		/* File system type (1) */
 466:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_LeadSig			0		/* FSI: Leading signature (4) */
 467:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_StrucSig		484		/* FSI: Structure signature (4) */
 468:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Free_Count		488		/* FSI: Number of free clusters (4) */
 469:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FSI_Nxt_Free		492		/* FSI: Last allocated cluster (4) */
 470:Middlewares/Third_Party/FatFs/src/ff.c **** #define MBR_Table			446		/* MBR: Partition table offset (2) */
 471:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZ_PTE				16		/* MBR: Size of a partition table entry */
 472:Middlewares/Third_Party/FatFs/src/ff.c **** #define BS_55AA				510		/* Signature word (2) */
 473:Middlewares/Third_Party/FatFs/src/ff.c **** 
 474:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Name			0		/* Short file name (11) */
 475:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_Attr			11		/* Attribute (1) */
 476:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_NTres			12		/* Lower case flag (1) */
 477:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_CrtTimeTenth	13		/* Created time sub-second (1) */
 478:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_CrtTime			14		/* Created time (2) */
 479:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_CrtDate			16		/* Created date (2) */
 480:Middlewares/Third_Party/FatFs/src/ff.c **** #define DIR_LstAccDate		18		/* Last accessed date (2) */
 481:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusHI		20		/* Higher 16-bit of first cluster (2) */
 482:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_WrtTime			22		/* Modified time (2) */
 483:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_WrtDate			24		/* Modified date (2) */
 484:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FstClusLO		26		/* Lower 16-bit of first cluster (2) */
 485:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DIR_FileSize		28		/* File size (4) */
 486:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Ord			0		/* LFN entry order and LLE flag (1) */
 487:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Attr			11		/* LFN attribute (1) */
 488:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Type			12		/* LFN type (1) */
ARM GAS  /tmp/cc9KJrYz.s 			page 10


 489:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_Chksum			13		/* Sum of corresponding SFN entry */
 490:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LDIR_FstClusLO		26		/* Must be zero (0) */
 491:Middlewares/Third_Party/FatFs/src/ff.c **** #define	SZ_DIRE				32		/* Size of a directory entry */
 492:Middlewares/Third_Party/FatFs/src/ff.c **** #define	LLEF				0x40	/* Last long entry flag in LDIR_Ord */
 493:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DDEM				0xE5	/* Deleted directory entry mark at DIR_Name[0] */
 494:Middlewares/Third_Party/FatFs/src/ff.c **** #define	RDDEM				0x05	/* Replacement of the character collides with DDEM */
 495:Middlewares/Third_Party/FatFs/src/ff.c **** 
 496:Middlewares/Third_Party/FatFs/src/ff.c **** 
 497:Middlewares/Third_Party/FatFs/src/ff.c **** 
 498:Middlewares/Third_Party/FatFs/src/ff.c **** 
 499:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------*/
 500:Middlewares/Third_Party/FatFs/src/ff.c **** /* Module private work area                                   */
 501:Middlewares/Third_Party/FatFs/src/ff.c **** /*------------------------------------------------------------*/
 502:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remark: Uninitialized variables with static duration are
 503:Middlewares/Third_Party/FatFs/src/ff.c **** /  guaranteed zero/null at start-up. If not, either the linker
 504:Middlewares/Third_Party/FatFs/src/ff.c **** /  or start-up routine being used is out of ANSI-C standard.
 505:Middlewares/Third_Party/FatFs/src/ff.c **** */
 506:Middlewares/Third_Party/FatFs/src/ff.c **** 
 507:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES < 1 || _VOLUMES > 9
 508:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _VOLUMES setting
 509:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 510:Middlewares/Third_Party/FatFs/src/ff.c **** static FATFS *FatFs[_VOLUMES];	/* Pointer to the file system objects (logical drives) */
 511:Middlewares/Third_Party/FatFs/src/ff.c **** static WORD Fsid;				/* File system mount ID */
 512:Middlewares/Third_Party/FatFs/src/ff.c **** 
 513:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH && _VOLUMES >= 2
 514:Middlewares/Third_Party/FatFs/src/ff.c **** static BYTE CurrVol;			/* Current drive */
 515:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 516:Middlewares/Third_Party/FatFs/src/ff.c **** 
 517:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 518:Middlewares/Third_Party/FatFs/src/ff.c **** static FILESEM Files[_FS_LOCK];	/* Open object lock semaphores */
 519:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 520:Middlewares/Third_Party/FatFs/src/ff.c **** 
 521:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 0			/* Non LFN feature */
 522:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEFINE_NAMEBUF		BYTE sfn[12]
 523:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_BUF(dobj)		(dobj).fn = sfn
 524:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_BUF()
 525:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 526:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_LFN < 12 || _MAX_LFN > 255
 527:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _MAX_LFN setting
 528:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 529:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN == 1			/* LFN feature with static working buffer */
 530:Middlewares/Third_Party/FatFs/src/ff.c **** static WCHAR LfnBuf[_MAX_LFN + 1];
 531:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEFINE_NAMEBUF		BYTE sfn[12]
 532:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_BUF(dobj)		{ (dobj).fn = sfn; (dobj).lfn = LfnBuf; }
 533:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_BUF()
 534:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 2 		/* LFN feature with dynamic working buffer on the stack */
 535:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEFINE_NAMEBUF		BYTE sfn[12]; WCHAR lbuf[_MAX_LFN + 1]
 536:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_BUF(dobj)		{ (dobj).fn = sfn; (dobj).lfn = lbuf; }
 537:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_BUF()
 538:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _USE_LFN == 3 		/* LFN feature with dynamic working buffer on the heap */
 539:Middlewares/Third_Party/FatFs/src/ff.c **** #define	DEFINE_NAMEBUF		BYTE sfn[12]; WCHAR *lfn
 540:Middlewares/Third_Party/FatFs/src/ff.c **** #define INIT_BUF(dobj)		{ lfn = ff_memalloc((_MAX_LFN + 1) * 2); if (!lfn) LEAVE_FF((dobj).fs, FR_N
 541:Middlewares/Third_Party/FatFs/src/ff.c **** #define	FREE_BUF()			ff_memfree(lfn)
 542:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 543:Middlewares/Third_Party/FatFs/src/ff.c **** #error Wrong _USE_LFN setting
 544:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 545:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/cc9KJrYz.s 			page 11


 546:Middlewares/Third_Party/FatFs/src/ff.c **** 
 547:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 548:Middlewares/Third_Party/FatFs/src/ff.c **** static const BYTE ExCvt[] = _EXCVT;	/* Upper conversion table for extended characters */
 549:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 550:Middlewares/Third_Party/FatFs/src/ff.c **** 
 551:Middlewares/Third_Party/FatFs/src/ff.c **** 
 552:Middlewares/Third_Party/FatFs/src/ff.c **** 
 553:Middlewares/Third_Party/FatFs/src/ff.c **** 
 554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 555:Middlewares/Third_Party/FatFs/src/ff.c **** 
 556:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
 557:Middlewares/Third_Party/FatFs/src/ff.c **** 
 558:Middlewares/Third_Party/FatFs/src/ff.c ****    Module Private Functions
 559:Middlewares/Third_Party/FatFs/src/ff.c **** 
 560:Middlewares/Third_Party/FatFs/src/ff.c **** ---------------------------------------------------------------------------*/
 561:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clust2sect (FATFS* fs, DWORD clst);
 562:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD get_fat (FATFS* fs,	DWORD clst);
 563:Middlewares/Third_Party/FatFs/src/ff.c **** 
 564:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 565:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT put_fat (FATFS* fs,	DWORD clst,	DWORD val);
 566:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 567:Middlewares/Third_Party/FatFs/src/ff.c **** 
 568:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 569:Middlewares/Third_Party/FatFs/src/ff.c **** static void gen_numname (BYTE* dst, const BYTE* src, const WCHAR* lfn, UINT seq);
 570:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_USE_LFN */
 571:Middlewares/Third_Party/FatFs/src/ff.c **** 
 572:Middlewares/Third_Party/FatFs/src/ff.c **** 
 573:Middlewares/Third_Party/FatFs/src/ff.c **** 
 574:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 575:Middlewares/Third_Party/FatFs/src/ff.c **** /* String functions                                                      */
 576:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 577:Middlewares/Third_Party/FatFs/src/ff.c **** 
 578:Middlewares/Third_Party/FatFs/src/ff.c **** /* Copy memory to memory */
 579:Middlewares/Third_Party/FatFs/src/ff.c **** static
 580:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_cpy (void* dst, const void* src, UINT cnt) {
  27              		.loc 1 580 53 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
 581:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
  32              		.loc 1 581 2 view .LVU1
 582:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *s = (const BYTE*)src;
  33              		.loc 1 582 2 view .LVU2
 583:Middlewares/Third_Party/FatFs/src/ff.c **** 
 584:Middlewares/Third_Party/FatFs/src/ff.c **** #if _WORD_ACCESS == 1
 585:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (cnt >= sizeof (int)) {
 586:Middlewares/Third_Party/FatFs/src/ff.c **** 		*(int*)d = *(int*)s;
 587:Middlewares/Third_Party/FatFs/src/ff.c **** 		d += sizeof (int); s += sizeof (int);
 588:Middlewares/Third_Party/FatFs/src/ff.c **** 		cnt -= sizeof (int);
 589:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 590:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (cnt--)
  34              		.loc 1 591 2 view .LVU3
  35              		.loc 1 591 8 is_stmt 0 view .LVU4
  36 0000 04E0     		b	.L2
  37              	.LVL1:
ARM GAS  /tmp/cc9KJrYz.s 			page 12


  38              	.L3:
 592:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = *s++;
  39              		.loc 1 592 3 is_stmt 1 view .LVU5
  40              		.loc 1 592 10 is_stmt 0 view .LVU6
  41 0002 11F8012B 		ldrb	r2, [r1], #1	@ zero_extendqisi2
  42              	.LVL2:
  43              		.loc 1 592 8 view .LVU7
  44 0006 00F8012B 		strb	r2, [r0], #1
  45              	.LVL3:
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = *s++;
  46              		.loc 1 591 12 view .LVU8
  47 000a 1A46     		mov	r2, r3
  48              	.LVL4:
  49              	.L2:
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = *s++;
  50              		.loc 1 591 8 is_stmt 1 view .LVU9
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = *s++;
  51              		.loc 1 591 12 is_stmt 0 view .LVU10
  52 000c 531E     		subs	r3, r2, #1
  53              	.LVL5:
 591:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = *s++;
  54              		.loc 1 591 8 view .LVU11
  55 000e 002A     		cmp	r2, #0
  56 0010 F7D1     		bne	.L3
 593:Middlewares/Third_Party/FatFs/src/ff.c **** }
  57              		.loc 1 593 1 view .LVU12
  58 0012 7047     		bx	lr
  59              		.cfi_endproc
  60              	.LFE72:
  62              		.section	.text.mem_set,"ax",%progbits
  63              		.align	1
  64              		.syntax unified
  65              		.thumb
  66              		.thumb_func
  67              		.fpu softvfp
  69              	mem_set:
  70              	.LVL6:
  71              	.LFB73:
 594:Middlewares/Third_Party/FatFs/src/ff.c **** 
 595:Middlewares/Third_Party/FatFs/src/ff.c **** /* Fill memory */
 596:Middlewares/Third_Party/FatFs/src/ff.c **** static
 597:Middlewares/Third_Party/FatFs/src/ff.c **** void mem_set (void* dst, int val, UINT cnt) {
  72              		.loc 1 597 45 is_stmt 1 view -0
  73              		.cfi_startproc
  74              		@ args = 0, pretend = 0, frame = 0
  75              		@ frame_needed = 0, uses_anonymous_args = 0
  76              		@ link register save eliminated.
 598:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *d = (BYTE*)dst;
  77              		.loc 1 598 2 view .LVU14
 599:Middlewares/Third_Party/FatFs/src/ff.c **** 
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (cnt--)
  78              		.loc 1 600 2 view .LVU15
  79              		.loc 1 600 8 is_stmt 0 view .LVU16
  80 0000 02E0     		b	.L5
  81              	.LVL7:
  82              	.L6:
 601:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
ARM GAS  /tmp/cc9KJrYz.s 			page 13


  83              		.loc 1 601 3 is_stmt 1 view .LVU17
  84              		.loc 1 601 8 is_stmt 0 view .LVU18
  85 0002 00F8011B 		strb	r1, [r0], #1
  86              	.LVL8:
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
  87              		.loc 1 600 12 view .LVU19
  88 0006 1A46     		mov	r2, r3
  89              	.LVL9:
  90              	.L5:
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
  91              		.loc 1 600 8 is_stmt 1 view .LVU20
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
  92              		.loc 1 600 12 is_stmt 0 view .LVU21
  93 0008 531E     		subs	r3, r2, #1
  94              	.LVL10:
 600:Middlewares/Third_Party/FatFs/src/ff.c **** 		*d++ = (BYTE)val;
  95              		.loc 1 600 8 view .LVU22
  96 000a 002A     		cmp	r2, #0
  97 000c F9D1     		bne	.L6
 602:Middlewares/Third_Party/FatFs/src/ff.c **** }
  98              		.loc 1 602 1 view .LVU23
  99 000e 7047     		bx	lr
 100              		.cfi_endproc
 101              	.LFE73:
 103              		.section	.text.mem_cmp,"ax",%progbits
 104              		.align	1
 105              		.syntax unified
 106              		.thumb
 107              		.thumb_func
 108              		.fpu softvfp
 110              	mem_cmp:
 111              	.LVL11:
 112              	.LFB74:
 603:Middlewares/Third_Party/FatFs/src/ff.c **** 
 604:Middlewares/Third_Party/FatFs/src/ff.c **** /* Compare memory to memory */
 605:Middlewares/Third_Party/FatFs/src/ff.c **** static
 606:Middlewares/Third_Party/FatFs/src/ff.c **** int mem_cmp (const void* dst, const void* src, UINT cnt) {
 113              		.loc 1 606 58 is_stmt 1 view -0
 114              		.cfi_startproc
 115              		@ args = 0, pretend = 0, frame = 0
 116              		@ frame_needed = 0, uses_anonymous_args = 0
 117              		@ link register save eliminated.
 118              		.loc 1 606 58 is_stmt 0 view .LVU25
 119 0000 10B4     		push	{r4}
 120              	.LCFI0:
 121              		.cfi_def_cfa_offset 4
 122              		.cfi_offset 4, -4
 123 0002 0346     		mov	r3, r0
 607:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *d = (const BYTE *)dst, *s = (const BYTE *)src;
 124              		.loc 1 607 2 is_stmt 1 view .LVU26
 125              	.LVL12:
 608:Middlewares/Third_Party/FatFs/src/ff.c **** 	int r = 0;
 126              		.loc 1 608 2 view .LVU27
 609:Middlewares/Third_Party/FatFs/src/ff.c **** 
 610:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (cnt-- && (r = *d++ - *s++) == 0) ;
 127              		.loc 1 610 2 view .LVU28
 608:Middlewares/Third_Party/FatFs/src/ff.c **** 	int r = 0;
ARM GAS  /tmp/cc9KJrYz.s 			page 14


 128              		.loc 1 608 6 is_stmt 0 view .LVU29
 129 0004 0020     		movs	r0, #0
 130              	.LVL13:
 131              	.L9:
 132              		.loc 1 610 42 is_stmt 1 discriminator 2 view .LVU30
 133              		.loc 1 610 8 discriminator 2 view .LVU31
 134 0006 1446     		mov	r4, r2
 135              		.loc 1 610 12 is_stmt 0 discriminator 2 view .LVU32
 136 0008 013A     		subs	r2, r2, #1
 137              	.LVL14:
 138              		.loc 1 610 8 discriminator 2 view .LVU33
 139 000a 34B1     		cbz	r4, .L7
 140              	.LVL15:
 141              		.loc 1 610 23 discriminator 1 view .LVU34
 142 000c 13F8010B 		ldrb	r0, [r3], #1	@ zero_extendqisi2
 143              	.LVL16:
 144              		.loc 1 610 30 discriminator 1 view .LVU35
 145 0010 11F801CB 		ldrb	ip, [r1], #1	@ zero_extendqisi2
 146              	.LVL17:
 147              		.loc 1 610 15 discriminator 1 view .LVU36
 148 0014 B0EB0C00 		subs	r0, r0, ip
 149              	.LVL18:
 150              		.loc 1 610 15 discriminator 1 view .LVU37
 151 0018 F5D0     		beq	.L9
 152              	.LVL19:
 153              	.L7:
 611:Middlewares/Third_Party/FatFs/src/ff.c **** 	return r;
 612:Middlewares/Third_Party/FatFs/src/ff.c **** }
 154              		.loc 1 612 1 view .LVU38
 155 001a 10BC     		pop	{r4}
 156              	.LCFI1:
 157              		.cfi_restore 4
 158              		.cfi_def_cfa_offset 0
 159 001c 7047     		bx	lr
 160              		.cfi_endproc
 161              	.LFE74:
 163              		.section	.text.chk_chr,"ax",%progbits
 164              		.align	1
 165              		.syntax unified
 166              		.thumb
 167              		.thumb_func
 168              		.fpu softvfp
 170              	chk_chr:
 171              	.LVL20:
 172              	.LFB75:
 613:Middlewares/Third_Party/FatFs/src/ff.c **** 
 614:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if chr is contained in the string */
 615:Middlewares/Third_Party/FatFs/src/ff.c **** static
 616:Middlewares/Third_Party/FatFs/src/ff.c **** int chk_chr (const char* str, int chr) {
 173              		.loc 1 616 40 is_stmt 1 view -0
 174              		.cfi_startproc
 175              		@ args = 0, pretend = 0, frame = 0
 176              		@ frame_needed = 0, uses_anonymous_args = 0
 177              		@ link register save eliminated.
 178              		.loc 1 616 40 is_stmt 0 view .LVU40
 179 0000 0346     		mov	r3, r0
 617:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str && *str != chr) str++;
ARM GAS  /tmp/cc9KJrYz.s 			page 15


 180              		.loc 1 617 2 is_stmt 1 view .LVU41
 181              		.loc 1 617 8 is_stmt 0 view .LVU42
 182 0002 00E0     		b	.L13
 183              	.LVL21:
 184              	.L15:
 185              		.loc 1 617 30 is_stmt 1 discriminator 3 view .LVU43
 186              		.loc 1 617 33 is_stmt 0 discriminator 3 view .LVU44
 187 0004 0133     		adds	r3, r3, #1
 188              	.LVL22:
 189              	.L13:
 190              		.loc 1 617 8 is_stmt 1 discriminator 1 view .LVU45
 191              		.loc 1 617 9 is_stmt 0 discriminator 1 view .LVU46
 192 0006 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 193              		.loc 1 617 8 discriminator 1 view .LVU47
 194 0008 08B1     		cbz	r0, .L14
 195              		.loc 1 617 14 discriminator 2 view .LVU48
 196 000a 8842     		cmp	r0, r1
 197 000c FAD1     		bne	.L15
 198              	.L14:
 618:Middlewares/Third_Party/FatFs/src/ff.c **** 	return *str;
 199              		.loc 1 618 2 is_stmt 1 view .LVU49
 619:Middlewares/Third_Party/FatFs/src/ff.c **** }
 200              		.loc 1 619 1 is_stmt 0 view .LVU50
 201 000e 7047     		bx	lr
 202              		.cfi_endproc
 203              	.LFE75:
 205              		.section	.text.chk_lock,"ax",%progbits
 206              		.align	1
 207              		.syntax unified
 208              		.thumb
 209              		.thumb_func
 210              		.fpu softvfp
 212              	chk_lock:
 213              	.LVL23:
 214              	.LFB76:
 620:Middlewares/Third_Party/FatFs/src/ff.c **** 
 621:Middlewares/Third_Party/FatFs/src/ff.c **** 
 622:Middlewares/Third_Party/FatFs/src/ff.c **** 
 623:Middlewares/Third_Party/FatFs/src/ff.c **** 
 624:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 625:Middlewares/Third_Party/FatFs/src/ff.c **** /* Request/Release grant to access the volume                            */
 626:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 627:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 628:Middlewares/Third_Party/FatFs/src/ff.c **** static
 629:Middlewares/Third_Party/FatFs/src/ff.c **** int lock_fs (
 630:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 631:Middlewares/Third_Party/FatFs/src/ff.c **** )
 632:Middlewares/Third_Party/FatFs/src/ff.c **** {
 633:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ff_req_grant(fs->sobj);
 634:Middlewares/Third_Party/FatFs/src/ff.c **** }
 635:Middlewares/Third_Party/FatFs/src/ff.c **** 
 636:Middlewares/Third_Party/FatFs/src/ff.c **** 
 637:Middlewares/Third_Party/FatFs/src/ff.c **** static
 638:Middlewares/Third_Party/FatFs/src/ff.c **** void unlock_fs (
 639:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 640:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res		/* Result code to be returned */
 641:Middlewares/Third_Party/FatFs/src/ff.c **** )
ARM GAS  /tmp/cc9KJrYz.s 			page 16


 642:Middlewares/Third_Party/FatFs/src/ff.c **** {
 643:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs &&
 644:Middlewares/Third_Party/FatFs/src/ff.c **** 		res != FR_NOT_ENABLED &&
 645:Middlewares/Third_Party/FatFs/src/ff.c **** 		res != FR_INVALID_DRIVE &&
 646:Middlewares/Third_Party/FatFs/src/ff.c **** 		res != FR_INVALID_OBJECT &&
 647:Middlewares/Third_Party/FatFs/src/ff.c **** 		res != FR_TIMEOUT) {
 648:Middlewares/Third_Party/FatFs/src/ff.c **** 		ff_rel_grant(fs->sobj);
 649:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 650:Middlewares/Third_Party/FatFs/src/ff.c **** }
 651:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 652:Middlewares/Third_Party/FatFs/src/ff.c **** 
 653:Middlewares/Third_Party/FatFs/src/ff.c **** 
 654:Middlewares/Third_Party/FatFs/src/ff.c **** 
 655:Middlewares/Third_Party/FatFs/src/ff.c **** 
 656:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 657:Middlewares/Third_Party/FatFs/src/ff.c **** /* File lock control functions                                           */
 658:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 659:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 660:Middlewares/Third_Party/FatFs/src/ff.c **** 
 661:Middlewares/Third_Party/FatFs/src/ff.c **** static
 662:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT chk_lock (	/* Check if the file can be accessed */
 663:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Directory object pointing the file to be checked */
 664:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc			/* Desired access type (0:Read, 1:Write, 2:Delete/Rename) */
 665:Middlewares/Third_Party/FatFs/src/ff.c **** )
 666:Middlewares/Third_Party/FatFs/src/ff.c **** {
 215              		.loc 1 666 1 is_stmt 1 view -0
 216              		.cfi_startproc
 217              		@ args = 0, pretend = 0, frame = 0
 218              		@ frame_needed = 0, uses_anonymous_args = 0
 219              		@ link register save eliminated.
 220              		.loc 1 666 1 is_stmt 0 view .LVU52
 221 0000 30B4     		push	{r4, r5}
 222              	.LCFI2:
 223              		.cfi_def_cfa_offset 8
 224              		.cfi_offset 4, -8
 225              		.cfi_offset 5, -4
 667:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, be;
 226              		.loc 1 667 2 is_stmt 1 view .LVU53
 668:Middlewares/Third_Party/FatFs/src/ff.c **** 
 669:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Search file semaphore table */
 670:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = be = 0; i < _FS_LOCK; i++) {
 227              		.loc 1 670 2 view .LVU54
 228              	.LVL24:
 229              		.loc 1 670 14 is_stmt 0 view .LVU55
 230 0002 0025     		movs	r5, #0
 231              		.loc 1 670 9 view .LVU56
 232 0004 2B46     		mov	r3, r5
 233              		.loc 1 670 2 view .LVU57
 234 0006 01E0     		b	.L17
 235              	.LVL25:
 236              	.L24:
 671:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 672:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (Files[i].fs == dp->fs &&	 	/* Check if the object matched with an open object */
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->sclust &&
 674:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].idx == dp->index) break;
 675:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 676:Middlewares/Third_Party/FatFs/src/ff.c **** 			be = 1;
ARM GAS  /tmp/cc9KJrYz.s 			page 17


 237              		.loc 1 676 7 view .LVU58
 238 0008 0125     		movs	r5, #1
 239              	.LVL26:
 240              	.L18:
 670:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 241              		.loc 1 670 33 is_stmt 1 discriminator 2 view .LVU59
 670:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 242              		.loc 1 670 34 is_stmt 0 discriminator 2 view .LVU60
 243 000a 0133     		adds	r3, r3, #1
 244              	.LVL27:
 245              	.L17:
 670:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 246              		.loc 1 670 19 is_stmt 1 discriminator 1 view .LVU61
 670:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 247              		.loc 1 670 2 is_stmt 0 discriminator 1 view .LVU62
 248 000c 032B     		cmp	r3, #3
 249 000e 21D8     		bhi	.L19
 671:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 250              		.loc 1 671 3 is_stmt 1 view .LVU63
 671:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 251              		.loc 1 671 15 is_stmt 0 view .LVU64
 252 0010 03EB4302 		add	r2, r3, r3, lsl #1
 253 0014 1D4C     		ldr	r4, .L33
 254 0016 54F82220 		ldr	r2, [r4, r2, lsl #2]
 671:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs) {	/* Existing entry */
 255              		.loc 1 671 6 view .LVU65
 256 001a 002A     		cmp	r2, #0
 257 001c F4D0     		beq	.L24
 672:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->sclust &&
 258              		.loc 1 672 4 is_stmt 1 view .LVU66
 672:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->sclust &&
 259              		.loc 1 672 25 is_stmt 0 view .LVU67
 260 001e 00F58054 		add	r4, r0, #4096
 261 0022 2468     		ldr	r4, [r4]
 672:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->sclust &&
 262              		.loc 1 672 7 view .LVU68
 263 0024 A242     		cmp	r2, r4
 264 0026 F0D1     		bne	.L18
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].idx == dp->index) break;
 265              		.loc 1 673 13 discriminator 1 view .LVU69
 266 0028 03EB4302 		add	r2, r3, r3, lsl #1
 267 002c 174C     		ldr	r4, .L33
 268 002e 04EB8202 		add	r2, r4, r2, lsl #2
 269 0032 5468     		ldr	r4, [r2, #4]
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].idx == dp->index) break;
 270              		.loc 1 673 23 discriminator 1 view .LVU70
 271 0034 00F58052 		add	r2, r0, #4096
 272 0038 9268     		ldr	r2, [r2, #8]
 672:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].clu == dp->sclust &&
 273              		.loc 1 672 30 discriminator 1 view .LVU71
 274 003a 9442     		cmp	r4, r2
 275 003c E5D1     		bne	.L18
 674:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 276              		.loc 1 674 13 view .LVU72
 277 003e 03EB4302 		add	r2, r3, r3, lsl #1
 278 0042 124C     		ldr	r4, .L33
 279 0044 04EB8202 		add	r2, r4, r2, lsl #2
ARM GAS  /tmp/cc9KJrYz.s 			page 18


 280 0048 1489     		ldrh	r4, [r2, #8]
 674:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {			/* Blank entry */
 281              		.loc 1 674 23 view .LVU73
 282 004a 00F58052 		add	r2, r0, #4096
 283 004e D288     		ldrh	r2, [r2, #6]
 673:Middlewares/Third_Party/FatFs/src/ff.c **** 				Files[i].idx == dp->index) break;
 284              		.loc 1 673 32 view .LVU74
 285 0050 9442     		cmp	r4, r2
 286 0052 DAD1     		bne	.L18
 287              	.L19:
 677:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 678:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 679:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK)	/* The object is not opened */
 288              		.loc 1 679 2 is_stmt 1 view .LVU75
 289              		.loc 1 679 5 is_stmt 0 view .LVU76
 290 0054 042B     		cmp	r3, #4
 291 0056 0CD0     		beq	.L30
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 681:Middlewares/Third_Party/FatFs/src/ff.c **** 
 682:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The object has been opened. Reject any open against writing file and all write mode open */
 683:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (acc || Files[i].ctr == 0x100) ? FR_LOCKED : FR_OK;
 292              		.loc 1 683 2 is_stmt 1 view .LVU77
 293              		.loc 1 683 52 is_stmt 0 view .LVU78
 294 0058 B1B9     		cbnz	r1, .L27
 295              		.loc 1 683 25 discriminator 2 view .LVU79
 296 005a 03EB4303 		add	r3, r3, r3, lsl #1
 297              	.LVL28:
 298              		.loc 1 683 25 discriminator 2 view .LVU80
 299 005e 0B4A     		ldr	r2, .L33
 300 0060 02EB8303 		add	r3, r2, r3, lsl #2
 301 0064 5B89     		ldrh	r3, [r3, #10]
 302              		.loc 1 683 14 discriminator 2 view .LVU81
 303 0066 B3F5807F 		cmp	r3, #256
 304 006a 0BD0     		beq	.L31
 305              		.loc 1 683 52 view .LVU82
 306 006c 0020     		movs	r0, #0
 307              	.LVL29:
 308              	.L23:
 684:Middlewares/Third_Party/FatFs/src/ff.c **** }
 309              		.loc 1 684 1 view .LVU83
 310 006e 30BC     		pop	{r4, r5}
 311              	.LCFI3:
 312              		.cfi_remember_state
 313              		.cfi_restore 5
 314              		.cfi_restore 4
 315              		.cfi_def_cfa_offset 0
 316              	.LVL30:
 317              		.loc 1 684 1 view .LVU84
 318 0070 7047     		bx	lr
 319              	.LVL31:
 320              	.L30:
 321              	.LCFI4:
 322              		.cfi_restore_state
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 323              		.loc 1 680 3 is_stmt 1 view .LVU85
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 324              		.loc 1 680 35 is_stmt 0 view .LVU86
ARM GAS  /tmp/cc9KJrYz.s 			page 19


 325 0072 2DB9     		cbnz	r5, .L25
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 326              		.loc 1 680 14 discriminator 2 view .LVU87
 327 0074 0229     		cmp	r1, #2
 328 0076 01D0     		beq	.L32
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 329              		.loc 1 680 35 view .LVU88
 330 0078 1220     		movs	r0, #18
 331              	.LVL32:
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 332              		.loc 1 680 35 view .LVU89
 333 007a F8E7     		b	.L23
 334              	.LVL33:
 335              	.L32:
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 336              		.loc 1 680 35 view .LVU90
 337 007c 0020     		movs	r0, #0
 338              	.LVL34:
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 339              		.loc 1 680 35 view .LVU91
 340 007e F6E7     		b	.L23
 341              	.LVL35:
 342              	.L25:
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 343              		.loc 1 680 35 view .LVU92
 344 0080 0020     		movs	r0, #0
 345              	.LVL36:
 680:Middlewares/Third_Party/FatFs/src/ff.c **** 		return (be || acc == 2) ? FR_OK : FR_TOO_MANY_OPEN_FILES;	/* Is there a blank entry for new objec
 346              		.loc 1 680 35 view .LVU93
 347 0082 F4E7     		b	.L23
 348              	.LVL37:
 349              	.L31:
 683:Middlewares/Third_Party/FatFs/src/ff.c **** }
 350              		.loc 1 683 52 view .LVU94
 351 0084 1020     		movs	r0, #16
 352              	.LVL38:
 683:Middlewares/Third_Party/FatFs/src/ff.c **** }
 353              		.loc 1 683 52 view .LVU95
 354 0086 F2E7     		b	.L23
 355              	.LVL39:
 356              	.L27:
 683:Middlewares/Third_Party/FatFs/src/ff.c **** }
 357              		.loc 1 683 52 view .LVU96
 358 0088 1020     		movs	r0, #16
 359              	.LVL40:
 683:Middlewares/Third_Party/FatFs/src/ff.c **** }
 360              		.loc 1 683 52 view .LVU97
 361 008a F0E7     		b	.L23
 362              	.L34:
 363              		.align	2
 364              	.L33:
 365 008c 00000000 		.word	.LANCHOR0
 366              		.cfi_endproc
 367              	.LFE76:
 369              		.section	.text.enq_lock,"ax",%progbits
 370              		.align	1
 371              		.syntax unified
ARM GAS  /tmp/cc9KJrYz.s 			page 20


 372              		.thumb
 373              		.thumb_func
 374              		.fpu softvfp
 376              	enq_lock:
 377              	.LFB77:
 685:Middlewares/Third_Party/FatFs/src/ff.c **** 
 686:Middlewares/Third_Party/FatFs/src/ff.c **** 
 687:Middlewares/Third_Party/FatFs/src/ff.c **** static
 688:Middlewares/Third_Party/FatFs/src/ff.c **** int enq_lock (void)	/* Check if an entry is available for a new object */
 689:Middlewares/Third_Party/FatFs/src/ff.c **** {
 378              		.loc 1 689 1 is_stmt 1 view -0
 379              		.cfi_startproc
 380              		@ args = 0, pretend = 0, frame = 0
 381              		@ frame_needed = 0, uses_anonymous_args = 0
 382              		@ link register save eliminated.
 690:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 383              		.loc 1 690 2 view .LVU99
 691:Middlewares/Third_Party/FatFs/src/ff.c **** 
 692:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 384              		.loc 1 692 2 view .LVU100
 385              	.LVL41:
 386              		.loc 1 692 9 is_stmt 0 view .LVU101
 387 0000 0020     		movs	r0, #0
 388              		.loc 1 692 2 view .LVU102
 389 0002 00E0     		b	.L36
 390              	.LVL42:
 391              	.L38:
 392              		.loc 1 692 48 is_stmt 1 discriminator 4 view .LVU103
 393              		.loc 1 692 43 discriminator 4 view .LVU104
 394              		.loc 1 692 44 is_stmt 0 discriminator 4 view .LVU105
 395 0004 0130     		adds	r0, r0, #1
 396              	.LVL43:
 397              	.L36:
 398              		.loc 1 692 14 is_stmt 1 discriminator 1 view .LVU106
 399              		.loc 1 692 2 is_stmt 0 discriminator 1 view .LVU107
 400 0006 0328     		cmp	r0, #3
 401 0008 06D8     		bhi	.L37
 402              		.loc 1 692 38 discriminator 3 view .LVU108
 403 000a 00EB4002 		add	r2, r0, r0, lsl #1
 404 000e 9300     		lsls	r3, r2, #2
 405 0010 034A     		ldr	r2, .L39
 406 0012 D358     		ldr	r3, [r2, r3]
 407              		.loc 1 692 27 discriminator 3 view .LVU109
 408 0014 002B     		cmp	r3, #0
 409 0016 F5D1     		bne	.L38
 410              	.L37:
 693:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (i == _FS_LOCK) ? 0 : 1;
 411              		.loc 1 693 2 is_stmt 1 view .LVU110
 694:Middlewares/Third_Party/FatFs/src/ff.c **** }
 412              		.loc 1 694 1 is_stmt 0 view .LVU111
 413 0018 0438     		subs	r0, r0, #4
 414              	.LVL44:
 415              		.loc 1 694 1 view .LVU112
 416 001a 18BF     		it	ne
 417 001c 0120     		movne	r0, #1
 418              	.LVL45:
 419              		.loc 1 694 1 view .LVU113
ARM GAS  /tmp/cc9KJrYz.s 			page 21


 420 001e 7047     		bx	lr
 421              	.L40:
 422              		.align	2
 423              	.L39:
 424 0020 00000000 		.word	.LANCHOR0
 425              		.cfi_endproc
 426              	.LFE77:
 428              		.section	.text.inc_lock,"ax",%progbits
 429              		.align	1
 430              		.syntax unified
 431              		.thumb
 432              		.thumb_func
 433              		.fpu softvfp
 435              	inc_lock:
 436              	.LVL46:
 437              	.LFB78:
 695:Middlewares/Third_Party/FatFs/src/ff.c **** 
 696:Middlewares/Third_Party/FatFs/src/ff.c **** 
 697:Middlewares/Third_Party/FatFs/src/ff.c **** static
 698:Middlewares/Third_Party/FatFs/src/ff.c **** UINT inc_lock (	/* Increment object open counter and returns its index (0:Internal error) */
 699:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,	/* Directory object pointing the file to register or increment */
 700:Middlewares/Third_Party/FatFs/src/ff.c **** 	int acc		/* Desired access (0:Read, 1:Write, 2:Delete/Rename) */
 701:Middlewares/Third_Party/FatFs/src/ff.c **** )
 702:Middlewares/Third_Party/FatFs/src/ff.c **** {
 438              		.loc 1 702 1 is_stmt 1 view -0
 439              		.cfi_startproc
 440              		@ args = 0, pretend = 0, frame = 0
 441              		@ frame_needed = 0, uses_anonymous_args = 0
 442              		.loc 1 702 1 is_stmt 0 view .LVU115
 443 0000 10B5     		push	{r4, lr}
 444              	.LCFI5:
 445              		.cfi_def_cfa_offset 8
 446              		.cfi_offset 4, -8
 447              		.cfi_offset 14, -4
 703:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 448              		.loc 1 703 2 is_stmt 1 view .LVU116
 704:Middlewares/Third_Party/FatFs/src/ff.c **** 
 705:Middlewares/Third_Party/FatFs/src/ff.c **** 
 706:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {	/* Find the object */
 449              		.loc 1 706 2 view .LVU117
 450              	.LVL47:
 451              		.loc 1 706 9 is_stmt 0 view .LVU118
 452 0002 0023     		movs	r3, #0
 453              		.loc 1 706 2 view .LVU119
 454 0004 00E0     		b	.L42
 455              	.LVL48:
 456              	.L43:
 457              		.loc 1 706 28 is_stmt 1 discriminator 2 view .LVU120
 458              		.loc 1 706 29 is_stmt 0 discriminator 2 view .LVU121
 459 0006 0133     		adds	r3, r3, #1
 460              	.LVL49:
 461              	.L42:
 462              		.loc 1 706 14 is_stmt 1 discriminator 1 view .LVU122
 463              		.loc 1 706 2 is_stmt 0 discriminator 1 view .LVU123
 464 0008 032B     		cmp	r3, #3
 465 000a 1FD8     		bhi	.L44
 707:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->fs &&
ARM GAS  /tmp/cc9KJrYz.s 			page 22


 466              		.loc 1 707 3 is_stmt 1 view .LVU124
 467              		.loc 1 707 15 is_stmt 0 view .LVU125
 468 000c 03EB4302 		add	r2, r3, r3, lsl #1
 469 0010 304C     		ldr	r4, .L59
 470 0012 54F82240 		ldr	r4, [r4, r2, lsl #2]
 471              		.loc 1 707 24 view .LVU126
 472 0016 00F58052 		add	r2, r0, #4096
 473 001a 1268     		ldr	r2, [r2]
 474              		.loc 1 707 6 view .LVU127
 475 001c 9442     		cmp	r4, r2
 476 001e F2D1     		bne	.L43
 708:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->sclust &&
 477              		.loc 1 708 12 discriminator 1 view .LVU128
 478 0020 03EB4302 		add	r2, r3, r3, lsl #1
 479 0024 2B4C     		ldr	r4, .L59
 480 0026 04EB8202 		add	r2, r4, r2, lsl #2
 481 002a 5468     		ldr	r4, [r2, #4]
 482              		.loc 1 708 22 discriminator 1 view .LVU129
 483 002c 00F58052 		add	r2, r0, #4096
 484 0030 9268     		ldr	r2, [r2, #8]
 707:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == dp->fs &&
 485              		.loc 1 707 29 discriminator 1 view .LVU130
 486 0032 9442     		cmp	r4, r2
 487 0034 E7D1     		bne	.L43
 709:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].idx == dp->index) break;
 488              		.loc 1 709 12 view .LVU131
 489 0036 03EB4302 		add	r2, r3, r3, lsl #1
 490 003a 264C     		ldr	r4, .L59
 491 003c 04EB8202 		add	r2, r4, r2, lsl #2
 492 0040 1489     		ldrh	r4, [r2, #8]
 493              		.loc 1 709 22 view .LVU132
 494 0042 00F58052 		add	r2, r0, #4096
 495 0046 D288     		ldrh	r2, [r2, #6]
 708:Middlewares/Third_Party/FatFs/src/ff.c **** 			Files[i].clu == dp->sclust &&
 496              		.loc 1 708 31 view .LVU133
 497 0048 9442     		cmp	r4, r2
 498 004a DCD1     		bne	.L43
 499              	.L44:
 710:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 711:Middlewares/Third_Party/FatFs/src/ff.c **** 
 712:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i == _FS_LOCK) {				/* Not opened. Register it as new. */
 500              		.loc 1 712 2 is_stmt 1 view .LVU134
 501              		.loc 1 712 5 is_stmt 0 view .LVU135
 502 004c 042B     		cmp	r3, #4
 503 004e 37D0     		beq	.L58
 504              	.LVL50:
 505              	.L47:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < _FS_LOCK && Files[i].fs; i++) ;
 714:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 715:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->fs;
 716:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->sclust;
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].idx = dp->index;
 718:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 719:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 720:Middlewares/Third_Party/FatFs/src/ff.c **** 
 721:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (acc && Files[i].ctr) return 0;	/* Access violation (int err) */
 506              		.loc 1 721 2 is_stmt 1 view .LVU136
ARM GAS  /tmp/cc9KJrYz.s 			page 23


 507              		.loc 1 721 5 is_stmt 0 view .LVU137
 508 0050 39B1     		cbz	r1, .L51
 509              		.loc 1 721 21 discriminator 1 view .LVU138
 510 0052 03EB4302 		add	r2, r3, r3, lsl #1
 511 0056 1F48     		ldr	r0, .L59
 512 0058 00EB8202 		add	r2, r0, r2, lsl #2
 513 005c 5289     		ldrh	r2, [r2, #10]
 514              		.loc 1 721 10 discriminator 1 view .LVU139
 515 005e 002A     		cmp	r2, #0
 516 0060 35D1     		bne	.L55
 517              	.L51:
 722:Middlewares/Third_Party/FatFs/src/ff.c **** 
 723:Middlewares/Third_Party/FatFs/src/ff.c **** 	Files[i].ctr = acc ? 0x100 : Files[i].ctr + 1;	/* Set semaphore value */
 518              		.loc 1 723 2 is_stmt 1 view .LVU140
 519              		.loc 1 723 15 is_stmt 0 view .LVU141
 520 0062 79BB     		cbnz	r1, .L56
 521              		.loc 1 723 39 discriminator 1 view .LVU142
 522 0064 03EB4302 		add	r2, r3, r3, lsl #1
 523 0068 1A49     		ldr	r1, .L59
 524              	.LVL51:
 525              		.loc 1 723 39 discriminator 1 view .LVU143
 526 006a 01EB8202 		add	r2, r1, r2, lsl #2
 527 006e 5189     		ldrh	r1, [r2, #10]
 528              		.loc 1 723 15 discriminator 1 view .LVU144
 529 0070 0131     		adds	r1, r1, #1
 530 0072 89B2     		uxth	r1, r1
 531              	.L52:
 532              		.loc 1 723 15 discriminator 4 view .LVU145
 533 0074 03EB4300 		add	r0, r3, r3, lsl #1
 534 0078 164A     		ldr	r2, .L59
 535 007a 02EB8002 		add	r2, r2, r0, lsl #2
 536 007e 5181     		strh	r1, [r2, #10]	@ movhi
 724:Middlewares/Third_Party/FatFs/src/ff.c **** 
 725:Middlewares/Third_Party/FatFs/src/ff.c **** 	return i + 1;
 537              		.loc 1 725 2 is_stmt 1 discriminator 4 view .LVU146
 538              		.loc 1 725 11 is_stmt 0 discriminator 4 view .LVU147
 539 0080 581C     		adds	r0, r3, #1
 540              	.L41:
 726:Middlewares/Third_Party/FatFs/src/ff.c **** }
 541              		.loc 1 726 1 view .LVU148
 542 0082 10BD     		pop	{r4, pc}
 543              	.LVL52:
 544              	.L49:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 545              		.loc 1 713 49 is_stmt 1 discriminator 4 view .LVU149
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 546              		.loc 1 713 44 discriminator 4 view .LVU150
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 547              		.loc 1 713 45 is_stmt 0 discriminator 4 view .LVU151
 548 0084 0133     		adds	r3, r3, #1
 549              	.LVL53:
 550              	.L46:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 551              		.loc 1 713 15 is_stmt 1 discriminator 1 view .LVU152
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 552              		.loc 1 713 3 is_stmt 0 discriminator 1 view .LVU153
 553 0086 032B     		cmp	r3, #3
ARM GAS  /tmp/cc9KJrYz.s 			page 24


 554 0088 06D8     		bhi	.L48
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 555              		.loc 1 713 39 discriminator 3 view .LVU154
 556 008a 03EB4302 		add	r2, r3, r3, lsl #1
 557 008e 114C     		ldr	r4, .L59
 558 0090 54F82220 		ldr	r2, [r4, r2, lsl #2]
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 559              		.loc 1 713 28 discriminator 3 view .LVU155
 560 0094 002A     		cmp	r2, #0
 561 0096 F5D1     		bne	.L49
 562              	.L48:
 714:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->fs;
 563              		.loc 1 714 3 is_stmt 1 view .LVU156
 714:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->fs;
 564              		.loc 1 714 6 is_stmt 0 view .LVU157
 565 0098 042B     		cmp	r3, #4
 566 009a 16D0     		beq	.L54
 715:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->sclust;
 567              		.loc 1 715 3 is_stmt 1 view .LVU158
 715:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->sclust;
 568              		.loc 1 715 19 is_stmt 0 view .LVU159
 569 009c 00F58050 		add	r0, r0, #4096
 570              	.LVL54:
 715:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].clu = dp->sclust;
 571              		.loc 1 715 15 view .LVU160
 572 00a0 0C4C     		ldr	r4, .L59
 573 00a2 03EB430C 		add	ip, r3, r3, lsl #1
 574 00a6 04EB8C02 		add	r2, r4, ip, lsl #2
 575 00aa D0F800E0 		ldr	lr, [r0]
 576 00ae 44F82CE0 		str	lr, [r4, ip, lsl #2]
 716:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].idx = dp->index;
 577              		.loc 1 716 3 is_stmt 1 view .LVU161
 716:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].idx = dp->index;
 578              		.loc 1 716 20 is_stmt 0 view .LVU162
 579 00b2 8468     		ldr	r4, [r0, #8]
 716:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].idx = dp->index;
 580              		.loc 1 716 16 view .LVU163
 581 00b4 5460     		str	r4, [r2, #4]
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 582              		.loc 1 717 3 is_stmt 1 view .LVU164
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 583              		.loc 1 717 20 is_stmt 0 view .LVU165
 584 00b6 C088     		ldrh	r0, [r0, #6]
 585              	.LVL55:
 717:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = 0;
 586              		.loc 1 717 16 view .LVU166
 587 00b8 1081     		strh	r0, [r2, #8]	@ movhi
 718:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 588              		.loc 1 718 3 is_stmt 1 view .LVU167
 718:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 589              		.loc 1 718 16 is_stmt 0 view .LVU168
 590 00ba 0020     		movs	r0, #0
 591 00bc 5081     		strh	r0, [r2, #10]	@ movhi
 592 00be C7E7     		b	.L47
 593              	.LVL56:
 594              	.L58:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
ARM GAS  /tmp/cc9KJrYz.s 			page 25


 595              		.loc 1 713 10 view .LVU169
 596 00c0 0023     		movs	r3, #0
 597              	.LVL57:
 713:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == _FS_LOCK) return 0;	/* No free entry to register (int err) */
 598              		.loc 1 713 10 view .LVU170
 599 00c2 E0E7     		b	.L46
 600              	.LVL58:
 601              	.L56:
 723:Middlewares/Third_Party/FatFs/src/ff.c **** 
 602              		.loc 1 723 15 view .LVU171
 603 00c4 4FF48071 		mov	r1, #256
 604              	.LVL59:
 723:Middlewares/Third_Party/FatFs/src/ff.c **** 
 605              		.loc 1 723 15 view .LVU172
 606 00c8 D4E7     		b	.L52
 607              	.LVL60:
 608              	.L54:
 714:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->fs;
 609              		.loc 1 714 29 view .LVU173
 610 00ca 0020     		movs	r0, #0
 611              	.LVL61:
 714:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].fs = dp->fs;
 612              		.loc 1 714 29 view .LVU174
 613 00cc D9E7     		b	.L41
 614              	.L55:
 721:Middlewares/Third_Party/FatFs/src/ff.c **** 
 615              		.loc 1 721 34 view .LVU175
 616 00ce 0020     		movs	r0, #0
 617 00d0 D7E7     		b	.L41
 618              	.L60:
 619 00d2 00BF     		.align	2
 620              	.L59:
 621 00d4 00000000 		.word	.LANCHOR0
 622              		.cfi_endproc
 623              	.LFE78:
 625              		.section	.text.dec_lock,"ax",%progbits
 626              		.align	1
 627              		.syntax unified
 628              		.thumb
 629              		.thumb_func
 630              		.fpu softvfp
 632              	dec_lock:
 633              	.LVL62:
 634              	.LFB79:
 727:Middlewares/Third_Party/FatFs/src/ff.c **** 
 728:Middlewares/Third_Party/FatFs/src/ff.c **** 
 729:Middlewares/Third_Party/FatFs/src/ff.c **** static
 730:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dec_lock (	/* Decrement object open counter */
 731:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i			/* Semaphore index (1..) */
 732:Middlewares/Third_Party/FatFs/src/ff.c **** )
 733:Middlewares/Third_Party/FatFs/src/ff.c **** {
 635              		.loc 1 733 1 is_stmt 1 view -0
 636              		.cfi_startproc
 637              		@ args = 0, pretend = 0, frame = 0
 638              		@ frame_needed = 0, uses_anonymous_args = 0
 639              		@ link register save eliminated.
 734:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD n;
ARM GAS  /tmp/cc9KJrYz.s 			page 26


 640              		.loc 1 734 2 view .LVU177
 735:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 641              		.loc 1 735 2 view .LVU178
 736:Middlewares/Third_Party/FatFs/src/ff.c **** 
 737:Middlewares/Third_Party/FatFs/src/ff.c **** 
 738:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (--i < _FS_LOCK) {	/* Shift index number origin from 0 */
 642              		.loc 1 738 2 view .LVU179
 643              		.loc 1 738 5 is_stmt 0 view .LVU180
 644 0000 0138     		subs	r0, r0, #1
 645              	.LVL63:
 646              		.loc 1 738 5 view .LVU181
 647 0002 0328     		cmp	r0, #3
 648 0004 1AD8     		bhi	.L64
 739:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = Files[i].ctr;
 649              		.loc 1 739 3 is_stmt 1 view .LVU182
 650              		.loc 1 739 5 is_stmt 0 view .LVU183
 651 0006 00EB4003 		add	r3, r0, r0, lsl #1
 652 000a 0E4A     		ldr	r2, .L67
 653 000c 02EB8303 		add	r3, r2, r3, lsl #2
 654 0010 5B89     		ldrh	r3, [r3, #10]
 655              	.LVL64:
 740:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 656              		.loc 1 740 3 is_stmt 1 view .LVU184
 657              		.loc 1 740 6 is_stmt 0 view .LVU185
 658 0012 B3F5807F 		cmp	r3, #256
 659 0016 03D0     		beq	.L65
 741:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n) n--;					/* Decrement read mode open count */
 660              		.loc 1 741 3 is_stmt 1 view .LVU186
 661              		.loc 1 741 6 is_stmt 0 view .LVU187
 662 0018 1BB1     		cbz	r3, .L63
 663              		.loc 1 741 10 is_stmt 1 discriminator 1 view .LVU188
 664              		.loc 1 741 11 is_stmt 0 discriminator 1 view .LVU189
 665 001a 013B     		subs	r3, r3, #1
 666              	.LVL65:
 667              		.loc 1 741 11 discriminator 1 view .LVU190
 668 001c 9BB2     		uxth	r3, r3
 669              	.LVL66:
 670              		.loc 1 741 11 discriminator 1 view .LVU191
 671 001e 00E0     		b	.L63
 672              	.L65:
 740:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 0x100) n = 0;		/* If write mode open, delete the entry */
 673              		.loc 1 740 21 view .LVU192
 674 0020 0023     		movs	r3, #0
 675              	.LVL67:
 676              	.L63:
 742:Middlewares/Third_Party/FatFs/src/ff.c **** 		Files[i].ctr = n;
 677              		.loc 1 742 3 is_stmt 1 view .LVU193
 678              		.loc 1 742 16 is_stmt 0 view .LVU194
 679 0022 00EB4002 		add	r2, r0, r0, lsl #1
 680 0026 0749     		ldr	r1, .L67
 681 0028 01EB8202 		add	r2, r1, r2, lsl #2
 682 002c 5381     		strh	r3, [r2, #10]	@ movhi
 743:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!n) Files[i].fs = 0;	/* Delete the entry if open count gets zero */
 683              		.loc 1 743 3 is_stmt 1 view .LVU195
 684              		.loc 1 743 6 is_stmt 0 view .LVU196
 685 002e 3BB9     		cbnz	r3, .L66
 686              		.loc 1 743 11 is_stmt 1 discriminator 1 view .LVU197
ARM GAS  /tmp/cc9KJrYz.s 			page 27


 687              		.loc 1 743 23 is_stmt 0 discriminator 1 view .LVU198
 688 0030 00EB4000 		add	r0, r0, r0, lsl #1
 689              	.LVL68:
 690              		.loc 1 743 23 discriminator 1 view .LVU199
 691 0034 8300     		lsls	r3, r0, #2
 692              	.LVL69:
 693              		.loc 1 743 23 discriminator 1 view .LVU200
 694 0036 0020     		movs	r0, #0
 695 0038 C850     		str	r0, [r1, r3]
 696 003a 7047     		bx	lr
 697              	.LVL70:
 698              	.L64:
 744:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 745:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 746:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;			/* Invalid index nunber */
 699              		.loc 1 746 7 view .LVU201
 700 003c 0220     		movs	r0, #2
 701              	.LVL71:
 702              		.loc 1 746 7 view .LVU202
 703 003e 7047     		bx	lr
 704              	.LVL72:
 705              	.L66:
 744:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
 706              		.loc 1 744 7 view .LVU203
 707 0040 0020     		movs	r0, #0
 708              	.LVL73:
 747:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 709              		.loc 1 748 2 is_stmt 1 view .LVU204
 749:Middlewares/Third_Party/FatFs/src/ff.c **** }
 710              		.loc 1 749 1 is_stmt 0 view .LVU205
 711 0042 7047     		bx	lr
 712              	.L68:
 713              		.align	2
 714              	.L67:
 715 0044 00000000 		.word	.LANCHOR0
 716              		.cfi_endproc
 717              	.LFE79:
 719              		.section	.text.clear_lock,"ax",%progbits
 720              		.align	1
 721              		.syntax unified
 722              		.thumb
 723              		.thumb_func
 724              		.fpu softvfp
 726              	clear_lock:
 727              	.LVL74:
 728              	.LFB80:
 750:Middlewares/Third_Party/FatFs/src/ff.c **** 
 751:Middlewares/Third_Party/FatFs/src/ff.c **** 
 752:Middlewares/Third_Party/FatFs/src/ff.c **** static
 753:Middlewares/Third_Party/FatFs/src/ff.c **** void clear_lock (	/* Clear lock entries of the volume */
 754:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs
 755:Middlewares/Third_Party/FatFs/src/ff.c **** )
 756:Middlewares/Third_Party/FatFs/src/ff.c **** {
 729              		.loc 1 756 1 is_stmt 1 view -0
 730              		.cfi_startproc
 731              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/cc9KJrYz.s 			page 28


 732              		@ frame_needed = 0, uses_anonymous_args = 0
 733              		@ link register save eliminated.
 757:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 734              		.loc 1 757 2 view .LVU207
 758:Middlewares/Third_Party/FatFs/src/ff.c **** 
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < _FS_LOCK; i++) {
 735              		.loc 1 759 2 view .LVU208
 736              		.loc 1 759 9 is_stmt 0 view .LVU209
 737 0000 0023     		movs	r3, #0
 738              		.loc 1 759 2 view .LVU210
 739 0002 02E0     		b	.L74
 740              	.LVL75:
 741              	.L81:
 742              	.LCFI6:
 743              		.cfi_def_cfa_offset 4
 744              		.cfi_offset 4, -4
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 761:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 762:Middlewares/Third_Party/FatFs/src/ff.c **** }
 745              		.loc 1 762 1 view .LVU211
 746 0004 10BC     		pop	{r4}
 747              	.LCFI7:
 748              		.cfi_restore 4
 749              		.cfi_def_cfa_offset 0
 750 0006 7047     		bx	lr
 751              	.L80:
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 752              		.loc 1 759 28 is_stmt 1 view .LVU212
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 753              		.loc 1 759 29 is_stmt 0 view .LVU213
 754 0008 0133     		adds	r3, r3, #1
 755              	.LVL76:
 756              	.L74:
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 757              		.loc 1 759 14 is_stmt 1 view .LVU214
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 758              		.loc 1 759 2 is_stmt 0 view .LVU215
 759 000a 032B     		cmp	r3, #3
 760 000c 17D8     		bhi	.L79
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 761              		.loc 1 760 3 is_stmt 1 view .LVU216
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 762              		.loc 1 760 15 is_stmt 0 view .LVU217
 763 000e 03EB4302 		add	r2, r3, r3, lsl #1
 764 0012 0B49     		ldr	r1, .L82
 765 0014 51F82220 		ldr	r2, [r1, r2, lsl #2]
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 766              		.loc 1 760 6 view .LVU218
 767 0018 8242     		cmp	r2, r0
 768 001a F5D1     		bne	.L80
 756:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 769              		.loc 1 756 1 view .LVU219
 770 001c 10B4     		push	{r4}
 771              	.LCFI8:
 772              		.cfi_def_cfa_offset 4
 773              		.cfi_offset 4, -4
 774              	.L75:
ARM GAS  /tmp/cc9KJrYz.s 			page 29


 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 775              		.loc 1 760 26 is_stmt 1 discriminator 1 view .LVU220
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 776              		.loc 1 760 38 is_stmt 0 discriminator 1 view .LVU221
 777 001e 03EB4302 		add	r2, r3, r3, lsl #1
 778 0022 9200     		lsls	r2, r2, #2
 779 0024 0024     		movs	r4, #0
 780 0026 8C50     		str	r4, [r1, r2]
 781              	.L71:
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 782              		.loc 1 759 28 is_stmt 1 discriminator 2 view .LVU222
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 783              		.loc 1 759 29 is_stmt 0 discriminator 2 view .LVU223
 784 0028 0133     		adds	r3, r3, #1
 785              	.LVL77:
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 786              		.loc 1 759 14 is_stmt 1 discriminator 2 view .LVU224
 759:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 787              		.loc 1 759 2 is_stmt 0 discriminator 2 view .LVU225
 788 002a 032B     		cmp	r3, #3
 789 002c EAD8     		bhi	.L81
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 790              		.loc 1 760 3 is_stmt 1 view .LVU226
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 791              		.loc 1 760 15 is_stmt 0 view .LVU227
 792 002e 03EB4302 		add	r2, r3, r3, lsl #1
 793 0032 0349     		ldr	r1, .L82
 794 0034 51F82220 		ldr	r2, [r1, r2, lsl #2]
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 795              		.loc 1 760 6 view .LVU228
 796 0038 8242     		cmp	r2, r0
 797 003a F5D1     		bne	.L71
 798 003c EFE7     		b	.L75
 799              	.L79:
 800              	.LCFI9:
 801              		.cfi_def_cfa_offset 0
 802              		.cfi_restore 4
 760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (Files[i].fs == fs) Files[i].fs = 0;
 803              		.loc 1 760 6 view .LVU229
 804 003e 7047     		bx	lr
 805              	.L83:
 806              		.align	2
 807              	.L82:
 808 0040 00000000 		.word	.LANCHOR0
 809              		.cfi_endproc
 810              	.LFE80:
 812              		.section	.text.clmt_clust,"ax",%progbits
 813              		.align	1
 814              		.syntax unified
 815              		.thumb
 816              		.thumb_func
 817              		.fpu softvfp
 819              	clmt_clust:
 820              	.LVL78:
 821              	.LFB89:
 763:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 764:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9KJrYz.s 			page 30


 765:Middlewares/Third_Party/FatFs/src/ff.c **** 
 766:Middlewares/Third_Party/FatFs/src/ff.c **** 
 767:Middlewares/Third_Party/FatFs/src/ff.c **** 
 768:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 769:Middlewares/Third_Party/FatFs/src/ff.c **** /* Move/Flush disk access window in the file system object               */
 770:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 771:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 772:Middlewares/Third_Party/FatFs/src/ff.c **** static
 773:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_window (
 774:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 775:Middlewares/Third_Party/FatFs/src/ff.c **** )
 776:Middlewares/Third_Party/FatFs/src/ff.c **** {
 777:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 778:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nf;
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 780:Middlewares/Third_Party/FatFs/src/ff.c **** 
 781:Middlewares/Third_Party/FatFs/src/ff.c **** 
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->wflag) {	/* Write back the sector if it is dirty */
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win.d8, wsect, 1) != RES_OK) {
 785:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 786:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 787:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 0;
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 791:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win.d8, wsect, 1);
 792:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 793:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 794:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 795:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 796:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 797:Middlewares/Third_Party/FatFs/src/ff.c **** }
 798:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 799:Middlewares/Third_Party/FatFs/src/ff.c **** 
 800:Middlewares/Third_Party/FatFs/src/ff.c **** 
 801:Middlewares/Third_Party/FatFs/src/ff.c **** static
 802:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT move_window (
 803:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 804:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sector	/* Sector number to make appearance in the fs->win[].d8 */
 805:Middlewares/Third_Party/FatFs/src/ff.c **** )
 806:Middlewares/Third_Party/FatFs/src/ff.c **** {
 807:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 808:Middlewares/Third_Party/FatFs/src/ff.c **** 
 809:Middlewares/Third_Party/FatFs/src/ff.c **** 
 810:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sector != fs->winsect) {	/* Window offset changed? */
 811:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 812:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = sync_window(fs);		/* Write-back changes */
 813:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 814:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {			/* Fill sector window with new data */
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win.d8, sector, 1) != RES_OK) {
 816:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 817:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 818:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 819:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = sector;
 820:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 821:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/cc9KJrYz.s 			page 31


 822:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 823:Middlewares/Third_Party/FatFs/src/ff.c **** }
 824:Middlewares/Third_Party/FatFs/src/ff.c **** 
 825:Middlewares/Third_Party/FatFs/src/ff.c **** 
 826:Middlewares/Third_Party/FatFs/src/ff.c **** 
 827:Middlewares/Third_Party/FatFs/src/ff.c **** 
 828:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 829:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize file system and strage device                             */
 830:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 831:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 832:Middlewares/Third_Party/FatFs/src/ff.c **** static
 833:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT sync_fs (	/* FR_OK: successful, FR_DISK_ERR: failed */
 834:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs		/* File system object */
 835:Middlewares/Third_Party/FatFs/src/ff.c **** )
 836:Middlewares/Third_Party/FatFs/src/ff.c **** {
 837:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 838:Middlewares/Third_Party/FatFs/src/ff.c **** 
 839:Middlewares/Third_Party/FatFs/src/ff.c **** 
 840:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = sync_window(fs);
 841:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 842:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSINFO sector if needed */
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->fs_type == FS_FAT32 && fs->fsi_flag == 1) {
 844:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fs->win.d8, 0, SS(fs));
 846:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_LeadSig, 0x41615252);
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 851:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSINFO sector */
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->winsect = fs->volbase + 1;
 853:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win.d8, fs->winsect, 1);
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 855:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 856:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Make sure that no pending write process in the physical drive */
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(fs->drv, CTRL_SYNC, 0) != RES_OK)
 858:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 859:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 860:Middlewares/Third_Party/FatFs/src/ff.c **** 
 861:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 862:Middlewares/Third_Party/FatFs/src/ff.c **** }
 863:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 864:Middlewares/Third_Party/FatFs/src/ff.c **** 
 865:Middlewares/Third_Party/FatFs/src/ff.c **** 
 866:Middlewares/Third_Party/FatFs/src/ff.c **** 
 867:Middlewares/Third_Party/FatFs/src/ff.c **** 
 868:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 869:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get sector# from cluster#                                             */
 870:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 871:Middlewares/Third_Party/FatFs/src/ff.c **** /* Hidden API for hacks and disk tools */
 872:Middlewares/Third_Party/FatFs/src/ff.c **** 
 873:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clust2sect (	/* !=0: Sector number, 0: Failed - invalid cluster# */
 874:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,		/* File system object */
 875:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst		/* Cluster# to be converted */
 876:Middlewares/Third_Party/FatFs/src/ff.c **** )
 877:Middlewares/Third_Party/FatFs/src/ff.c **** {
 878:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;
ARM GAS  /tmp/cc9KJrYz.s 			page 32


 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 880:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 881:Middlewares/Third_Party/FatFs/src/ff.c **** }
 882:Middlewares/Third_Party/FatFs/src/ff.c **** 
 883:Middlewares/Third_Party/FatFs/src/ff.c **** 
 884:Middlewares/Third_Party/FatFs/src/ff.c **** 
 885:Middlewares/Third_Party/FatFs/src/ff.c **** 
 886:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 887:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Read value of a FAT entry                                */
 888:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 889:Middlewares/Third_Party/FatFs/src/ff.c **** /* Hidden API for hacks and disk tools */
 890:Middlewares/Third_Party/FatFs/src/ff.c **** 
 891:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD get_fat (	/* 0xFFFFFFFF:Disk error, 1:Internal error, 2..0x0FFFFFFF:Cluster status */
 892:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
 893:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst	/* FAT index number (cluster number) to get the value */
 894:Middlewares/Third_Party/FatFs/src/ff.c **** )
 895:Middlewares/Third_Party/FatFs/src/ff.c **** {
 896:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val;
 899:Middlewares/Third_Party/FatFs/src/ff.c **** 
 900:Middlewares/Third_Party/FatFs/src/ff.c **** 
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
 902:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 903:Middlewares/Third_Party/FatFs/src/ff.c **** 
 904:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 0xFFFFFFFF;	/* Default value falls on disk error */
 906:Middlewares/Third_Party/FatFs/src/ff.c **** 
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 908:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 915:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 916:Middlewares/Third_Party/FatFs/src/ff.c **** 
 917:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 2))) != FR_OK) break;
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 921:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 922:Middlewares/Third_Party/FatFs/src/ff.c **** 
 923:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (clst / (SS(fs) / 4))) != FR_OK) break;
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 927:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 928:Middlewares/Third_Party/FatFs/src/ff.c **** 
 929:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:
 930:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = 1;	/* Internal error */
 931:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 932:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 933:Middlewares/Third_Party/FatFs/src/ff.c **** 
 934:Middlewares/Third_Party/FatFs/src/ff.c **** 	return val;
 935:Middlewares/Third_Party/FatFs/src/ff.c **** }
ARM GAS  /tmp/cc9KJrYz.s 			page 33


 936:Middlewares/Third_Party/FatFs/src/ff.c **** 
 937:Middlewares/Third_Party/FatFs/src/ff.c **** 
 938:Middlewares/Third_Party/FatFs/src/ff.c **** 
 939:Middlewares/Third_Party/FatFs/src/ff.c **** 
 940:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 941:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT access - Change value of a FAT entry                              */
 942:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
 943:Middlewares/Third_Party/FatFs/src/ff.c **** /* Hidden API for hacks and disk tools */
 944:Middlewares/Third_Party/FatFs/src/ff.c **** 
 945:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 946:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT put_fat (
 947:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
 948:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst,	/* FAT index number (cluster number) to be changed */
 949:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val	/* New value to be set to the entry */
 950:Middlewares/Third_Party/FatFs/src/ff.c **** )
 951:Middlewares/Third_Party/FatFs/src/ff.c **** {
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 953:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 955:Middlewares/Third_Party/FatFs/src/ff.c **** 
 956:Middlewares/Third_Party/FatFs/src/ff.c **** 
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 959:Middlewares/Third_Party/FatFs/src/ff.c **** 
 960:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (fs->fs_type) {
 962:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			bc = (UINT)clst; bc += bc / 2;
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc++ % SS(fs)];
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 970:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc % SS(fs)];
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 973:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 974:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 975:Middlewares/Third_Party/FatFs/src/ff.c **** 
 976:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT16 :
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 2)));
 978:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 980:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 982:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 983:Middlewares/Third_Party/FatFs/src/ff.c **** 
 984:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT32 :
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (clst / (SS(fs) / 4)));
 986:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(p, val);
 990:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 991:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 992:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9KJrYz.s 			page 34


 993:Middlewares/Third_Party/FatFs/src/ff.c **** 		default :
 994:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INT_ERR;
 995:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 996:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 997:Middlewares/Third_Party/FatFs/src/ff.c **** 
 998:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 999:Middlewares/Third_Party/FatFs/src/ff.c **** }
1000:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1001:Middlewares/Third_Party/FatFs/src/ff.c **** 
1002:Middlewares/Third_Party/FatFs/src/ff.c **** 
1003:Middlewares/Third_Party/FatFs/src/ff.c **** 
1004:Middlewares/Third_Party/FatFs/src/ff.c **** 
1005:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1006:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Remove a cluster chain                                 */
1007:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1008:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1009:Middlewares/Third_Party/FatFs/src/ff.c **** static
1010:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT remove_chain (
1011:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* File system object */
1012:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst			/* Cluster# to remove a chain from */
1013:Middlewares/Third_Party/FatFs/src/ff.c **** )
1014:Middlewares/Third_Party/FatFs/src/ff.c **** {
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1016:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nxt;
1017:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1018:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD scl = clst, ecl = clst, rt[2];
1019:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1020:Middlewares/Third_Party/FatFs/src/ff.c **** 
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst < 2 || clst >= fs->n_fatent) {	/* Check range */
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
1023:Middlewares/Third_Party/FatFs/src/ff.c **** 
1024:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1025:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_OK;
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (clst < fs->n_fatent) {			/* Not a last link? */
1027:Middlewares/Third_Party/FatFs/src/ff.c **** 			nxt = get_fat(fs, clst);			/* Get cluster status */
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0) break;				/* Empty cluster? */
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 1) { res = FR_INT_ERR; break; }	/* Internal error? */
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);			/* Mark the cluster "empty" */
1032:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->free_clust != 0xFFFFFFFF) {	/* Update FSINFO */
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clust++;
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->fsi_flag |= 1;
1036:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1037:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
1038:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ecl + 1 == nxt) {	/* Is next cluster contiguous? */
1039:Middlewares/Third_Party/FatFs/src/ff.c **** 				ecl = nxt;
1040:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* End of contiguous clusters */ 
1041:Middlewares/Third_Party/FatFs/src/ff.c **** 				rt[0] = clust2sect(fs, scl);					/* Start sector */
1042:Middlewares/Third_Party/FatFs/src/ff.c **** 				rt[1] = clust2sect(fs, ecl) + fs->csize - 1;	/* End sector */
1043:Middlewares/Third_Party/FatFs/src/ff.c **** 				disk_ioctl(fs->drv, CTRL_TRIM, rt);				/* Erase the block */
1044:Middlewares/Third_Party/FatFs/src/ff.c **** 				scl = ecl = nxt;
1045:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1046:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1047:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = nxt;	/* Next cluster */
1048:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1049:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/cc9KJrYz.s 			page 35


1050:Middlewares/Third_Party/FatFs/src/ff.c **** 
1051:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1052:Middlewares/Third_Party/FatFs/src/ff.c **** }
1053:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1054:Middlewares/Third_Party/FatFs/src/ff.c **** 
1055:Middlewares/Third_Party/FatFs/src/ff.c **** 
1056:Middlewares/Third_Party/FatFs/src/ff.c **** 
1057:Middlewares/Third_Party/FatFs/src/ff.c **** 
1058:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1059:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Stretch or Create a cluster chain                      */
1060:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1061:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1062:Middlewares/Third_Party/FatFs/src/ff.c **** static
1063:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD create_chain (	/* 0:No free cluster, 1:Internal error, 0xFFFFFFFF:Disk error, >=2:New cluster
1064:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* File system object */
1065:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst			/* Cluster# to stretch. 0 means create a new chain. */
1066:Middlewares/Third_Party/FatFs/src/ff.c **** )
1067:Middlewares/Third_Party/FatFs/src/ff.c **** {
1068:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
1069:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1070:Middlewares/Third_Party/FatFs/src/ff.c **** 
1071:Middlewares/Third_Party/FatFs/src/ff.c **** 
1072:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {		/* Create a new chain */
1073:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clust;			/* Get suggested start point */
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!scl || scl >= fs->n_fatent) scl = 1;
1075:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1076:Middlewares/Third_Party/FatFs/src/ff.c **** 	else {					/* Stretch the current chain */
1077:Middlewares/Third_Party/FatFs/src/ff.c **** 		cs = get_fat(fs, clst);			/* Check the cluster status */
1078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;			/* Invalid value */
1079:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
1080:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
1081:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
1082:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1083:Middlewares/Third_Party/FatFs/src/ff.c **** 
1084:Middlewares/Third_Party/FatFs/src/ff.c **** 	ncl = scl;				/* Start cluster */
1085:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl++;							/* Next cluster */
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl >= fs->n_fatent) {		/* Check wrap around */
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = 2;
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl > scl) return 0;	/* No free cluster */
1090:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		cs = get_fat(fs, ncl);			/* Get the cluster status */
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0) break;				/* Found a free cluster */
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF || cs == 1)/* An error occurred */
1094:Middlewares/Third_Party/FatFs/src/ff.c **** 			return cs;
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl == scl) return 0;		/* No free cluster */
1096:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1097:Middlewares/Third_Party/FatFs/src/ff.c **** 
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = put_fat(fs, ncl, 0x0FFFFFFF);	/* Mark the new cluster "last link" */
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && clst != 0) {
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, clst, ncl);	/* Link it to the previous one if needed */
1101:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clust = ncl;			/* Update FSINFO */
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clust != 0xFFFFFFFF) {
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust--;
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
ARM GAS  /tmp/cc9KJrYz.s 			page 36


1107:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1108:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = (res == FR_DISK_ERR) ? 0xFFFFFFFF : 1;
1110:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1111:Middlewares/Third_Party/FatFs/src/ff.c **** 
1112:Middlewares/Third_Party/FatFs/src/ff.c **** 	return ncl;		/* Return new cluster number or error code */
1113:Middlewares/Third_Party/FatFs/src/ff.c **** }
1114:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1115:Middlewares/Third_Party/FatFs/src/ff.c **** 
1116:Middlewares/Third_Party/FatFs/src/ff.c **** 
1117:Middlewares/Third_Party/FatFs/src/ff.c **** 
1118:Middlewares/Third_Party/FatFs/src/ff.c **** 
1119:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1120:Middlewares/Third_Party/FatFs/src/ff.c **** /* FAT handling - Convert offset into cluster with link map table        */
1121:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1122:Middlewares/Third_Party/FatFs/src/ff.c **** 
1123:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
1124:Middlewares/Third_Party/FatFs/src/ff.c **** static
1125:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD clmt_clust (	/* <2:Error, >=2:Cluster number */
1126:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
1127:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs		/* File offset to be converted to cluster# */
1128:Middlewares/Third_Party/FatFs/src/ff.c **** )
1129:Middlewares/Third_Party/FatFs/src/ff.c **** {
 822              		.loc 1 1129 1 is_stmt 1 view -0
 823              		.cfi_startproc
 824              		@ args = 0, pretend = 0, frame = 0
 825              		@ frame_needed = 0, uses_anonymous_args = 0
 826              		@ link register save eliminated.
1130:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, ncl, *tbl;
 827              		.loc 1 1130 2 view .LVU231
1131:Middlewares/Third_Party/FatFs/src/ff.c **** 
1132:Middlewares/Third_Party/FatFs/src/ff.c **** 
1133:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl = fp->cltbl + 1;	/* Top of CLMT */
 828              		.loc 1 1133 2 view .LVU232
 829              		.loc 1 1133 10 is_stmt 0 view .LVU233
 830 0000 00F58050 		add	r0, r0, #4096
 831              	.LVL79:
 832              		.loc 1 1133 10 view .LVU234
 833 0004 436A     		ldr	r3, [r0, #36]
 834              		.loc 1 1133 6 view .LVU235
 835 0006 0433     		adds	r3, r3, #4
 836              	.LVL80:
1134:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = ofs / SS(fp->fs) / fp->fs->csize;	/* Cluster order from top of the file */
 837              		.loc 1 1134 2 is_stmt 1 view .LVU236
 838              		.loc 1 1134 13 is_stmt 0 view .LVU237
 839 0008 0268     		ldr	r2, [r0]
 840 000a 02F58052 		add	r2, r2, #4096
 841 000e 5089     		ldrh	r0, [r2, #10]
 842              	.LVL81:
 843              		.loc 1 1134 11 view .LVU238
 844 0010 B1FBF0F1 		udiv	r1, r1, r0
 845              	.LVL82:
 846              		.loc 1 1134 32 view .LVU239
 847 0014 9278     		ldrb	r2, [r2, #2]	@ zero_extendqisi2
 848              		.loc 1 1134 5 view .LVU240
 849 0016 B1FBF2F1 		udiv	r1, r1, r2
 850              	.LVL83:
ARM GAS  /tmp/cc9KJrYz.s 			page 37


 851              		.loc 1 1134 5 view .LVU241
 852 001a 01E0     		b	.L87
 853              	.LVL84:
 854              	.L88:
1135:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1136:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl = *tbl++;			/* Number of cluters in the fragment */
1137:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ncl) return 0;		/* End of table? (error) */
1138:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
1139:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 855              		.loc 1 1139 3 is_stmt 1 view .LVU242
 856              		.loc 1 1139 6 is_stmt 0 view .LVU243
 857 001c 091A     		subs	r1, r1, r0
 858              	.LVL85:
 859              		.loc 1 1139 14 is_stmt 1 view .LVU244
 860              		.loc 1 1139 17 is_stmt 0 view .LVU245
 861 001e 0833     		adds	r3, r3, #8
 862              	.LVL86:
1135:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 863              		.loc 1 1135 8 is_stmt 1 view .LVU246
 864              	.L87:
1135:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 865              		.loc 1 1135 2 view .LVU247
1136:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ncl) return 0;		/* End of table? (error) */
 866              		.loc 1 1136 3 view .LVU248
1136:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ncl) return 0;		/* End of table? (error) */
 867              		.loc 1 1136 7 is_stmt 0 view .LVU249
 868 0020 1868     		ldr	r0, [r3]
 869              	.LVL87:
1137:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
 870              		.loc 1 1137 3 is_stmt 1 view .LVU250
1137:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cl < ncl) break;	/* In this fragment? */
 871              		.loc 1 1137 6 is_stmt 0 view .LVU251
 872 0022 18B1     		cbz	r0, .L84
1138:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 873              		.loc 1 1138 3 is_stmt 1 view .LVU252
1138:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl -= ncl; tbl++;		/* Next fragment */
 874              		.loc 1 1138 6 is_stmt 0 view .LVU253
 875 0024 8142     		cmp	r1, r0
 876 0026 F9D2     		bcs	.L88
1140:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1141:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl + *tbl;	/* Return the cluster number */
 877              		.loc 1 1141 2 is_stmt 1 view .LVU254
 878              		.loc 1 1141 14 is_stmt 0 view .LVU255
 879 0028 5868     		ldr	r0, [r3, #4]
 880              	.LVL88:
 881              		.loc 1 1141 12 view .LVU256
 882 002a 0844     		add	r0, r0, r1
 883              	.L84:
1142:Middlewares/Third_Party/FatFs/src/ff.c **** }
 884              		.loc 1 1142 1 view .LVU257
 885 002c 7047     		bx	lr
 886              		.cfi_endproc
 887              	.LFE89:
 889              		.section	.text.ld_clust,"ax",%progbits
 890              		.align	1
 891              		.syntax unified
 892              		.thumb
ARM GAS  /tmp/cc9KJrYz.s 			page 38


 893              		.thumb_func
 894              		.fpu softvfp
 896              	ld_clust:
 897              	.LVL89:
 898              	.LFB93:
1143:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FASTSEEK */
1144:Middlewares/Third_Party/FatFs/src/ff.c **** 
1145:Middlewares/Third_Party/FatFs/src/ff.c **** 
1146:Middlewares/Third_Party/FatFs/src/ff.c **** 
1147:Middlewares/Third_Party/FatFs/src/ff.c **** 
1148:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1149:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Set directory index                              */
1150:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1151:Middlewares/Third_Party/FatFs/src/ff.c **** 
1152:Middlewares/Third_Party/FatFs/src/ff.c **** static
1153:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_sdi (
1154:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to directory object */
1155:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT idx		/* Index of directory table */
1156:Middlewares/Third_Party/FatFs/src/ff.c **** )
1157:Middlewares/Third_Party/FatFs/src/ff.c **** {
1158:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
1159:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT ic;
1160:Middlewares/Third_Party/FatFs/src/ff.c **** 
1161:Middlewares/Third_Party/FatFs/src/ff.c **** 
1162:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->index = (WORD)idx;	/* Current index */
1163:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->sclust;		/* Table start cluster (0:root) */
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 1 || clst >= dp->fs->n_fatent)	/* Check start cluster range */
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = dp->fs->dirbase;
1168:Middlewares/Third_Party/FatFs/src/ff.c **** 
1169:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 0) {	/* Static table (root-directory in FAT12/16) */
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (idx >= dp->fs->n_rootdir)	/* Is index out of range? */
1171:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INT_ERR;
1172:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = dp->fs->dirbase;
1173:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1174:Middlewares/Third_Party/FatFs/src/ff.c **** 	else {				/* Dynamic table (root-directory in FAT32 or sub-directory) */
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 		ic = SS(dp->fs) / SZ_DIRE * dp->fs->csize;	/* Entries per cluster */
1176:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(dp->fs, clst);				/* Get next cluster */
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 			idx -= ic;
1182:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1183:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = clust2sect(dp->fs, clst);
1184:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1185:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->clust = clst;	/* Current cluster# */
1186:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!sect) return FR_INT_ERR;
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect = sect + idx / (SS(dp->fs) / SZ_DIRE);					/* Sector# of the directory entry */
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
1189:Middlewares/Third_Party/FatFs/src/ff.c **** 
1190:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1191:Middlewares/Third_Party/FatFs/src/ff.c **** }
1192:Middlewares/Third_Party/FatFs/src/ff.c **** 
1193:Middlewares/Third_Party/FatFs/src/ff.c **** 
1194:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9KJrYz.s 			page 39


1195:Middlewares/Third_Party/FatFs/src/ff.c **** 
1196:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1197:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Move directory table index next                  */
1198:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1199:Middlewares/Third_Party/FatFs/src/ff.c **** 
1200:Middlewares/Third_Party/FatFs/src/ff.c **** static
1201:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_next (	/* FR_OK:Succeeded, FR_NO_FILE:End of table, FR_DENIED:Could not stretch */
1202:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1203:Middlewares/Third_Party/FatFs/src/ff.c **** 	int stretch		/* 0: Do not stretch table, 1: Stretch table if needed */
1204:Middlewares/Third_Party/FatFs/src/ff.c **** )
1205:Middlewares/Third_Party/FatFs/src/ff.c **** {
1206:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst;
1207:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1208:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1209:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT c;
1210:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1211:Middlewares/Third_Party/FatFs/src/ff.c **** 
1212:Middlewares/Third_Party/FatFs/src/ff.c **** 
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = dp->index + 1;
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i & 0xFFFF) || !dp->sect)	/* Report EOT when index has reached 65535 */
1215:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
1216:Middlewares/Third_Party/FatFs/src/ff.c **** 
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i % (SS(dp->fs) / SZ_DIRE))) {	/* Sector changed? */
1218:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
1219:Middlewares/Third_Party/FatFs/src/ff.c **** 
1220:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!dp->clust) {		/* Static table */
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= dp->fs->n_rootdir)	/* Report EOT if it reached end of static table */
1222:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_NO_FILE;
1223:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1224:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {					/* Dynamic table */
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (((i / (SS(dp->fs) / SZ_DIRE)) & (dp->fs->csize - 1)) == 0) {	/* Cluster changed? */
1226:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
1229:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= dp->fs->n_fatent) {					/* If it reached end of dynamic table, */
1230:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) return FR_NO_FILE;			/* If do not stretch, report EOT */
1232:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(dp->fs, dp->clust);		/* Stretch cluster chain */
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
1236:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up stretched table */
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (sync_window(dp->fs)) return FR_DISK_ERR;/* Flush disk access window */
1238:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->fs->winsect = clust2sect(dp->fs, clst);	/* Cluster start sector */
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (c = 0; c < dp->fs->csize; c++) {		/* Fill the new cluster with 0 */
1241:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
1242:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(dp->fs)) return FR_DISK_ERR;
1243:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->winsect++;
1244:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1245:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->fs->winsect -= c;						/* Rewind window offset */
1246:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1247:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!stretch) return FR_NO_FILE;			/* If do not stretch, report EOT (this is to suppress warni
1248:Middlewares/Third_Party/FatFs/src/ff.c **** 					return FR_NO_FILE;							/* Report EOT */
1249:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1250:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1251:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->clust = clst;				/* Initialize data for new cluster */
ARM GAS  /tmp/cc9KJrYz.s 			page 40


1252:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(dp->fs, clst);
1253:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1254:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1255:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1256:Middlewares/Third_Party/FatFs/src/ff.c **** 
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->index = (WORD)i;	/* Current index */
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (i % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Current entry in the window 
1259:Middlewares/Third_Party/FatFs/src/ff.c **** 
1260:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
1261:Middlewares/Third_Party/FatFs/src/ff.c **** }
1262:Middlewares/Third_Party/FatFs/src/ff.c **** 
1263:Middlewares/Third_Party/FatFs/src/ff.c **** 
1264:Middlewares/Third_Party/FatFs/src/ff.c **** 
1265:Middlewares/Third_Party/FatFs/src/ff.c **** 
1266:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1267:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Reserve directory entry                          */
1268:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1269:Middlewares/Third_Party/FatFs/src/ff.c **** 
1270:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1271:Middlewares/Third_Party/FatFs/src/ff.c **** static
1272:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_alloc (
1273:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,	/* Pointer to the directory object */
1274:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nent	/* Number of contiguous entries to allocate (1-21) */
1275:Middlewares/Third_Party/FatFs/src/ff.c **** )
1276:Middlewares/Third_Party/FatFs/src/ff.c **** {
1277:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1278:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
1279:Middlewares/Third_Party/FatFs/src/ff.c **** 
1280:Middlewares/Third_Party/FatFs/src/ff.c **** 
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);
1282:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1283:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
1284:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1285:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(dp->fs, dp->sect);
1286:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir[0] == DDEM || dp->dir[0] == 0) {	/* Is it a free entry? */
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
1289:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 				n = 0;					/* Not a blank entry. Restart to search */
1291:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 1);		/* Next entry with table stretch enabled */
1293:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
1294:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_NO_FILE) res = FR_DENIED;	/* No directory entry to allocate */
1296:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1297:Middlewares/Third_Party/FatFs/src/ff.c **** }
1298:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1299:Middlewares/Third_Party/FatFs/src/ff.c **** 
1300:Middlewares/Third_Party/FatFs/src/ff.c **** 
1301:Middlewares/Third_Party/FatFs/src/ff.c **** 
1302:Middlewares/Third_Party/FatFs/src/ff.c **** 
1303:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1304:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Load/Store start cluster number                  */
1305:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1306:Middlewares/Third_Party/FatFs/src/ff.c **** 
1307:Middlewares/Third_Party/FatFs/src/ff.c **** static
1308:Middlewares/Third_Party/FatFs/src/ff.c **** DWORD ld_clust (
ARM GAS  /tmp/cc9KJrYz.s 			page 41


1309:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* Pointer to the fs object */
1310:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir	/* Pointer to the directory entry */
1311:Middlewares/Third_Party/FatFs/src/ff.c **** )
1312:Middlewares/Third_Party/FatFs/src/ff.c **** {
 899              		.loc 1 1312 1 is_stmt 1 view -0
 900              		.cfi_startproc
 901              		@ args = 0, pretend = 0, frame = 0
 902              		@ frame_needed = 0, uses_anonymous_args = 0
 903              		@ link register save eliminated.
1313:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl;
 904              		.loc 1 1313 2 view .LVU259
1314:Middlewares/Third_Party/FatFs/src/ff.c **** 
1315:Middlewares/Third_Party/FatFs/src/ff.c **** 	cl = LD_WORD(dir + DIR_FstClusLO);
 905              		.loc 1 1315 2 view .LVU260
 906              		.loc 1 1315 7 is_stmt 0 view .LVU261
 907 0000 CA7E     		ldrb	r2, [r1, #27]	@ zero_extendqisi2
 908 0002 8B7E     		ldrb	r3, [r1, #26]	@ zero_extendqisi2
 909 0004 43EA0223 		orr	r3, r3, r2, lsl #8
 910              	.LVL90:
1316:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type == FS_FAT32)
 911              		.loc 1 1316 2 is_stmt 1 view .LVU262
 912              		.loc 1 1316 8 is_stmt 0 view .LVU263
 913 0008 00F58050 		add	r0, r0, #4096
 914              	.LVL91:
 915              		.loc 1 1316 8 view .LVU264
 916 000c 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 917              		.loc 1 1316 5 view .LVU265
 918 000e 032A     		cmp	r2, #3
 919 0010 01D0     		beq	.L91
 920              	.LVL92:
 921              	.L89:
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)LD_WORD(dir + DIR_FstClusHI) << 16;
1318:Middlewares/Third_Party/FatFs/src/ff.c **** 
1319:Middlewares/Third_Party/FatFs/src/ff.c **** 	return cl;
1320:Middlewares/Third_Party/FatFs/src/ff.c **** }
 922              		.loc 1 1320 1 view .LVU266
 923 0012 1846     		mov	r0, r3
 924 0014 7047     		bx	lr
 925              	.L91:
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)LD_WORD(dir + DIR_FstClusHI) << 16;
 926              		.loc 1 1317 3 is_stmt 1 view .LVU267
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)LD_WORD(dir + DIR_FstClusHI) << 16;
 927              		.loc 1 1317 16 is_stmt 0 view .LVU268
 928 0016 487D     		ldrb	r0, [r1, #21]	@ zero_extendqisi2
 929 0018 0A7D     		ldrb	r2, [r1, #20]	@ zero_extendqisi2
 930 001a 42EA0022 		orr	r2, r2, r0, lsl #8
1317:Middlewares/Third_Party/FatFs/src/ff.c **** 		cl |= (DWORD)LD_WORD(dir + DIR_FstClusHI) << 16;
 931              		.loc 1 1317 6 view .LVU269
 932 001e 43EA0243 		orr	r3, r3, r2, lsl #16
 933              	.LVL93:
1319:Middlewares/Third_Party/FatFs/src/ff.c **** }
 934              		.loc 1 1319 2 is_stmt 1 view .LVU270
1319:Middlewares/Third_Party/FatFs/src/ff.c **** }
 935              		.loc 1 1319 9 is_stmt 0 view .LVU271
 936 0022 F6E7     		b	.L89
 937              		.cfi_endproc
 938              	.LFE93:
ARM GAS  /tmp/cc9KJrYz.s 			page 42


 940              		.section	.text.st_clust,"ax",%progbits
 941              		.align	1
 942              		.syntax unified
 943              		.thumb
 944              		.thumb_func
 945              		.fpu softvfp
 947              	st_clust:
 948              	.LVL94:
 949              	.LFB94:
1321:Middlewares/Third_Party/FatFs/src/ff.c **** 
1322:Middlewares/Third_Party/FatFs/src/ff.c **** 
1323:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1324:Middlewares/Third_Party/FatFs/src/ff.c **** static
1325:Middlewares/Third_Party/FatFs/src/ff.c **** void st_clust (
1326:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,	/* Pointer to the directory entry */
1327:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl	/* Value to be set */
1328:Middlewares/Third_Party/FatFs/src/ff.c **** )
1329:Middlewares/Third_Party/FatFs/src/ff.c **** {
 950              		.loc 1 1329 1 is_stmt 1 view -0
 951              		.cfi_startproc
 952              		@ args = 0, pretend = 0, frame = 0
 953              		@ frame_needed = 0, uses_anonymous_args = 0
 954              		@ link register save eliminated.
1330:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusLO, cl);
 955              		.loc 1 1330 2 view .LVU273
 956 0000 8176     		strb	r1, [r0, #26]
 957              		.loc 1 1330 2 view .LVU274
 958 0002 C1F30723 		ubfx	r3, r1, #8, #8
 959 0006 C376     		strb	r3, [r0, #27]
1331:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + DIR_FstClusHI, cl >> 16);
 960              		.loc 1 1331 2 view .LVU275
 961 0008 C1F30743 		ubfx	r3, r1, #16, #8
 962 000c 0375     		strb	r3, [r0, #20]
 963              		.loc 1 1331 2 view .LVU276
 964 000e 090E     		lsrs	r1, r1, #24
 965              	.LVL95:
 966              		.loc 1 1331 2 is_stmt 0 view .LVU277
 967 0010 4175     		strb	r1, [r0, #21]
1332:Middlewares/Third_Party/FatFs/src/ff.c **** }
 968              		.loc 1 1332 1 view .LVU278
 969 0012 7047     		bx	lr
 970              		.cfi_endproc
 971              	.LFE94:
 973              		.section	.text.get_fileinfo,"ax",%progbits
 974              		.align	1
 975              		.syntax unified
 976              		.thumb
 977              		.thumb_func
 978              		.fpu softvfp
 980              	get_fileinfo:
 981              	.LVL96:
 982              	.LFB99:
1333:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1334:Middlewares/Third_Party/FatFs/src/ff.c **** 
1335:Middlewares/Third_Party/FatFs/src/ff.c **** 
1336:Middlewares/Third_Party/FatFs/src/ff.c **** 
1337:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9KJrYz.s 			page 43


1338:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1339:Middlewares/Third_Party/FatFs/src/ff.c **** /* LFN handling - Test/Pick/Fit an LFN segment from/to directory entry   */
1340:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1341:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1342:Middlewares/Third_Party/FatFs/src/ff.c **** static
1343:Middlewares/Third_Party/FatFs/src/ff.c **** const BYTE LfnOfs[] = {1,3,5,7,9,14,16,18,20,22,24,28,30};	/* Offset of LFN characters in the direc
1344:Middlewares/Third_Party/FatFs/src/ff.c **** 
1345:Middlewares/Third_Party/FatFs/src/ff.c **** 
1346:Middlewares/Third_Party/FatFs/src/ff.c **** static
1347:Middlewares/Third_Party/FatFs/src/ff.c **** int cmp_lfn (			/* 1:Matched, 0:Not matched */
1348:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR* lfnbuf,		/* Pointer to the LFN to be compared */
1349:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir			/* Pointer to the directory entry containing a part of LFN */
1350:Middlewares/Third_Party/FatFs/src/ff.c **** )
1351:Middlewares/Third_Party/FatFs/src/ff.c **** {
1352:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1353:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1354:Middlewares/Third_Party/FatFs/src/ff.c **** 
1355:Middlewares/Third_Party/FatFs/src/ff.c **** 
1356:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & ~LLEF) - 1) * 13;	/* Get offset in the LFN buffer */
1357:Middlewares/Third_Party/FatFs/src/ff.c **** 	s = 0; wc = 1;
1358:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1359:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = LD_WORD(dir + LfnOfs[s]);	/* Pick an LFN character from the entry */
1360:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {	/* Last character has not been processed */
1361:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = ff_wtoupper(uc);		/* Convert it to upper case */
1362:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN || wc != ff_wtoupper(lfnbuf[i++]))	/* Compare it */
1363:Middlewares/Third_Party/FatFs/src/ff.c **** 				return 0;				/* Not matched */
1364:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1365:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;	/* Check filler */
1366:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1367:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);				/* Repeat until all characters in the entry are checked */
1368:Middlewares/Third_Party/FatFs/src/ff.c **** 
1369:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((dir[LDIR_Ord] & LLEF) && wc && lfnbuf[i])	/* Last segment matched but different length */
1370:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 0;
1371:Middlewares/Third_Party/FatFs/src/ff.c **** 
1372:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;						/* The part of LFN matched */
1373:Middlewares/Third_Party/FatFs/src/ff.c **** }
1374:Middlewares/Third_Party/FatFs/src/ff.c **** 
1375:Middlewares/Third_Party/FatFs/src/ff.c **** 
1376:Middlewares/Third_Party/FatFs/src/ff.c **** 
1377:Middlewares/Third_Party/FatFs/src/ff.c **** static
1378:Middlewares/Third_Party/FatFs/src/ff.c **** int pick_lfn (			/* 1:Succeeded, 0:Buffer overflow */
1379:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR* lfnbuf,		/* Pointer to the Unicode-LFN buffer */
1380:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir			/* Pointer to the directory entry */
1381:Middlewares/Third_Party/FatFs/src/ff.c **** )
1382:Middlewares/Third_Party/FatFs/src/ff.c **** {
1383:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1384:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc, uc;
1385:Middlewares/Third_Party/FatFs/src/ff.c **** 
1386:Middlewares/Third_Party/FatFs/src/ff.c **** 
1387:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = ((dir[LDIR_Ord] & 0x3F) - 1) * 13;	/* Offset in the LFN buffer */
1388:Middlewares/Third_Party/FatFs/src/ff.c **** 
1389:Middlewares/Third_Party/FatFs/src/ff.c **** 	s = 0; wc = 1;
1390:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1391:Middlewares/Third_Party/FatFs/src/ff.c **** 		uc = LD_WORD(dir + LfnOfs[s]);		/* Pick an LFN character from the entry */
1392:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc) {	/* Last character has not been processed */
1393:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= _MAX_LFN) return 0;	/* Buffer overflow? */
1394:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfnbuf[i++] = wc = uc;			/* Store it */
ARM GAS  /tmp/cc9KJrYz.s 			page 44


1395:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1396:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (uc != 0xFFFF) return 0;		/* Check filler */
1397:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1398:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);						/* Read all character in the entry */
1399:Middlewares/Third_Party/FatFs/src/ff.c **** 
1400:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dir[LDIR_Ord] & LLEF) {				/* Put terminator if it is the last LFN part */
1401:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= _MAX_LFN) return 0;		/* Buffer overflow? */
1402:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfnbuf[i] = 0;
1403:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1404:Middlewares/Third_Party/FatFs/src/ff.c **** 
1405:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;
1406:Middlewares/Third_Party/FatFs/src/ff.c **** }
1407:Middlewares/Third_Party/FatFs/src/ff.c **** 
1408:Middlewares/Third_Party/FatFs/src/ff.c **** 
1409:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1410:Middlewares/Third_Party/FatFs/src/ff.c **** static
1411:Middlewares/Third_Party/FatFs/src/ff.c **** void fit_lfn (
1412:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfnbuf,	/* Pointer to the LFN buffer */
1413:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dir,				/* Pointer to the directory entry */
1414:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord,				/* LFN order (1-20) */
1415:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum				/* SFN sum */
1416:Middlewares/Third_Party/FatFs/src/ff.c **** )
1417:Middlewares/Third_Party/FatFs/src/ff.c **** {
1418:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, s;
1419:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
1420:Middlewares/Third_Party/FatFs/src/ff.c **** 
1421:Middlewares/Third_Party/FatFs/src/ff.c **** 
1422:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Chksum] = sum;			/* Set check sum */
1423:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Attr] = AM_LFN;		/* Set attribute. LFN entry */
1424:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Type] = 0;
1425:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(dir + LDIR_FstClusLO, 0);
1426:Middlewares/Third_Party/FatFs/src/ff.c **** 
1427:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (ord - 1) * 13;				/* Get offset in the LFN buffer */
1428:Middlewares/Third_Party/FatFs/src/ff.c **** 	s = wc = 0;
1429:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1430:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wc != 0xFFFF) wc = lfnbuf[i++];	/* Get an effective character */
1431:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(dir+LfnOfs[s], wc);	/* Put it */
1432:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!wc) wc = 0xFFFF;		/* Padding characters following last character */
1433:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (++s < 13);
1434:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (wc == 0xFFFF || !lfnbuf[i]) ord |= LLEF;	/* Bottom LFN part is the start of LFN sequence */
1435:Middlewares/Third_Party/FatFs/src/ff.c **** 	dir[LDIR_Ord] = ord;			/* Set the LFN order */
1436:Middlewares/Third_Party/FatFs/src/ff.c **** }
1437:Middlewares/Third_Party/FatFs/src/ff.c **** 
1438:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1439:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1440:Middlewares/Third_Party/FatFs/src/ff.c **** 
1441:Middlewares/Third_Party/FatFs/src/ff.c **** 
1442:Middlewares/Third_Party/FatFs/src/ff.c **** 
1443:Middlewares/Third_Party/FatFs/src/ff.c **** 
1444:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1445:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create numbered name                                                  */
1446:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1447:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1448:Middlewares/Third_Party/FatFs/src/ff.c **** static
1449:Middlewares/Third_Party/FatFs/src/ff.c **** void gen_numname (
1450:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE* dst,			/* Pointer to the buffer to store numbered SFN */
1451:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* src,	/* Pointer to SFN */
ARM GAS  /tmp/cc9KJrYz.s 			page 45


1452:Middlewares/Third_Party/FatFs/src/ff.c **** 	const WCHAR* lfn,	/* Pointer to LFN */
1453:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT seq			/* Sequence number */
1454:Middlewares/Third_Party/FatFs/src/ff.c **** )
1455:Middlewares/Third_Party/FatFs/src/ff.c **** {
1456:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ns[8], c;
1457:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
1458:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR wc;
1459:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sr;
1460:Middlewares/Third_Party/FatFs/src/ff.c **** 
1461:Middlewares/Third_Party/FatFs/src/ff.c **** 
1462:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(dst, src, 11);
1463:Middlewares/Third_Party/FatFs/src/ff.c **** 
1464:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (seq > 5) {	/* On many collisions, generate a hash number instead of sequential number */
1465:Middlewares/Third_Party/FatFs/src/ff.c **** 		sr = seq;
1466:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (*lfn) {	/* Create a CRC */
1467:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = *lfn++;
1468:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (i = 0; i < 16; i++) {
1469:Middlewares/Third_Party/FatFs/src/ff.c **** 				sr = (sr << 1) + (wc & 1);
1470:Middlewares/Third_Party/FatFs/src/ff.c **** 				wc >>= 1;
1471:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sr & 0x10000) sr ^= 0x11021;
1472:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1473:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1474:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq = (UINT)sr;
1475:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1476:Middlewares/Third_Party/FatFs/src/ff.c **** 
1477:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* itoa (hexdecimal) */
1478:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = 7;
1479:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1480:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (seq % 16) + '0';
1481:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c > '9') c += 7;
1482:Middlewares/Third_Party/FatFs/src/ff.c **** 		ns[i--] = c;
1483:Middlewares/Third_Party/FatFs/src/ff.c **** 		seq /= 16;
1484:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (seq);
1485:Middlewares/Third_Party/FatFs/src/ff.c **** 	ns[i] = '~';
1486:Middlewares/Third_Party/FatFs/src/ff.c **** 
1487:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Append the number */
1488:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (j = 0; j < i && dst[j] != ' '; j++) {
1489:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(dst[j])) {
1490:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (j == i - 1) break;
1491:Middlewares/Third_Party/FatFs/src/ff.c **** 			j++;
1492:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1493:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1494:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1495:Middlewares/Third_Party/FatFs/src/ff.c **** 		dst[j++] = (i < 8) ? ns[i++] : ' ';
1496:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (j < 8);
1497:Middlewares/Third_Party/FatFs/src/ff.c **** }
1498:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1499:Middlewares/Third_Party/FatFs/src/ff.c **** 
1500:Middlewares/Third_Party/FatFs/src/ff.c **** 
1501:Middlewares/Third_Party/FatFs/src/ff.c **** 
1502:Middlewares/Third_Party/FatFs/src/ff.c **** 
1503:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1504:Middlewares/Third_Party/FatFs/src/ff.c **** /* Calculate sum of an SFN                                               */
1505:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1506:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1507:Middlewares/Third_Party/FatFs/src/ff.c **** static
1508:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE sum_sfn (
ARM GAS  /tmp/cc9KJrYz.s 			page 46


1509:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE* dir		/* Pointer to the SFN entry */
1510:Middlewares/Third_Party/FatFs/src/ff.c **** )
1511:Middlewares/Third_Party/FatFs/src/ff.c **** {
1512:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sum = 0;
1513:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n = 11;
1514:Middlewares/Third_Party/FatFs/src/ff.c **** 
1515:Middlewares/Third_Party/FatFs/src/ff.c **** 	do sum = (sum >> 1) + (sum << 7) + *dir++; while (--n);
1516:Middlewares/Third_Party/FatFs/src/ff.c **** 	return sum;
1517:Middlewares/Third_Party/FatFs/src/ff.c **** }
1518:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1519:Middlewares/Third_Party/FatFs/src/ff.c **** 
1520:Middlewares/Third_Party/FatFs/src/ff.c **** 
1521:Middlewares/Third_Party/FatFs/src/ff.c **** 
1522:Middlewares/Third_Party/FatFs/src/ff.c **** 
1523:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1524:Middlewares/Third_Party/FatFs/src/ff.c **** /* Directory handling - Find an object in the directory                  */
1525:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1526:Middlewares/Third_Party/FatFs/src/ff.c **** 
1527:Middlewares/Third_Party/FatFs/src/ff.c **** static
1528:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_find (
1529:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp			/* Pointer to the directory object linked to the file name */
1530:Middlewares/Third_Party/FatFs/src/ff.c **** )
1531:Middlewares/Third_Party/FatFs/src/ff.c **** {
1532:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1533:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c, *dir;
1534:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1535:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, ord, sum;
1536:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1537:Middlewares/Third_Party/FatFs/src/ff.c **** 
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, 0);			/* Rewind directory object */
1539:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
1540:Middlewares/Third_Party/FatFs/src/ff.c **** 
1541:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1542:Middlewares/Third_Party/FatFs/src/ff.c **** 	ord = sum = 0xFF; dp->lfn_idx = 0xFFFF;	/* Reset LFN sequence */
1543:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
1546:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
1547:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
1549:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
1550:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1551:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
1552:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || ((a & AM_VOL) && a != AM_LFN)) {	/* An entry without valid data */
1553:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF; dp->lfn_idx = 0xFFFF;	/* Reset LFN sequence */
1554:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1555:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (a == AM_LFN) {			/* An LFN entry is found */
1556:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->lfn) {
1557:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c & LLEF) {		/* Is it start of LFN sequence? */
1558:Middlewares/Third_Party/FatFs/src/ff.c **** 						sum = dir[LDIR_Chksum];
1559:Middlewares/Third_Party/FatFs/src/ff.c **** 						c &= ~LLEF; ord = c;	/* LFN start order */
1560:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lfn_idx = dp->index;	/* Start index of LFN */
1561:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
1562:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Check validity of the LFN entry and compare it with given name */
1563:Middlewares/Third_Party/FatFs/src/ff.c **** 					ord = (c == ord && sum == dir[LDIR_Chksum] && cmp_lfn(dp->lfn, dir)) ? ord - 1 : 0xFF;
1564:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1565:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* An SFN entry is found */
ARM GAS  /tmp/cc9KJrYz.s 			page 47


1566:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!ord && sum == sum_sfn(dir)) break;	/* LFN matched? */
1567:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!(dp->fn[NSFLAG] & NS_LOSS) && !mem_cmp(dir, dp->fn, 11)) break;	/* SFN matched? */
1568:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = 0xFF; dp->lfn_idx = 0xFFFF;	/* Reset LFN sequence */
1569:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1570:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1571:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(dir[DIR_Attr] & AM_VOL) && !mem_cmp(dir, dp->fn, 11)) /* Is it a valid entry? */
1573:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1574:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);		/* Next entry */
1576:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
1577:Middlewares/Third_Party/FatFs/src/ff.c **** 
1578:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1579:Middlewares/Third_Party/FatFs/src/ff.c **** }
1580:Middlewares/Third_Party/FatFs/src/ff.c **** 
1581:Middlewares/Third_Party/FatFs/src/ff.c **** 
1582:Middlewares/Third_Party/FatFs/src/ff.c **** 
1583:Middlewares/Third_Party/FatFs/src/ff.c **** 
1584:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1585:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read an object from the directory                                     */
1586:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1587:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2
1588:Middlewares/Third_Party/FatFs/src/ff.c **** static
1589:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_read (
1590:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the directory object */
1591:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol			/* Filtered by 0:file/directory or 1:volume label */
1592:Middlewares/Third_Party/FatFs/src/ff.c **** )
1593:Middlewares/Third_Party/FatFs/src/ff.c **** {
1594:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1595:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c, *dir;
1596:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1597:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE ord = 0xFF, sum = 0xFF;
1598:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1599:Middlewares/Third_Party/FatFs/src/ff.c **** 
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = FR_NO_FILE;
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
1604:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
1605:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
1607:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
1608:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1609:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == DDEM || (!_FS_RPATH && c == '.') || (int)((a & ~AM_ARC) == AM_VOL) != vol) {	/* An entry
1610:Middlewares/Third_Party/FatFs/src/ff.c **** 			ord = 0xFF;
1611:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
1612:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (a == AM_LFN) {			/* An LFN entry is found */
1613:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c & LLEF) {			/* Is it start of LFN sequence? */
1614:Middlewares/Third_Party/FatFs/src/ff.c **** 					sum = dir[LDIR_Chksum];
1615:Middlewares/Third_Party/FatFs/src/ff.c **** 					c &= ~LLEF; ord = c;
1616:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->lfn_idx = dp->index;
1617:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
1618:Middlewares/Third_Party/FatFs/src/ff.c **** 				/* Check LFN validity and capture it */
1619:Middlewares/Third_Party/FatFs/src/ff.c **** 				ord = (c == ord && sum == dir[LDIR_Chksum] && pick_lfn(dp->lfn, dir)) ? ord - 1 : 0xFF;
1620:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* An SFN entry is found */
1621:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ord || sum != sum_sfn(dir))	/* Is there a valid LFN? */
1622:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->lfn_idx = 0xFFFF;		/* It has no LFN. */
ARM GAS  /tmp/cc9KJrYz.s 			page 48


1623:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
1624:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1625:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1626:Middlewares/Third_Party/FatFs/src/ff.c **** #else		/* Non LFN configuration */
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != DDEM && (_FS_RPATH || c != '.') && a != AM_LFN && (int)((a & ~AM_ARC) == AM_VOL) == vol)
1628:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
1629:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_next(dp, 0);				/* Next entry */
1631:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
1632:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1633:Middlewares/Third_Party/FatFs/src/ff.c **** 
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) dp->sect = 0;
1635:Middlewares/Third_Party/FatFs/src/ff.c **** 
1636:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1637:Middlewares/Third_Party/FatFs/src/ff.c **** }
1638:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2 */
1639:Middlewares/Third_Party/FatFs/src/ff.c **** 
1640:Middlewares/Third_Party/FatFs/src/ff.c **** 
1641:Middlewares/Third_Party/FatFs/src/ff.c **** 
1642:Middlewares/Third_Party/FatFs/src/ff.c **** 
1643:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1644:Middlewares/Third_Party/FatFs/src/ff.c **** /* Register an object to the directory                                   */
1645:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1646:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
1647:Middlewares/Third_Party/FatFs/src/ff.c **** static
1648:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_register (	/* FR_OK:Successful, FR_DENIED:No free entry or too many SFN collision, FR_D
1649:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Target directory with object name to be created */
1650:Middlewares/Third_Party/FatFs/src/ff.c **** )
1651:Middlewares/Third_Party/FatFs/src/ff.c **** {
1652:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1653:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1654:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n, nent;
1655:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sn[12], *fn, sum;
1656:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR *lfn;
1657:Middlewares/Third_Party/FatFs/src/ff.c **** 
1658:Middlewares/Third_Party/FatFs/src/ff.c **** 
1659:Middlewares/Third_Party/FatFs/src/ff.c **** 	fn = dp->fn; lfn = dp->lfn;
1660:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(sn, fn, 12);
1661:Middlewares/Third_Party/FatFs/src/ff.c **** 
1662:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_FS_RPATH && (sn[NSFLAG] & NS_DOT))		/* Cannot create dot entry */
1663:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_NAME;
1664:Middlewares/Third_Party/FatFs/src/ff.c **** 
1665:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LOSS) {			/* When LFN is out of 8.3 format, generate a numbered name */
1666:Middlewares/Third_Party/FatFs/src/ff.c **** 		fn[NSFLAG] = 0; dp->lfn = 0;			/* Find only SFN */
1667:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < 100; n++) {
1668:Middlewares/Third_Party/FatFs/src/ff.c **** 			gen_numname(fn, sn, lfn, n);	/* Generate a numbered name */
1669:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Check if the name collides with existing SFN */
1670:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1671:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1672:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (n == 100) return FR_DENIED;		/* Abort if too many collisions */
1673:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_NO_FILE) return res;	/* Abort if the result is other than 'not collided' */
1674:Middlewares/Third_Party/FatFs/src/ff.c **** 		fn[NSFLAG] = sn[NSFLAG]; dp->lfn = lfn;
1675:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1676:Middlewares/Third_Party/FatFs/src/ff.c **** 
1677:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sn[NSFLAG] & NS_LFN) {			/* When LFN is to be created, allocate entries for an SFN + LFNs. */
1678:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 0; lfn[n]; n++) ;
1679:Middlewares/Third_Party/FatFs/src/ff.c **** 		nent = (n + 25) / 13;
ARM GAS  /tmp/cc9KJrYz.s 			page 49


1680:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {						/* Otherwise allocate an entry for an SFN  */
1681:Middlewares/Third_Party/FatFs/src/ff.c **** 		nent = 1;
1682:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1683:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, nent);		/* Allocate entries */
1684:Middlewares/Third_Party/FatFs/src/ff.c **** 
1685:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && --nent) {	/* Set LFN entry if needed */
1686:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, dp->index - nent);
1687:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
1688:Middlewares/Third_Party/FatFs/src/ff.c **** 			sum = sum_sfn(dp->fn);	/* Sum value of the SFN tied to the LFN */
1689:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {					/* Store LFN entries in bottom first */
1690:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = move_window(dp->fs, dp->sect);
1691:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
1692:Middlewares/Third_Party/FatFs/src/ff.c **** 				fit_lfn(dp->lfn, dp->dir, (BYTE)nent, sum);
1693:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->fs->wflag = 1;
1694:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);	/* Next entry */
1695:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK && --nent);
1696:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1697:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1698:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non LFN configuration */
1699:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_alloc(dp, 1);		/* Allocate an entry for SFN */
1700:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1701:Middlewares/Third_Party/FatFs/src/ff.c **** 
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {				/* Set SFN entry */
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
1704:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
1705:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clean the entry */
1706:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir, dp->fn, 11);	/* Put SFN */
1707:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1708:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->dir[DIR_NTres] = dp->fn[NSFLAG] & (NS_BODY | NS_EXT);	/* Put NT flag */
1709:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1710:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
1711:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1712:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1713:Middlewares/Third_Party/FatFs/src/ff.c **** 
1714:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1715:Middlewares/Third_Party/FatFs/src/ff.c **** }
1716:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1717:Middlewares/Third_Party/FatFs/src/ff.c **** 
1718:Middlewares/Third_Party/FatFs/src/ff.c **** 
1719:Middlewares/Third_Party/FatFs/src/ff.c **** 
1720:Middlewares/Third_Party/FatFs/src/ff.c **** 
1721:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1722:Middlewares/Third_Party/FatFs/src/ff.c **** /* Remove an object from the directory                                   */
1723:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1724:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && !_FS_MINIMIZE
1725:Middlewares/Third_Party/FatFs/src/ff.c **** static
1726:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT dir_remove (	/* FR_OK: Successful, FR_DISK_ERR: A disk error */
1727:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp				/* Directory object pointing the entry to be removed */
1728:Middlewares/Third_Party/FatFs/src/ff.c **** )
1729:Middlewares/Third_Party/FatFs/src/ff.c **** {
1730:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
1731:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1732:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
1733:Middlewares/Third_Party/FatFs/src/ff.c **** 
1734:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = dp->index;	/* SFN index */
1735:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, (dp->lfn_idx == 0xFFFF) ? i : dp->lfn_idx);	/* Goto the SFN or top of the LFN en
1736:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
ARM GAS  /tmp/cc9KJrYz.s 			page 50


1737:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
1738:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(dp->fs, dp->sect);
1739:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
1740:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clear and mark the entry "deleted" */
1741:Middlewares/Third_Party/FatFs/src/ff.c **** 			*dp->dir = DDEM;
1742:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
1743:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->index >= i) break;	/* When reached SFN, all entries of the object has been deleted. */
1744:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_next(dp, 0);		/* Next entry */
1745:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
1746:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_INT_ERR;
1747:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1748:Middlewares/Third_Party/FatFs/src/ff.c **** 
1749:Middlewares/Third_Party/FatFs/src/ff.c **** #else			/* Non LFN configuration */
1750:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(dp, dp->index);
1751:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
1753:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clear and mark the entry "deleted" */
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 			*dp->dir = DDEM;
1756:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
1757:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1758:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1759:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1760:Middlewares/Third_Party/FatFs/src/ff.c **** 
1761:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
1762:Middlewares/Third_Party/FatFs/src/ff.c **** }
1763:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
1764:Middlewares/Third_Party/FatFs/src/ff.c **** 
1765:Middlewares/Third_Party/FatFs/src/ff.c **** 
1766:Middlewares/Third_Party/FatFs/src/ff.c **** 
1767:Middlewares/Third_Party/FatFs/src/ff.c **** 
1768:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1769:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get file information from directory entry                             */
1770:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1771:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1 || _FS_RPATH >= 2
1772:Middlewares/Third_Party/FatFs/src/ff.c **** static
1773:Middlewares/Third_Party/FatFs/src/ff.c **** void get_fileinfo (		/* No return code */
1774:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
1775:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	 	/* Pointer to the file information to be filled */
1776:Middlewares/Third_Party/FatFs/src/ff.c **** )
1777:Middlewares/Third_Party/FatFs/src/ff.c **** {
 983              		.loc 1 1777 1 is_stmt 1 view -0
 984              		.cfi_startproc
 985              		@ args = 0, pretend = 0, frame = 0
 986              		@ frame_needed = 0, uses_anonymous_args = 0
 987              		@ link register save eliminated.
1778:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 988              		.loc 1 1778 2 view .LVU280
1779:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR *p, c;
 989              		.loc 1 1779 2 view .LVU281
1780:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 990              		.loc 1 1780 2 view .LVU282
1781:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1782:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, *lfn;
1783:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1784:Middlewares/Third_Party/FatFs/src/ff.c **** 
1785:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = fno->fname;
ARM GAS  /tmp/cc9KJrYz.s 			page 51


 991              		.loc 1 1785 2 view .LVU283
 992              		.loc 1 1785 4 is_stmt 0 view .LVU284
 993 0000 01F10902 		add	r2, r1, #9
 994              	.LVL97:
1786:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->sect) {		/* Get SFN */
 995              		.loc 1 1786 2 is_stmt 1 view .LVU285
 996              		.loc 1 1786 8 is_stmt 0 view .LVU286
 997 0004 00F58053 		add	r3, r0, #4096
 998 0008 1B69     		ldr	r3, [r3, #16]
 999              		.loc 1 1786 5 view .LVU287
 1000 000a 002B     		cmp	r3, #0
 1001 000c 34D0     		beq	.L102
1777:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 1002              		.loc 1 1777 1 view .LVU288
 1003 000e 10B4     		push	{r4}
 1004              	.LCFI10:
 1005              		.cfi_def_cfa_offset 4
 1006              		.cfi_offset 4, -4
1787:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;
 1007              		.loc 1 1787 3 is_stmt 1 view .LVU289
 1008              		.loc 1 1787 7 is_stmt 0 view .LVU290
 1009 0010 00F58050 		add	r0, r0, #4096
 1010              	.LVL98:
 1011              		.loc 1 1787 7 view .LVU291
 1012 0014 4469     		ldr	r4, [r0, #20]
 1013              	.LVL99:
1788:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
 1014              		.loc 1 1788 3 is_stmt 1 view .LVU292
1789:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (i < 11) {		/* Copy name body and extension */
 1015              		.loc 1 1789 3 view .LVU293
1788:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
 1016              		.loc 1 1788 5 is_stmt 0 view .LVU294
 1017 0016 0023     		movs	r3, #0
 1018              		.loc 1 1789 9 view .LVU295
 1019 0018 04E0     		b	.L95
 1020              	.LVL100:
 1021              	.L97:
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (TCHAR)dir[i++];
1791:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == ' ') continue;				/* Skip padding spaces */
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
1793:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == 9) *p++ = '.';				/* Insert a . if extension is exist */
 1022              		.loc 1 1793 4 is_stmt 1 view .LVU296
 1023              		.loc 1 1793 7 is_stmt 0 view .LVU297
 1024 001a 0928     		cmp	r0, #9
 1025 001c 0CD0     		beq	.L105
 1026              	.L98:
1794:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1795:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c) && (dir[DIR_NTres] & (i >= 9 ? NS_EXT : NS_BODY)))
1796:Middlewares/Third_Party/FatFs/src/ff.c **** 				c += 0x20;			/* To lower */
1797:Middlewares/Third_Party/FatFs/src/ff.c **** #if _LFN_UNICODE
1798:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsDBCS1(c) && i != 8 && i != 11 && IsDBCS2(dir[i]))
1799:Middlewares/Third_Party/FatFs/src/ff.c **** 				c = c << 8 | dir[i++];
1800:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = ff_convert(c, 1);	/* OEM -> Unicode */
1801:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!c) c = '?';
1802:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1803:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1804:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p++ = c;
ARM GAS  /tmp/cc9KJrYz.s 			page 52


 1027              		.loc 1 1804 4 is_stmt 1 view .LVU298
 1028              	.LVL101:
 1029              		.loc 1 1804 9 is_stmt 0 view .LVU299
 1030 001e 02F8013B 		strb	r3, [r2], #1
 1031              	.LVL102:
 1032              	.L96:
 1033              		.loc 1 1804 6 view .LVU300
 1034 0022 0346     		mov	r3, r0
 1035              	.LVL103:
 1036              	.L95:
1789:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (TCHAR)dir[i++];
 1037              		.loc 1 1789 9 is_stmt 1 view .LVU301
 1038 0024 0A2B     		cmp	r3, #10
 1039 0026 0CD8     		bhi	.L106
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (TCHAR)dir[i++];
 1040              		.loc 1 1790 4 view .LVU302
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (TCHAR)dir[i++];
 1041              		.loc 1 1790 20 is_stmt 0 view .LVU303
 1042 0028 581C     		adds	r0, r3, #1
 1043              	.LVL104:
1790:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (TCHAR)dir[i++];
 1044              		.loc 1 1790 6 view .LVU304
 1045 002a E35C     		ldrb	r3, [r4, r3]	@ zero_extendqisi2
 1046              	.LVL105:
1791:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
 1047              		.loc 1 1791 4 is_stmt 1 view .LVU305
1791:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == RDDEM) c = (TCHAR)DDEM;	/* Restore replaced DDEM character */
 1048              		.loc 1 1791 7 is_stmt 0 view .LVU306
 1049 002c 202B     		cmp	r3, #32
 1050 002e F8D0     		beq	.L96
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == 9) *p++ = '.';				/* Insert a . if extension is exist */
 1051              		.loc 1 1792 4 is_stmt 1 view .LVU307
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == 9) *p++ = '.';				/* Insert a . if extension is exist */
 1052              		.loc 1 1792 7 is_stmt 0 view .LVU308
 1053 0030 052B     		cmp	r3, #5
 1054 0032 F2D1     		bne	.L97
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == 9) *p++ = '.';				/* Insert a . if extension is exist */
 1055              		.loc 1 1792 22 view .LVU309
 1056 0034 E523     		movs	r3, #229
 1057              	.LVL106:
1792:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == 9) *p++ = '.';				/* Insert a . if extension is exist */
 1058              		.loc 1 1792 22 view .LVU310
 1059 0036 F0E7     		b	.L97
 1060              	.LVL107:
 1061              	.L105:
1793:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 1062              		.loc 1 1793 16 is_stmt 1 discriminator 1 view .LVU311
1793:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 1063              		.loc 1 1793 21 is_stmt 0 discriminator 1 view .LVU312
 1064 0038 4FF02E0C 		mov	ip, #46
 1065 003c 02F801CB 		strb	ip, [r2], #1
 1066              	.LVL108:
1793:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 1067              		.loc 1 1793 21 discriminator 1 view .LVU313
 1068 0040 EDE7     		b	.L98
 1069              	.LVL109:
 1070              	.L106:
ARM GAS  /tmp/cc9KJrYz.s 			page 53


1805:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1806:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fattrib = dir[DIR_Attr];				/* Attribute */
 1071              		.loc 1 1806 3 is_stmt 1 view .LVU314
 1072              		.loc 1 1806 16 is_stmt 0 view .LVU315
 1073 0042 E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 1074              	.LVL110:
 1075              		.loc 1 1806 16 view .LVU316
 1076 0044 0B72     		strb	r3, [r1, #8]
1807:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fsize = LD_DWORD(dir + DIR_FileSize);	/* Size */
 1077              		.loc 1 1807 3 is_stmt 1 view .LVU317
 1078              		.loc 1 1807 16 is_stmt 0 view .LVU318
 1079 0046 E07F     		ldrb	r0, [r4, #31]	@ zero_extendqisi2
 1080 0048 A37F     		ldrb	r3, [r4, #30]	@ zero_extendqisi2
 1081 004a 1B04     		lsls	r3, r3, #16
 1082 004c 43EA0063 		orr	r3, r3, r0, lsl #24
 1083 0050 607F     		ldrb	r0, [r4, #29]	@ zero_extendqisi2
 1084 0052 43EA0023 		orr	r3, r3, r0, lsl #8
 1085 0056 207F     		ldrb	r0, [r4, #28]	@ zero_extendqisi2
 1086 0058 0343     		orrs	r3, r3, r0
 1087              		.loc 1 1807 14 view .LVU319
 1088 005a 0B60     		str	r3, [r1]
1808:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->fdate = LD_WORD(dir + DIR_WrtDate);	/* Date */
 1089              		.loc 1 1808 3 is_stmt 1 view .LVU320
 1090              		.loc 1 1808 16 is_stmt 0 view .LVU321
 1091 005c 607E     		ldrb	r0, [r4, #25]	@ zero_extendqisi2
 1092 005e 237E     		ldrb	r3, [r4, #24]	@ zero_extendqisi2
 1093 0060 43EA0023 		orr	r3, r3, r0, lsl #8
 1094              		.loc 1 1808 14 view .LVU322
 1095 0064 8B80     		strh	r3, [r1, #4]	@ movhi
1809:Middlewares/Third_Party/FatFs/src/ff.c **** 		fno->ftime = LD_WORD(dir + DIR_WrtTime);	/* Time */
 1096              		.loc 1 1809 3 is_stmt 1 view .LVU323
 1097              		.loc 1 1809 16 is_stmt 0 view .LVU324
 1098 0066 E07D     		ldrb	r0, [r4, #23]	@ zero_extendqisi2
 1099 0068 A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
 1100 006a 43EA0023 		orr	r3, r3, r0, lsl #8
 1101              		.loc 1 1809 14 view .LVU325
 1102 006e CB80     		strh	r3, [r1, #6]	@ movhi
1810:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1811:Middlewares/Third_Party/FatFs/src/ff.c **** 	*p = 0;		/* Terminate SFN string by a \0 */
 1103              		.loc 1 1811 2 is_stmt 1 view .LVU326
 1104              		.loc 1 1811 5 is_stmt 0 view .LVU327
 1105 0070 0023     		movs	r3, #0
 1106 0072 1370     		strb	r3, [r2]
1812:Middlewares/Third_Party/FatFs/src/ff.c **** 
1813:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
1814:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fno->lfname) {
1815:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0; p = fno->lfname;
1816:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->sect && fno->lfsize && dp->lfn_idx != 0xFFFF) {	/* Get LFN if available */
1817:Middlewares/Third_Party/FatFs/src/ff.c **** 			lfn = dp->lfn;
1818:Middlewares/Third_Party/FatFs/src/ff.c **** 			while ((w = *lfn++) != 0) {		/* Get an LFN character */
1819:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1820:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = ff_convert(w, 0);		/* Unicode -> OEM */
1821:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!w) { i = 0; break; }	/* No LFN if it could not be converted */
1822:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (_DF1S && w >= 0x100)	/* Put 1st byte if it is a DBC (always false on SBCS cfg) */
1823:Middlewares/Third_Party/FatFs/src/ff.c **** 					p[i++] = (TCHAR)(w >> 8);
1824:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1825:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i >= fno->lfsize - 1) { i = 0; break; }	/* No LFN if buffer overflow */
ARM GAS  /tmp/cc9KJrYz.s 			page 54


1826:Middlewares/Third_Party/FatFs/src/ff.c **** 				p[i++] = (TCHAR)w;
1827:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1828:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1829:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[i] = 0;	/* Terminate LFN string by a \0 */
1830:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1831:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1832:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1107              		.loc 1 1832 1 view .LVU328
 1108 0074 10BC     		pop	{r4}
 1109              	.LCFI11:
 1110              		.cfi_restore 4
 1111              		.cfi_def_cfa_offset 0
 1112              	.LVL111:
 1113              		.loc 1 1832 1 view .LVU329
 1114 0076 7047     		bx	lr
 1115              	.LVL112:
 1116              	.L102:
1811:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1117              		.loc 1 1811 2 is_stmt 1 view .LVU330
1811:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1118              		.loc 1 1811 5 is_stmt 0 view .LVU331
 1119 0078 0023     		movs	r3, #0
 1120 007a 1370     		strb	r3, [r2]
 1121 007c 7047     		bx	lr
 1122              		.cfi_endproc
 1123              	.LFE99:
 1125              		.section	.rodata.create_name.str1.4,"aMS",%progbits,1
 1126              		.align	2
 1127              	.LC0:
 1128 0000 222A2B2C 		.ascii	"\"*+,:;<=>?[]|\177\000"
 1128      3A3B3C3D 
 1128      3E3F5B5D 
 1128      7C7F00
 1129              		.section	.text.create_name,"ax",%progbits
 1130              		.align	1
 1131              		.syntax unified
 1132              		.thumb
 1133              		.thumb_func
 1134              		.fpu softvfp
 1136              	create_name:
 1137              	.LVL113:
 1138              	.LFB100:
1833:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 || _FS_RPATH >= 2 */
1834:Middlewares/Third_Party/FatFs/src/ff.c **** 
1835:Middlewares/Third_Party/FatFs/src/ff.c **** 
1836:Middlewares/Third_Party/FatFs/src/ff.c **** 
1837:Middlewares/Third_Party/FatFs/src/ff.c **** 
1838:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1839:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pattern matching                                                      */
1840:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1841:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND && _FS_MINIMIZE <= 1
1842:Middlewares/Third_Party/FatFs/src/ff.c **** static
1843:Middlewares/Third_Party/FatFs/src/ff.c **** WCHAR get_achar (		/* Get a character and advances ptr 1 or 2 */
1844:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** ptr	/* Pointer to pointer to the SBCS/DBCS/Unicode string */
1845:Middlewares/Third_Party/FatFs/src/ff.c **** )
1846:Middlewares/Third_Party/FatFs/src/ff.c **** {
1847:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR chr;
ARM GAS  /tmp/cc9KJrYz.s 			page 55


1848:Middlewares/Third_Party/FatFs/src/ff.c **** 
1849:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1850:Middlewares/Third_Party/FatFs/src/ff.c **** 	chr = (BYTE)*(*ptr)++;					/* Get a byte */
1851:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsLower(chr)) chr -= 0x20;			/* To upper ASCII char */
1852:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (IsDBCS1(chr) && IsDBCS2(**ptr))		/* Get DBC 2nd byte if needed */
1853:Middlewares/Third_Party/FatFs/src/ff.c **** 		chr = chr << 8 | (BYTE)*(*ptr)++;
1854:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
1855:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (chr >= 0x80) chr = ExCvt[chr - 0x80];	/* To upper SBCS extended char */
1856:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1857:Middlewares/Third_Party/FatFs/src/ff.c **** #else
1858:Middlewares/Third_Party/FatFs/src/ff.c **** 	chr = ff_wtoupper(*(*ptr)++);			/* Get a word and to upper */
1859:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1860:Middlewares/Third_Party/FatFs/src/ff.c **** 	return chr;
1861:Middlewares/Third_Party/FatFs/src/ff.c **** }
1862:Middlewares/Third_Party/FatFs/src/ff.c **** 
1863:Middlewares/Third_Party/FatFs/src/ff.c **** 
1864:Middlewares/Third_Party/FatFs/src/ff.c **** static
1865:Middlewares/Third_Party/FatFs/src/ff.c **** int pattern_matching (	/* Return value: 0:mismatched, 1:matched */
1866:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pat,	/* Matching pattern */
1867:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* nam,	/* String to be tested */
1868:Middlewares/Third_Party/FatFs/src/ff.c **** 	int skip,			/* Number of pre-skip chars (number of ?s) */
1869:Middlewares/Third_Party/FatFs/src/ff.c **** 	int inf				/* Infinite search (* specified) */
1870:Middlewares/Third_Party/FatFs/src/ff.c **** )
1871:Middlewares/Third_Party/FatFs/src/ff.c **** {
1872:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *pp, *np;
1873:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR pc, nc;
1874:Middlewares/Third_Party/FatFs/src/ff.c **** 	int nm, nx;
1875:Middlewares/Third_Party/FatFs/src/ff.c **** 
1876:Middlewares/Third_Party/FatFs/src/ff.c **** 
1877:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (skip--) {				/* Pre-skip name chars */
1878:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!get_achar(&nam)) return 0;	/* Branch mismatched if less name chars */
1879:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1880:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!*pat && inf) return 1;		/* (short circuit) */
1881:Middlewares/Third_Party/FatFs/src/ff.c **** 
1882:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
1883:Middlewares/Third_Party/FatFs/src/ff.c **** 		pp = pat; np = nam;			/* Top of pattern and name to match */
1884:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
1885:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (*pp == '?' || *pp == '*') {	/* Wildcard? */
1886:Middlewares/Third_Party/FatFs/src/ff.c **** 				nm = nx = 0;
1887:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {				/* Analyze the wildcard chars */
1888:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (*pp++ == '?') nm++; else nx = 1;
1889:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (*pp == '?' || *pp == '*');
1890:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (pattern_matching(pp, np, nm, nx)) return 1;	/* Test new branch (recurs upto number of wildc
1891:Middlewares/Third_Party/FatFs/src/ff.c **** 				nc = *np; break;	/* Branch mismatched */
1892:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1893:Middlewares/Third_Party/FatFs/src/ff.c **** 			pc = get_achar(&pp);	/* Get a pattern char */
1894:Middlewares/Third_Party/FatFs/src/ff.c **** 			nc = get_achar(&np);	/* Get a name char */
1895:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (pc != nc) break;	/* Branch mismatched? */
1896:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!pc) return 1;		/* Branch matched? (matched at end of both strings) */
1897:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1898:Middlewares/Third_Party/FatFs/src/ff.c **** 		get_achar(&nam);			/* nam++ */
1899:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (inf && nc);			/* Retry until end of name if infinite search is specified */
1900:Middlewares/Third_Party/FatFs/src/ff.c **** 
1901:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 0;
1902:Middlewares/Third_Party/FatFs/src/ff.c **** }
1903:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FIND && _FS_MINIMIZE <= 1 */
1904:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9KJrYz.s 			page 56


1905:Middlewares/Third_Party/FatFs/src/ff.c **** 
1906:Middlewares/Third_Party/FatFs/src/ff.c **** 
1907:Middlewares/Third_Party/FatFs/src/ff.c **** 
1908:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1909:Middlewares/Third_Party/FatFs/src/ff.c **** /* Pick a segment and create the object name in directory form           */
1910:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
1911:Middlewares/Third_Party/FatFs/src/ff.c **** 
1912:Middlewares/Third_Party/FatFs/src/ff.c **** static
1913:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT create_name (
1914:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the directory object */
1915:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the segment in the path string */
1916:Middlewares/Third_Party/FatFs/src/ff.c **** )
1917:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1139              		.loc 1 1917 1 is_stmt 1 view -0
 1140              		.cfi_startproc
 1141              		@ args = 0, pretend = 0, frame = 0
 1142              		@ frame_needed = 0, uses_anonymous_args = 0
 1143              		.loc 1 1917 1 is_stmt 0 view .LVU333
 1144 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1145              	.LCFI12:
 1146              		.cfi_def_cfa_offset 40
 1147              		.cfi_offset 3, -40
 1148              		.cfi_offset 4, -36
 1149              		.cfi_offset 5, -32
 1150              		.cfi_offset 6, -28
 1151              		.cfi_offset 7, -24
 1152              		.cfi_offset 8, -20
 1153              		.cfi_offset 9, -16
 1154              		.cfi_offset 10, -12
 1155              		.cfi_offset 11, -8
 1156              		.cfi_offset 14, -4
 1157 0004 8946     		mov	r9, r1
1918:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
1919:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE b, cf;
1920:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w, *lfn;
1921:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, ni, si, di;
1922:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *p;
1923:Middlewares/Third_Party/FatFs/src/ff.c **** 
1924:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create LFN in Unicode */
1925:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (p = *path; *p == '/' || *p == '\\'; p++) ;	/* Strip duplicated separator */
1926:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfn = dp->lfn;
1927:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = di = 0;
1928:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1929:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = p[si++];					/* Get a character */
1930:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < ' ' || w == '/' || w == '\\') break;	/* Break on end of segment */
1931:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (di >= _MAX_LFN)				/* Reject too long name */
1932:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;
1933:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_LFN_UNICODE
1934:Middlewares/Third_Party/FatFs/src/ff.c **** 		w &= 0xFF;
1935:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(w)) {				/* Check if it is a DBC 1st byte (always false on SBCS cfg) */
1936:Middlewares/Third_Party/FatFs/src/ff.c **** #if _DF1S
1937:Middlewares/Third_Party/FatFs/src/ff.c **** 			b = (BYTE)p[si++];			/* Get 2nd byte */
1938:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = (w << 8) + b;			/* Create a DBC */
1939:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(b))
1940:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INVALID_NAME;	/* Reject invalid sequence */
1941:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1942:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/cc9KJrYz.s 			page 57


1943:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = ff_convert(w, 1);			/* Convert ANSI/OEM to Unicode */
1944:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) return FR_INVALID_NAME;	/* Reject invalid code */
1945:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1946:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w < 0x80 && chk_chr("\"*:<>\?|\x7F", w)) /* Reject illegal characters for LFN */
1947:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;
1948:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di++] = w;					/* Store the Unicode character */
1949:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1950:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = &p[si];						/* Return pointer to the next segment */
1951:Middlewares/Third_Party/FatFs/src/ff.c **** 	cf = (w < ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
1952:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
1953:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((di == 1 && lfn[di - 1] == '.') || /* Is this a dot entry? */
1954:Middlewares/Third_Party/FatFs/src/ff.c **** 		(di == 2 && lfn[di - 1] == '.' && lfn[di - 2] == '.')) {
1955:Middlewares/Third_Party/FatFs/src/ff.c **** 		lfn[di] = 0;
1956:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 11; i++)
1957:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i] = (i < di) ? '.' : ' ';
1958:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i] = cf | NS_DOT;		/* This is a dot entry */
1959:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
1960:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1961:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
1962:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di) {						/* Strip trailing spaces and dots */
1963:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[di - 1];
1964:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w != ' ' && w != '.') break;
1965:Middlewares/Third_Party/FatFs/src/ff.c **** 		di--;
1966:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
1967:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!di) return FR_INVALID_NAME;	/* Reject nul string */
1968:Middlewares/Third_Party/FatFs/src/ff.c **** 
1969:Middlewares/Third_Party/FatFs/src/ff.c **** 	lfn[di] = 0;						/* LFN is created */
1970:Middlewares/Third_Party/FatFs/src/ff.c **** 
1971:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create SFN in directory form */
1972:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(dp->fn, ' ', 11);
1973:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (si = 0; lfn[si] == ' ' || lfn[si] == '.'; si++) ;	/* Strip leading spaces and dots */
1974:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (si) cf |= NS_LOSS | NS_LFN;
1975:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (di && lfn[di - 1] != '.') di--;	/* Find extension (di<=si: no extension) */
1976:Middlewares/Third_Party/FatFs/src/ff.c **** 
1977:Middlewares/Third_Party/FatFs/src/ff.c **** 	b = i = 0; ni = 8;
1978:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
1979:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = lfn[si++];					/* Get an LFN character */
1980:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!w) break;					/* Break on end of the LFN */
1981:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w == ' ' || (w == '.' && si != di)) {	/* Remove spaces and dots */
1982:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LOSS | NS_LFN; continue;
1983:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1984:Middlewares/Third_Party/FatFs/src/ff.c **** 
1985:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i >= ni || si == di) {		/* Extension or end of SFN */
1986:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni == 11) {				/* Long extension */
1987:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; break;
1988:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
1989:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si != di) cf |= NS_LOSS | NS_LFN;	/* Out of 8.3 format */
1990:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (si > di) break;			/* No extension */
1991:Middlewares/Third_Party/FatFs/src/ff.c **** 			si = di; i = 8; ni = 11;	/* Enter extension section */
1992:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
1993:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
1994:Middlewares/Third_Party/FatFs/src/ff.c **** 
1995:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (w >= 0x80) {				/* Non ASCII character */
1996:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
1997:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(w, 0);		/* Unicode -> OEM code */
1998:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w) w = ExCvt[w - 0x80];	/* Convert extended character to upper (SBCS) */
1999:Middlewares/Third_Party/FatFs/src/ff.c **** #else
ARM GAS  /tmp/cc9KJrYz.s 			page 58


2000:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(w), 0);	/* Upper converted Unicode -> OEM code */
2001:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2002:Middlewares/Third_Party/FatFs/src/ff.c **** 			cf |= NS_LFN;				/* Force create LFN entry */
2003:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2004:Middlewares/Third_Party/FatFs/src/ff.c **** 
2005:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_DF1S && w >= 0x100) {		/* DBC (always false at SBCS cfg) */
2006:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= ni - 1) {
2007:Middlewares/Third_Party/FatFs/src/ff.c **** 				cf |= NS_LOSS | NS_LFN; i = ni; continue;
2008:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2009:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fn[i++] = (BYTE)(w >> 8);
2010:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2011:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!w || chk_chr("+,;=[]", w)) {	/* Replace illegal characters for SFN */
2012:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = '_'; cf |= NS_LOSS | NS_LFN;/* Lossy conversion */
2013:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2014:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsUpper(w)) {		/* ASCII large capital */
2015:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 2;
2016:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2017:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (IsLower(w)) {	/* ASCII small capital */
2018:Middlewares/Third_Party/FatFs/src/ff.c **** 						b |= 1; w -= 0x20;
2019:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2020:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2021:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2022:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2023:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fn[i++] = (BYTE)w;
2024:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2025:Middlewares/Third_Party/FatFs/src/ff.c **** 
2026:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (dp->fn[0] == DDEM) dp->fn[0] = RDDEM;	/* If the first character collides with deleted mark, re
2027:Middlewares/Third_Party/FatFs/src/ff.c **** 
2028:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ni == 8) b <<= 2;
2029:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x0C || (b & 0x03) == 0x03)	/* Create LFN entry when there are composite capital
2030:Middlewares/Third_Party/FatFs/src/ff.c **** 		cf |= NS_LFN;
2031:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(cf & NS_LFN)) {						/* When LFN is in 8.3 format without extended character, NT flags are c
2032:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x03) == 0x01) cf |= NS_EXT;	/* NT flag (Extension has only small capital) */
2033:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((b & 0x0C) == 0x04) cf |= NS_BODY;	/* NT flag (Filename has only small capital) */
2034:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2035:Middlewares/Third_Party/FatFs/src/ff.c **** 
2036:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->fn[NSFLAG] = cf;	/* SFN is created */
2037:Middlewares/Third_Party/FatFs/src/ff.c **** 
2038:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2039:Middlewares/Third_Party/FatFs/src/ff.c **** 
2040:Middlewares/Third_Party/FatFs/src/ff.c **** 
2041:Middlewares/Third_Party/FatFs/src/ff.c **** #else	/* Non-LFN configuration */
2042:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE b, c, d, *sfn;
 1158              		.loc 1 2042 2 is_stmt 1 view .LVU334
2043:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT ni, si, i;
 1159              		.loc 1 2043 2 view .LVU335
2044:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *p;
 1160              		.loc 1 2044 2 view .LVU336
2045:Middlewares/Third_Party/FatFs/src/ff.c **** 
2046:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create file name in directory form */
2047:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (p = *path; *p == '/' || *p == '\\'; p++) ;	/* Strip duplicated separator */
 1161              		.loc 1 2047 2 view .LVU337
 1162              		.loc 1 2047 9 is_stmt 0 view .LVU338
 1163 0006 0C68     		ldr	r4, [r1]
 1164              	.LVL114:
 1165              		.loc 1 2047 2 view .LVU339
 1166 0008 00E0     		b	.L108
ARM GAS  /tmp/cc9KJrYz.s 			page 59


 1167              	.L109:
 1168              		.loc 1 2047 48 is_stmt 1 discriminator 5 view .LVU340
 1169              		.loc 1 2047 43 discriminator 5 view .LVU341
 1170              		.loc 1 2047 44 is_stmt 0 discriminator 5 view .LVU342
 1171 000a 0134     		adds	r4, r4, #1
 1172              	.LVL115:
 1173              	.L108:
 1174              		.loc 1 2047 18 is_stmt 1 discriminator 1 view .LVU343
 1175 000c 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 1176              		.loc 1 2047 2 is_stmt 0 discriminator 1 view .LVU344
 1177 000e 2F2B     		cmp	r3, #47
 1178 0010 FBD0     		beq	.L109
 1179              		.loc 1 2047 28 discriminator 4 view .LVU345
 1180 0012 5C2B     		cmp	r3, #92
 1181 0014 F9D0     		beq	.L109
2048:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn = dp->fn;
 1182              		.loc 1 2048 2 is_stmt 1 view .LVU346
 1183              		.loc 1 2048 6 is_stmt 0 view .LVU347
 1184 0016 00F58050 		add	r0, r0, #4096
 1185              	.LVL116:
 1186              		.loc 1 2048 6 view .LVU348
 1187 001a D0F818A0 		ldr	r10, [r0, #24]
 1188              	.LVL117:
2049:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(sfn, ' ', 11);
 1189              		.loc 1 2049 2 is_stmt 1 view .LVU349
 1190 001e 0B22     		movs	r2, #11
 1191 0020 2021     		movs	r1, #32
 1192              	.LVL118:
 1193              		.loc 1 2049 2 is_stmt 0 view .LVU350
 1194 0022 5046     		mov	r0, r10
 1195              	.LVL119:
 1196              		.loc 1 2049 2 view .LVU351
 1197 0024 FFF7FEFF 		bl	mem_set
 1198              	.LVL120:
2050:Middlewares/Third_Party/FatFs/src/ff.c **** 	si = i = b = 0; ni = 8;
 1199              		.loc 1 2050 2 is_stmt 1 view .LVU352
 1200              		.loc 1 2050 18 view .LVU353
 1201              		.loc 1 2050 9 is_stmt 0 view .LVU354
 1202 0028 0026     		movs	r6, #0
 1203              		.loc 1 2050 5 view .LVU355
 1204 002a 3346     		mov	r3, r6
 1205              		.loc 1 2050 21 view .LVU356
 1206 002c 4FF00808 		mov	r8, #8
 1207              		.loc 1 2050 13 view .LVU357
 1208 0030 3746     		mov	r7, r6
 1209 0032 19E0     		b	.L110
 1210              	.LVL121:
 1211              	.L131:
2051:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
2052:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (p[si] == '.') { /* Is this a dot entry? */
2053:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2054:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (BYTE)p[si++];
2055:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c != '.' || si >= 3) break;
2056:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2057:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2058:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '/' && c != '\\' && c > ' ') return FR_INVALID_NAME;
2059:Middlewares/Third_Party/FatFs/src/ff.c **** 		*path = &p[si];									/* Return pointer to the next segment */
ARM GAS  /tmp/cc9KJrYz.s 			page 60


2060:Middlewares/Third_Party/FatFs/src/ff.c **** 		sfn[NSFLAG] = (c <= ' ') ? NS_LAST | NS_DOT : NS_DOT;	/* Set last segment flag if end of path */
2061:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_OK;
2062:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2063:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2064:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)p[si++];
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ' || c == '/' || c == '\\') break;	/* Break on end of segment */
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni != 8 || c != '.') return FR_INVALID_NAME;
2069:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1212              		.loc 1 2069 4 is_stmt 1 view .LVU358
 1213              		.loc 1 2069 11 view .LVU359
2070:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 1214              		.loc 1 2070 4 view .LVU360
 1215              		.loc 1 2070 6 is_stmt 0 view .LVU361
 1216 0034 BF00     		lsls	r7, r7, #2
 1217              	.LVL122:
 1218              		.loc 1 2070 6 view .LVU362
 1219 0036 FFB2     		uxtb	r7, r7
 1220              	.LVL123:
 1221              		.loc 1 2070 13 is_stmt 1 view .LVU363
2069:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 1222              		.loc 1 2069 6 is_stmt 0 view .LVU364
 1223 0038 4646     		mov	r6, r8
2069:Middlewares/Third_Party/FatFs/src/ff.c **** 			b <<= 2; continue;
 1224              		.loc 1 2069 14 view .LVU365
 1225 003a 4FF00B08 		mov	r8, #11
 1226              		.loc 1 2070 4 view .LVU366
 1227 003e 12E0     		b	.L115
 1228              	.LVL124:
 1229              	.L113:
2071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2072:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {				/* Extended character? */
 1230              		.loc 1 2072 3 is_stmt 1 view .LVU367
 1231              		.loc 1 2072 6 is_stmt 0 view .LVU368
 1232 0040 15F0800F 		tst	r5, #128
 1233 0044 25D1     		bne	.L130
 1234              	.L116:
2073:Middlewares/Third_Party/FatFs/src/ff.c **** 			b |= 3;						/* Eliminate NT flag */
2074:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
2075:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = ExCvt[c - 0x80];		/* To upper extended characters (SBCS cfg) */
2076:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2077:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_DF1S
2078:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INVALID_NAME;		/* Reject extended characters (ASCII cfg) */
2079:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2080:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2081:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2082:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {				/* Check if it is a DBC 1st byte (always false on SBCS cfg) */
 1235              		.loc 1 2082 3 is_stmt 1 view .LVU369
2083:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (BYTE)p[si++];			/* Get 2nd byte */
2084:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!IsDBCS2(d) || i >= ni - 1)	/* Reject invalid DBC */
2085:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INVALID_NAME;
2086:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
2087:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = d;
2088:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* SBC */
2089:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (chk_chr("\"*+,:;<=>\?[]|\x7F", c))	/* Reject illegal chrs for SFN */
 1236              		.loc 1 2089 4 view .LVU370
ARM GAS  /tmp/cc9KJrYz.s 			page 61


 1237              		.loc 1 2089 8 is_stmt 0 view .LVU371
 1238 0046 2946     		mov	r1, r5
 1239 0048 3148     		ldr	r0, .L136
 1240 004a FFF7FEFF 		bl	chk_chr
 1241              	.LVL125:
 1242              		.loc 1 2089 7 view .LVU372
 1243 004e 0028     		cmp	r0, #0
 1244 0050 5AD1     		bne	.L126
2090:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INVALID_NAME;
2091:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c)) {			/* ASCII large capital? */
 1245              		.loc 1 2091 4 is_stmt 1 view .LVU373
 1246              		.loc 1 2091 8 is_stmt 0 view .LVU374
 1247 0052 A5F14103 		sub	r3, r5, #65
 1248 0056 DBB2     		uxtb	r3, r3
 1249              		.loc 1 2091 7 view .LVU375
 1250 0058 192B     		cmp	r3, #25
 1251 005a 20D8     		bhi	.L117
2092:Middlewares/Third_Party/FatFs/src/ff.c **** 				b |= 2;
 1252              		.loc 1 2092 5 is_stmt 1 view .LVU376
 1253              		.loc 1 2092 7 is_stmt 0 view .LVU377
 1254 005c 47F00207 		orr	r7, r7, #2
 1255              	.LVL126:
 1256              	.L118:
2093:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (IsLower(c)) {		/* ASCII small capital? */
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 1; c -= 0x20;
2096:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2097:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2098:Middlewares/Third_Party/FatFs/src/ff.c **** 			sfn[i++] = c;
 1257              		.loc 1 2098 4 is_stmt 1 view .LVU378
 1258              		.loc 1 2098 13 is_stmt 0 view .LVU379
 1259 0060 0AF80650 		strb	r5, [r10, r6]
 1260              		.loc 1 2098 9 view .LVU380
 1261 0064 0136     		adds	r6, r6, #1
 1262              	.LVL127:
 1263              	.L115:
 1264              		.loc 1 2098 9 view .LVU381
 1265 0066 5B46     		mov	r3, fp
 1266              	.LVL128:
 1267              	.L110:
2064:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = (BYTE)p[si++];
 1268              		.loc 1 2064 2 is_stmt 1 view .LVU382
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ' || c == '/' || c == '\\') break;	/* Break on end of segment */
 1269              		.loc 1 2065 3 view .LVU383
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ' || c == '/' || c == '\\') break;	/* Break on end of segment */
 1270              		.loc 1 2065 17 is_stmt 0 view .LVU384
 1271 0068 03F1010B 		add	fp, r3, #1
 1272              	.LVL129:
2065:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c <= ' ' || c == '/' || c == '\\') break;	/* Break on end of segment */
 1273              		.loc 1 2065 5 view .LVU385
 1274 006c E55C     		ldrb	r5, [r4, r3]	@ zero_extendqisi2
 1275              	.LVL130:
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {
 1276              		.loc 1 2066 3 is_stmt 1 view .LVU386
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {
 1277              		.loc 1 2066 6 is_stmt 0 view .LVU387
 1278 006e 202D     		cmp	r5, #32
ARM GAS  /tmp/cc9KJrYz.s 			page 62


 1279 0070 1FD9     		bls	.L111
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {
 1280              		.loc 1 2066 16 discriminator 1 view .LVU388
 1281 0072 2F2D     		cmp	r5, #47
 1282 0074 1DD0     		beq	.L111
2066:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '.' || i >= ni) {
 1283              		.loc 1 2066 28 discriminator 2 view .LVU389
 1284 0076 5C2D     		cmp	r5, #92
 1285 0078 1BD0     		beq	.L111
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni != 8 || c != '.') return FR_INVALID_NAME;
 1286              		.loc 1 2067 3 is_stmt 1 view .LVU390
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni != 8 || c != '.') return FR_INVALID_NAME;
 1287              		.loc 1 2067 6 is_stmt 0 view .LVU391
 1288 007a 2E2D     		cmp	r5, #46
 1289 007c 01D0     		beq	.L112
2067:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ni != 8 || c != '.') return FR_INVALID_NAME;
 1290              		.loc 1 2067 16 discriminator 1 view .LVU392
 1291 007e B045     		cmp	r8, r6
 1292 0080 DED8     		bhi	.L113
 1293              	.L112:
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1294              		.loc 1 2068 4 is_stmt 1 view .LVU393
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1295              		.loc 1 2068 7 is_stmt 0 view .LVU394
 1296 0082 B8F1080F 		cmp	r8, #8
 1297 0086 3DD1     		bne	.L124
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1298              		.loc 1 2068 16 discriminator 2 view .LVU395
 1299 0088 2E2D     		cmp	r5, #46
 1300 008a D3D0     		beq	.L131
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1301              		.loc 1 2068 36 view .LVU396
 1302 008c 0620     		movs	r0, #6
 1303              	.LVL131:
 1304              	.L114:
2099:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2100:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	*path = &p[si];						/* Return pointer to the next segment */
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
2103:Middlewares/Third_Party/FatFs/src/ff.c **** 
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!i) return FR_INVALID_NAME;		/* Reject nul string */
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* When first character collides with DDEM, replace it with RD
2106:Middlewares/Third_Party/FatFs/src/ff.c **** 
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (ni == 8) b <<= 2;
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
2110:Middlewares/Third_Party/FatFs/src/ff.c **** 
2111:Middlewares/Third_Party/FatFs/src/ff.c **** 	sfn[NSFLAG] = c;		/* Store NT flag, File name is created */
2112:Middlewares/Third_Party/FatFs/src/ff.c **** 
2113:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2114:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2115:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1305              		.loc 1 2115 1 view .LVU397
 1306 008e BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1307              	.LVL132:
 1308              	.L130:
2073:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
ARM GAS  /tmp/cc9KJrYz.s 			page 63


 1309              		.loc 1 2073 4 is_stmt 1 view .LVU398
2073:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
 1310              		.loc 1 2073 6 is_stmt 0 view .LVU399
 1311 0092 47F00307 		orr	r7, r7, #3
 1312              	.LVL133:
2075:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 1313              		.loc 1 2075 4 is_stmt 1 view .LVU400
2075:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 1314              		.loc 1 2075 16 is_stmt 0 view .LVU401
 1315 0096 803D     		subs	r5, r5, #128
 1316              	.LVL134:
2075:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 1317              		.loc 1 2075 6 view .LVU402
 1318 0098 1E4B     		ldr	r3, .L136+4
 1319 009a 5D5D     		ldrb	r5, [r3, r5]	@ zero_extendqisi2
 1320              	.LVL135:
2075:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 1321              		.loc 1 2075 6 view .LVU403
 1322 009c D3E7     		b	.L116
 1323              	.L117:
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 1; c -= 0x20;
 1324              		.loc 1 2094 5 is_stmt 1 view .LVU404
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 1; c -= 0x20;
 1325              		.loc 1 2094 9 is_stmt 0 view .LVU405
 1326 009e A5F16103 		sub	r3, r5, #97
 1327 00a2 DBB2     		uxtb	r3, r3
2094:Middlewares/Third_Party/FatFs/src/ff.c **** 					b |= 1; c -= 0x20;
 1328              		.loc 1 2094 8 view .LVU406
 1329 00a4 192B     		cmp	r3, #25
 1330 00a6 DBD8     		bhi	.L118
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1331              		.loc 1 2095 6 is_stmt 1 view .LVU407
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1332              		.loc 1 2095 8 is_stmt 0 view .LVU408
 1333 00a8 47F00107 		orr	r7, r7, #1
 1334              	.LVL136:
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1335              		.loc 1 2095 14 is_stmt 1 view .LVU409
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1336              		.loc 1 2095 16 is_stmt 0 view .LVU410
 1337 00ac 203D     		subs	r5, r5, #32
 1338              	.LVL137:
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1339              		.loc 1 2095 16 view .LVU411
 1340 00ae EDB2     		uxtb	r5, r5
 1341              	.LVL138:
2095:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1342              		.loc 1 2095 16 view .LVU412
 1343 00b0 D6E7     		b	.L118
 1344              	.L111:
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
 1345              		.loc 1 2101 2 is_stmt 1 view .LVU413
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
 1346              		.loc 1 2101 10 is_stmt 0 view .LVU414
 1347 00b2 5C44     		add	r4, r4, fp
 1348              	.LVL139:
2101:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = (c <= ' ') ? NS_LAST : 0;		/* Set last segment flag if end of path */
ARM GAS  /tmp/cc9KJrYz.s 			page 64


 1349              		.loc 1 2101 8 view .LVU415
 1350 00b4 C9F80040 		str	r4, [r9]
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1351              		.loc 1 2102 2 is_stmt 1 view .LVU416
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1352              		.loc 1 2102 4 is_stmt 0 view .LVU417
 1353 00b8 202D     		cmp	r5, #32
 1354 00ba 14D8     		bhi	.L127
 1355 00bc 0423     		movs	r3, #4
 1356              	.L119:
 1357              	.LVL140:
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* When first character collides with DDEM, replace it with RD
 1358              		.loc 1 2104 2 is_stmt 1 discriminator 4 view .LVU418
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* When first character collides with DDEM, replace it with RD
 1359              		.loc 1 2104 5 is_stmt 0 discriminator 4 view .LVU419
 1360 00be 2EB3     		cbz	r6, .L128
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1361              		.loc 1 2105 2 is_stmt 1 view .LVU420
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1362              		.loc 1 2105 9 is_stmt 0 view .LVU421
 1363 00c0 9AF80020 		ldrb	r2, [r10]	@ zero_extendqisi2
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1364              		.loc 1 2105 5 view .LVU422
 1365 00c4 E52A     		cmp	r2, #229
 1366 00c6 10D0     		beq	.L132
 1367              	.L120:
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 1368              		.loc 1 2107 2 is_stmt 1 view .LVU423
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 1369              		.loc 1 2107 5 is_stmt 0 view .LVU424
 1370 00c8 B8F1080F 		cmp	r8, #8
 1371 00cc 11D0     		beq	.L133
 1372              	.L121:
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 1373              		.loc 1 2108 2 is_stmt 1 view .LVU425
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 1374              		.loc 1 2108 5 is_stmt 0 view .LVU426
 1375 00ce 07F00302 		and	r2, r7, #3
 1376 00d2 012A     		cmp	r2, #1
 1377 00d4 10D0     		beq	.L134
 1378              	.L122:
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1379              		.loc 1 2109 2 is_stmt 1 view .LVU427
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1380              		.loc 1 2109 5 is_stmt 0 view .LVU428
 1381 00d6 07F00C07 		and	r7, r7, #12
 1382              	.LVL141:
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1383              		.loc 1 2109 5 view .LVU429
 1384 00da 042F     		cmp	r7, #4
 1385 00dc 0FD0     		beq	.L135
 1386              	.L123:
2111:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1387              		.loc 1 2111 2 is_stmt 1 view .LVU430
2111:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1388              		.loc 1 2111 14 is_stmt 0 view .LVU431
 1389 00de 8AF80B30 		strb	r3, [r10, #11]
ARM GAS  /tmp/cc9KJrYz.s 			page 65


2113:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1390              		.loc 1 2113 2 is_stmt 1 view .LVU432
2113:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1391              		.loc 1 2113 9 is_stmt 0 view .LVU433
 1392 00e2 0020     		movs	r0, #0
 1393 00e4 D3E7     		b	.L114
 1394              	.LVL142:
 1395              	.L127:
2102:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1396              		.loc 1 2102 4 view .LVU434
 1397 00e6 0023     		movs	r3, #0
 1398 00e8 E9E7     		b	.L119
 1399              	.LVL143:
 1400              	.L132:
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1401              		.loc 1 2105 22 is_stmt 1 discriminator 1 view .LVU435
2105:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1402              		.loc 1 2105 29 is_stmt 0 discriminator 1 view .LVU436
 1403 00ea 0522     		movs	r2, #5
 1404 00ec 8AF80020 		strb	r2, [r10]
 1405 00f0 EAE7     		b	.L120
 1406              	.L133:
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 1407              		.loc 1 2107 15 is_stmt 1 discriminator 1 view .LVU437
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 1408              		.loc 1 2107 17 is_stmt 0 discriminator 1 view .LVU438
 1409 00f2 BF00     		lsls	r7, r7, #2
 1410              	.LVL144:
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 1411              		.loc 1 2107 17 discriminator 1 view .LVU439
 1412 00f4 FFB2     		uxtb	r7, r7
 1413              	.LVL145:
2107:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x03) == 0x01) c |= NS_EXT;	/* NT flag (Name extension has only small capital) */
 1414              		.loc 1 2107 17 discriminator 1 view .LVU440
 1415 00f6 EAE7     		b	.L121
 1416              	.L134:
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 1417              		.loc 1 2108 26 is_stmt 1 discriminator 1 view .LVU441
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 1418              		.loc 1 2108 28 is_stmt 0 discriminator 1 view .LVU442
 1419 00f8 43F01003 		orr	r3, r3, #16
 1420              	.LVL146:
2108:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((b & 0x0C) == 0x04) c |= NS_BODY;	/* NT flag (Name body has only small capital) */
 1421              		.loc 1 2108 28 discriminator 1 view .LVU443
 1422 00fc EBE7     		b	.L122
 1423              	.LVL147:
 1424              	.L135:
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1425              		.loc 1 2109 26 is_stmt 1 discriminator 1 view .LVU444
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1426              		.loc 1 2109 28 is_stmt 0 discriminator 1 view .LVU445
 1427 00fe 43F00803 		orr	r3, r3, #8
 1428              	.LVL148:
2109:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1429              		.loc 1 2109 28 discriminator 1 view .LVU446
 1430 0102 ECE7     		b	.L123
 1431              	.LVL149:
ARM GAS  /tmp/cc9KJrYz.s 			page 66


 1432              	.L124:
2068:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = 8; ni = 11;
 1433              		.loc 1 2068 36 view .LVU447
 1434 0104 0620     		movs	r0, #6
 1435 0106 C2E7     		b	.L114
 1436              	.L126:
2090:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsUpper(c)) {			/* ASCII large capital? */
 1437              		.loc 1 2090 12 view .LVU448
 1438 0108 0620     		movs	r0, #6
 1439 010a C0E7     		b	.L114
 1440              	.LVL150:
 1441              	.L128:
2104:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfn[0] == DDEM) sfn[0] = RDDEM;	/* When first character collides with DDEM, replace it with RD
 1442              		.loc 1 2104 17 view .LVU449
 1443 010c 0620     		movs	r0, #6
 1444 010e BEE7     		b	.L114
 1445              	.L137:
 1446              		.align	2
 1447              	.L136:
 1448 0110 00000000 		.word	.LC0
 1449 0114 00000000 		.word	.LANCHOR1
 1450              		.cfi_endproc
 1451              	.LFE100:
 1453              		.section	.text.get_ldnumber,"ax",%progbits
 1454              		.align	1
 1455              		.syntax unified
 1456              		.thumb
 1457              		.thumb_func
 1458              		.fpu softvfp
 1460              	get_ldnumber:
 1461              	.LVL151:
 1462              	.LFB102:
2116:Middlewares/Third_Party/FatFs/src/ff.c **** 
2117:Middlewares/Third_Party/FatFs/src/ff.c **** 
2118:Middlewares/Third_Party/FatFs/src/ff.c **** 
2119:Middlewares/Third_Party/FatFs/src/ff.c **** 
2120:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2121:Middlewares/Third_Party/FatFs/src/ff.c **** /* Follow a file path                                                    */
2122:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2123:Middlewares/Third_Party/FatFs/src/ff.c **** 
2124:Middlewares/Third_Party/FatFs/src/ff.c **** static
2125:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT follow_path (	/* FR_OK(0): successful, !=0: error code */
2126:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Directory object to return last directory and found object */
2127:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Full-path string to find a file or directory */
2128:Middlewares/Third_Party/FatFs/src/ff.c **** )
2129:Middlewares/Third_Party/FatFs/src/ff.c **** {
2130:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2131:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir, ns;
2132:Middlewares/Third_Party/FatFs/src/ff.c **** 
2133:Middlewares/Third_Party/FatFs/src/ff.c **** 
2134:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
2135:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path == '/' || *path == '\\') {	/* There is a heading separator */
2136:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;	dp->sclust = 0;				/* Strip it and start from the root directory */
2137:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* No heading separator */
2138:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sclust = dp->fs->cdir;			/* Start from the current directory */
2139:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2140:Middlewares/Third_Party/FatFs/src/ff.c **** #else
ARM GAS  /tmp/cc9KJrYz.s 			page 67


2141:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path == '/' || *path == '\\')		/* Strip heading separator if exist */
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;
2143:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sclust = 0;							/* Always start from the root directory */
2144:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2145:Middlewares/Third_Party/FatFs/src/ff.c **** 
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((UINT)*path < ' ') {				/* Null path name is the origin directory itself */
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir = 0;
2149:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Follow path */
2150:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (;;) {
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
2152:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the sagment name */
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
2155:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
2156:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
2157:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, */
2158:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sclust = 0; dp->dir = 0;	/* it is the root directory and stay there */
2159:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) continue;	/* Continue to follow if not last segment */
2160:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_OK;					/* Ended at the root directroy. Function completed. */
2161:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {							/* Could not find the object */
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!(ns & NS_LAST)) res = FR_NO_PATH;	/* Adjust error code if not last segment */
2163:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2164:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2165:Middlewares/Third_Party/FatFs/src/ff.c **** 				break;
2166:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2167:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ns & NS_LAST) break;			/* Last segment matched. Function completed. */
2168:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dp->dir;						/* Follow the sub-directory */
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dir[DIR_Attr] & AM_DIR)) {	/* It is not a sub-directory and cannot follow */
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
2171:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->sclust = ld_clust(dp->fs, dir);
2173:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2174:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2175:Middlewares/Third_Party/FatFs/src/ff.c **** 
2176:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2177:Middlewares/Third_Party/FatFs/src/ff.c **** }
2178:Middlewares/Third_Party/FatFs/src/ff.c **** 
2179:Middlewares/Third_Party/FatFs/src/ff.c **** 
2180:Middlewares/Third_Party/FatFs/src/ff.c **** 
2181:Middlewares/Third_Party/FatFs/src/ff.c **** 
2182:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2183:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get logical drive number from path name                               */
2184:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2185:Middlewares/Third_Party/FatFs/src/ff.c **** 
2186:Middlewares/Third_Party/FatFs/src/ff.c **** static
2187:Middlewares/Third_Party/FatFs/src/ff.c **** int get_ldnumber (		/* Returns logical drive number (-1:invalid drive) */
2188:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path	/* Pointer to pointer to the path name */
2189:Middlewares/Third_Party/FatFs/src/ff.c **** )
2190:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1463              		.loc 1 2190 1 is_stmt 1 view -0
 1464              		.cfi_startproc
 1465              		@ args = 0, pretend = 0, frame = 0
 1466              		@ frame_needed = 0, uses_anonymous_args = 0
 1467              		@ link register save eliminated.
 1468              		.loc 1 2190 1 is_stmt 0 view .LVU451
 1469 0000 0146     		mov	r1, r0
ARM GAS  /tmp/cc9KJrYz.s 			page 68


2191:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *tp, *tt;
 1470              		.loc 1 2191 2 is_stmt 1 view .LVU452
2192:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 1471              		.loc 1 2192 2 view .LVU453
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
 1472              		.loc 1 2193 2 view .LVU454
 1473              	.LVL152:
2194:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
2195:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const char* const str[] = {_VOLUME_STRS};
2196:Middlewares/Third_Party/FatFs/src/ff.c **** 	const char *sp;
2197:Middlewares/Third_Party/FatFs/src/ff.c **** 	char c;
2198:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR tc;
2199:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2200:Middlewares/Third_Party/FatFs/src/ff.c **** 
2201:Middlewares/Third_Party/FatFs/src/ff.c **** 
2202:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (*path) {	/* If the pointer is not a null */
 1474              		.loc 1 2202 2 view .LVU455
 1475              		.loc 1 2202 6 is_stmt 0 view .LVU456
 1476 0002 0068     		ldr	r0, [r0]
 1477              	.LVL153:
 1478              		.loc 1 2202 5 view .LVU457
 1479 0004 38B1     		cbz	r0, .L153
2203:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (tt = *path; (UINT)*tt >= (_USE_LFN ? ' ' : '!') && *tt != ':'; tt++) ;	/* Find ':' in the pa
 1480              		.loc 1 2203 11 view .LVU458
 1481 0006 0246     		mov	r2, r0
 1482              	.L139:
 1483              	.LVL154:
 1484              		.loc 1 2203 20 is_stmt 1 discriminator 1 view .LVU459
 1485              		.loc 1 2203 26 is_stmt 0 discriminator 1 view .LVU460
 1486 0008 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1487              		.loc 1 2203 3 discriminator 1 view .LVU461
 1488 000a 202B     		cmp	r3, #32
 1489 000c 06D9     		bls	.L141
 1490              		.loc 1 2203 56 discriminator 3 view .LVU462
 1491 000e 3A2B     		cmp	r3, #58
 1492 0010 04D0     		beq	.L141
 1493              		.loc 1 2203 77 is_stmt 1 discriminator 4 view .LVU463
 1494              		.loc 1 2203 71 discriminator 4 view .LVU464
 1495              		.loc 1 2203 73 is_stmt 0 discriminator 4 view .LVU465
 1496 0012 0132     		adds	r2, r2, #1
 1497              	.LVL155:
 1498              		.loc 1 2203 73 discriminator 4 view .LVU466
 1499 0014 F8E7     		b	.L139
 1500              	.LVL156:
 1501              	.L153:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol = -1;
 1502              		.loc 1 2193 6 view .LVU467
 1503 0016 4FF0FF30 		mov	r0, #-1
 1504 001a 7047     		bx	lr
 1505              	.LVL157:
 1506              	.L141:
2204:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (*tt == ':') {	/* If a ':' is exist in the path name */
 1507              		.loc 1 2204 3 is_stmt 1 view .LVU468
 1508              		.loc 1 2204 6 is_stmt 0 view .LVU469
 1509 001c 3A2B     		cmp	r3, #58
 1510 001e 01D0     		beq	.L154
2205:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = *path;
ARM GAS  /tmp/cc9KJrYz.s 			page 69


2206:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = *tp++ - '0'; 
2207:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
2208:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
2209:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2210:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = ++tt;
2211:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2212:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2213:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID
2214:Middlewares/Third_Party/FatFs/src/ff.c **** 			 else {	/* No numeric drive number, find string drive id */
2215:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; tt++;
2216:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
2217:Middlewares/Third_Party/FatFs/src/ff.c **** 					sp = str[i]; tp = *path;
2218:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {	/* Compare a string drive id with path name */
2219:Middlewares/Third_Party/FatFs/src/ff.c **** 						c = *sp++; tc = *tp++;
2220:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (IsLower(tc)) tc -= 0x20;
2221:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (c && (TCHAR)c == tc);
2222:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while ((c || tp != tt) && ++i < _VOLUMES);	/* Repeat for each id until pattern match */
2223:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
2224:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
2225:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = tt;
2226:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2227:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2228:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2229:Middlewares/Third_Party/FatFs/src/ff.c **** 			return vol;
2230:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2231:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH && _VOLUMES >= 2
2232:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = CurrVol;	/* Current drive */
2233:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2234:Middlewares/Third_Party/FatFs/src/ff.c **** 		vol = 0;		/* Drive 0 */
 1511              		.loc 1 2234 7 view .LVU470
 1512 0020 0020     		movs	r0, #0
 1513              	.LVL158:
2235:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2236:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2237:Middlewares/Third_Party/FatFs/src/ff.c **** 	return vol;
2238:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1514              		.loc 1 2238 1 view .LVU471
 1515 0022 7047     		bx	lr
 1516              	.LVL159:
 1517              	.L154:
2190:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *tp, *tt;
 1518              		.loc 1 2190 1 view .LVU472
 1519 0024 10B4     		push	{r4}
 1520              	.LCFI13:
 1521              		.cfi_def_cfa_offset 4
 1522              		.cfi_offset 4, -4
2205:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = *path;
 1523              		.loc 1 2205 4 is_stmt 1 view .LVU473
 1524              	.LVL160:
2206:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1525              		.loc 1 2206 4 view .LVU474
2206:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1526              		.loc 1 2206 11 is_stmt 0 view .LVU475
 1527 0026 0346     		mov	r3, r0
 1528              	.LVL161:
2206:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1529              		.loc 1 2206 8 view .LVU476
ARM GAS  /tmp/cc9KJrYz.s 			page 70


 1530 0028 13F8010B 		ldrb	r0, [r3], #1	@ zero_extendqisi2
 1531              	.LVL162:
2206:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < 10 && tp == tt) {	/* Is there a numeric drive id? */
 1532              		.loc 1 2206 14 view .LVU477
 1533 002c 3038     		subs	r0, r0, #48
 1534              	.LVL163:
2207:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1535              		.loc 1 2207 4 is_stmt 1 view .LVU478
2207:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1536              		.loc 1 2207 7 is_stmt 0 view .LVU479
 1537 002e 0928     		cmp	r0, #9
 1538 0030 08D8     		bhi	.L146
2207:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (i < _VOLUMES) {	/* If a drive id is found, get the value and strip it */
 1539              		.loc 1 2207 15 discriminator 1 view .LVU480
 1540 0032 9A42     		cmp	r2, r3
 1541 0034 02D0     		beq	.L155
2193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1542              		.loc 1 2193 6 view .LVU481
 1543 0036 4FF0FF30 		mov	r0, #-1
 1544              	.LVL164:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1545              		.loc 1 2193 6 view .LVU482
 1546 003a 05E0     		b	.L138
 1547              	.LVL165:
 1548              	.L155:
2208:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
 1549              		.loc 1 2208 5 is_stmt 1 view .LVU483
2208:Middlewares/Third_Party/FatFs/src/ff.c **** 					vol = (int)i;
 1550              		.loc 1 2208 8 is_stmt 0 view .LVU484
 1551 003c 30B9     		cbnz	r0, .L148
2209:Middlewares/Third_Party/FatFs/src/ff.c **** 					*path = ++tt;
 1552              		.loc 1 2209 6 is_stmt 1 view .LVU485
 1553              	.LVL166:
2210:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1554              		.loc 1 2210 6 view .LVU486
2210:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1555              		.loc 1 2210 12 is_stmt 0 view .LVU487
 1556 003e 0132     		adds	r2, r2, #1
 1557              	.LVL167:
2210:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1558              		.loc 1 2210 12 view .LVU488
 1559 0040 0A60     		str	r2, [r1]
 1560 0042 01E0     		b	.L138
 1561              	.LVL168:
 1562              	.L146:
2193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1563              		.loc 1 2193 6 view .LVU489
 1564 0044 4FF0FF30 		mov	r0, #-1
 1565              	.LVL169:
 1566              	.L138:
 1567              		.loc 1 2238 1 view .LVU490
 1568 0048 10BC     		pop	{r4}
 1569              	.LCFI14:
 1570              		.cfi_remember_state
 1571              		.cfi_restore 4
 1572              		.cfi_def_cfa_offset 0
 1573 004a 7047     		bx	lr
ARM GAS  /tmp/cc9KJrYz.s 			page 71


 1574              	.LVL170:
 1575              	.L148:
 1576              	.LCFI15:
 1577              		.cfi_restore_state
2193:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STR_VOLUME_ID		/* Find string drive id */
 1578              		.loc 1 2193 6 view .LVU491
 1579 004c 4FF0FF30 		mov	r0, #-1
 1580              	.LVL171:
2229:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1581              		.loc 1 2229 4 is_stmt 1 view .LVU492
2229:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1582              		.loc 1 2229 11 is_stmt 0 view .LVU493
 1583 0050 FAE7     		b	.L138
 1584              		.cfi_endproc
 1585              	.LFE102:
 1587              		.section	.text.sync_window,"ax",%progbits
 1588              		.align	1
 1589              		.syntax unified
 1590              		.thumb
 1591              		.thumb_func
 1592              		.fpu softvfp
 1594              	sync_window:
 1595              	.LVL172:
 1596              	.LFB81:
 776:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 1597              		.loc 1 776 1 is_stmt 1 view -0
 1598              		.cfi_startproc
 1599              		@ args = 0, pretend = 0, frame = 0
 1600              		@ frame_needed = 0, uses_anonymous_args = 0
 776:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD wsect;
 1601              		.loc 1 776 1 is_stmt 0 view .LVU495
 1602 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1603              	.LCFI16:
 1604              		.cfi_def_cfa_offset 24
 1605              		.cfi_offset 3, -24
 1606              		.cfi_offset 4, -20
 1607              		.cfi_offset 5, -16
 1608              		.cfi_offset 6, -12
 1609              		.cfi_offset 7, -8
 1610              		.cfi_offset 14, -4
 777:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nf;
 1611              		.loc 1 777 2 is_stmt 1 view .LVU496
 778:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 1612              		.loc 1 778 2 view .LVU497
 779:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1613              		.loc 1 779 2 view .LVU498
 1614              	.LVL173:
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1615              		.loc 1 782 2 view .LVU499
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1616              		.loc 1 782 8 is_stmt 0 view .LVU500
 1617 0002 00F58053 		add	r3, r0, #4096
 1618 0006 1D79     		ldrb	r5, [r3, #4]	@ zero_extendqisi2
 782:Middlewares/Third_Party/FatFs/src/ff.c **** 		wsect = fs->winsect;	/* Current sector number */
 1619              		.loc 1 782 5 view .LVU501
 1620 0008 0DB9     		cbnz	r5, .L162
 1621              	.LVL174:
ARM GAS  /tmp/cc9KJrYz.s 			page 72


 1622              	.L157:
 796:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1623              		.loc 1 796 2 is_stmt 1 view .LVU502
 797:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1624              		.loc 1 797 1 is_stmt 0 view .LVU503
 1625 000a 2846     		mov	r0, r5
 1626 000c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1627              	.LVL175:
 1628              	.L162:
 797:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1629              		.loc 1 797 1 view .LVU504
 1630 000e 0446     		mov	r4, r0
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win.d8, wsect, 1) != RES_OK) {
 1631              		.loc 1 783 3 is_stmt 1 view .LVU505
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win.d8, wsect, 1) != RES_OK) {
 1632              		.loc 1 783 9 is_stmt 0 view .LVU506
 1633 0010 1846     		mov	r0, r3
 1634              	.LVL176:
 783:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(fs->drv, fs->win.d8, wsect, 1) != RES_OK) {
 1635              		.loc 1 783 9 view .LVU507
 1636 0012 DE6A     		ldr	r6, [r3, #44]
 1637              	.LVL177:
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1638              		.loc 1 784 3 is_stmt 1 view .LVU508
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1639              		.loc 1 784 7 is_stmt 0 view .LVU509
 1640 0014 0123     		movs	r3, #1
 1641 0016 3246     		mov	r2, r6
 1642 0018 2146     		mov	r1, r4
 1643 001a 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 1644 001c FFF7FEFF 		bl	disk_write
 1645              	.LVL178:
 784:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 1646              		.loc 1 784 6 view .LVU510
 1647 0020 0546     		mov	r5, r0
 1648 0022 D0B9     		cbnz	r0, .L160
 787:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 1649              		.loc 1 787 4 is_stmt 1 view .LVU511
 787:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (wsect - fs->fatbase < fs->fsize) {		/* Is it in the FAT area? */
 1650              		.loc 1 787 14 is_stmt 0 view .LVU512
 1651 0024 04F58052 		add	r2, r4, #4096
 1652 0028 0023     		movs	r3, #0
 1653 002a 1371     		strb	r3, [r2, #4]
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1654              		.loc 1 788 4 is_stmt 1 view .LVU513
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1655              		.loc 1 788 18 is_stmt 0 view .LVU514
 1656 002c 136A     		ldr	r3, [r2, #32]
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1657              		.loc 1 788 14 view .LVU515
 1658 002e F31A     		subs	r3, r6, r3
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1659              		.loc 1 788 32 view .LVU516
 1660 0030 9269     		ldr	r2, [r2, #24]
 788:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (nf = fs->n_fats; nf >= 2; nf--) {	/* Reflect the change to all FAT copies */
 1661              		.loc 1 788 7 view .LVU517
 1662 0032 9342     		cmp	r3, r2
ARM GAS  /tmp/cc9KJrYz.s 			page 73


 1663 0034 E9D2     		bcs	.L157
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1664              		.loc 1 789 5 is_stmt 1 view .LVU518
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1665              		.loc 1 789 17 is_stmt 0 view .LVU519
 1666 0036 04F58053 		add	r3, r4, #4096
 1667 003a DF78     		ldrb	r7, [r3, #3]	@ zero_extendqisi2
 1668              	.LVL179:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1669              		.loc 1 789 5 view .LVU520
 1670 003c 0AE0     		b	.L158
 1671              	.L159:
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win.d8, wsect, 1);
 1672              		.loc 1 790 6 is_stmt 1 discriminator 3 view .LVU521
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win.d8, wsect, 1);
 1673              		.loc 1 790 17 is_stmt 0 discriminator 3 view .LVU522
 1674 003e 04F58050 		add	r0, r4, #4096
 1675 0042 8369     		ldr	r3, [r0, #24]
 790:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_write(fs->drv, fs->win.d8, wsect, 1);
 1676              		.loc 1 790 12 discriminator 3 view .LVU523
 1677 0044 1E44     		add	r6, r6, r3
 1678              	.LVL180:
 791:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 1679              		.loc 1 791 6 is_stmt 1 discriminator 3 view .LVU524
 1680 0046 0123     		movs	r3, #1
 1681 0048 3246     		mov	r2, r6
 1682 004a 2146     		mov	r1, r4
 1683 004c 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 1684 004e FFF7FEFF 		bl	disk_write
 1685              	.LVL181:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1686              		.loc 1 789 36 discriminator 3 view .LVU525
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1687              		.loc 1 789 38 is_stmt 0 discriminator 3 view .LVU526
 1688 0052 013F     		subs	r7, r7, #1
 1689              	.LVL182:
 1690              	.L158:
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1691              		.loc 1 789 27 is_stmt 1 discriminator 1 view .LVU527
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1692              		.loc 1 789 5 is_stmt 0 discriminator 1 view .LVU528
 1693 0054 012F     		cmp	r7, #1
 1694 0056 F2D8     		bhi	.L159
 789:Middlewares/Third_Party/FatFs/src/ff.c **** 					wsect += fs->fsize;
 1695              		.loc 1 789 5 discriminator 1 view .LVU529
 1696 0058 D7E7     		b	.L157
 1697              	.LVL183:
 1698              	.L160:
 785:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 1699              		.loc 1 785 8 view .LVU530
 1700 005a 0125     		movs	r5, #1
 1701 005c D5E7     		b	.L157
 1702              		.cfi_endproc
 1703              	.LFE81:
 1705              		.section	.text.move_window,"ax",%progbits
 1706              		.align	1
 1707              		.syntax unified
ARM GAS  /tmp/cc9KJrYz.s 			page 74


 1708              		.thumb
 1709              		.thumb_func
 1710              		.fpu softvfp
 1712              	move_window:
 1713              	.LVL184:
 1714              	.LFB82:
 806:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 1715              		.loc 1 806 1 is_stmt 1 view -0
 1716              		.cfi_startproc
 1717              		@ args = 0, pretend = 0, frame = 0
 1718              		@ frame_needed = 0, uses_anonymous_args = 0
 806:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res = FR_OK;
 1719              		.loc 1 806 1 is_stmt 0 view .LVU532
 1720 0000 70B5     		push	{r4, r5, r6, lr}
 1721              	.LCFI17:
 1722              		.cfi_def_cfa_offset 16
 1723              		.cfi_offset 4, -16
 1724              		.cfi_offset 5, -12
 1725              		.cfi_offset 6, -8
 1726              		.cfi_offset 14, -4
 807:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1727              		.loc 1 807 2 is_stmt 1 view .LVU533
 1728              	.LVL185:
 810:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 1729              		.loc 1 810 2 view .LVU534
 810:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 1730              		.loc 1 810 18 is_stmt 0 view .LVU535
 1731 0002 00F58053 		add	r3, r0, #4096
 1732 0006 DB6A     		ldr	r3, [r3, #44]
 810:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 1733              		.loc 1 810 5 view .LVU536
 1734 0008 8B42     		cmp	r3, r1
 1735 000a 02D1     		bne	.L169
 807:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1736              		.loc 1 807 10 view .LVU537
 1737 000c 0026     		movs	r6, #0
 1738              	.LVL186:
 1739              	.L164:
 822:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1740              		.loc 1 822 2 is_stmt 1 view .LVU538
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1741              		.loc 1 823 1 is_stmt 0 view .LVU539
 1742 000e 3046     		mov	r0, r6
 1743 0010 70BD     		pop	{r4, r5, r6, pc}
 1744              	.LVL187:
 1745              	.L169:
 823:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1746              		.loc 1 823 1 view .LVU540
 1747 0012 0446     		mov	r4, r0
 1748 0014 0D46     		mov	r5, r1
 812:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1749              		.loc 1 812 3 is_stmt 1 view .LVU541
 812:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 1750              		.loc 1 812 9 is_stmt 0 view .LVU542
 1751 0016 FFF7FEFF 		bl	sync_window
 1752              	.LVL188:
 814:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win.d8, sector, 1) != RES_OK) {
ARM GAS  /tmp/cc9KJrYz.s 			page 75


 1753              		.loc 1 814 3 is_stmt 1 view .LVU543
 814:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fs->drv, fs->win.d8, sector, 1) != RES_OK) {
 1754              		.loc 1 814 6 is_stmt 0 view .LVU544
 1755 001a 0646     		mov	r6, r0
 1756 001c 0028     		cmp	r0, #0
 1757 001e F6D1     		bne	.L164
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 1758              		.loc 1 815 4 is_stmt 1 view .LVU545
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 1759              		.loc 1 815 8 is_stmt 0 view .LVU546
 1760 0020 04F58050 		add	r0, r4, #4096
 1761              	.LVL189:
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 1762              		.loc 1 815 8 view .LVU547
 1763 0024 0123     		movs	r3, #1
 1764 0026 2A46     		mov	r2, r5
 1765 0028 2146     		mov	r1, r4
 1766 002a 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 1767 002c FFF7FEFF 		bl	disk_read
 1768              	.LVL190:
 815:Middlewares/Third_Party/FatFs/src/ff.c **** 				sector = 0xFFFFFFFF;	/* Invalidate window if data is not reliable */
 1769              		.loc 1 815 7 view .LVU548
 1770 0030 10B1     		cbz	r0, .L165
 817:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 1771              		.loc 1 817 9 view .LVU549
 1772 0032 0126     		movs	r6, #1
 816:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DISK_ERR;
 1773              		.loc 1 816 12 view .LVU550
 1774 0034 4FF0FF35 		mov	r5, #-1
 1775              	.LVL191:
 1776              	.L165:
 819:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1777              		.loc 1 819 4 is_stmt 1 view .LVU551
 819:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1778              		.loc 1 819 16 is_stmt 0 view .LVU552
 1779 0038 04F58054 		add	r4, r4, #4096
 1780              	.LVL192:
 819:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 1781              		.loc 1 819 16 view .LVU553
 1782 003c E562     		str	r5, [r4, #44]
 1783 003e E6E7     		b	.L164
 1784              		.cfi_endproc
 1785              	.LFE82:
 1787              		.section	.text.check_fs,"ax",%progbits
 1788              		.align	1
 1789              		.syntax unified
 1790              		.thumb
 1791              		.thumb_func
 1792              		.fpu softvfp
 1794              	check_fs:
 1795              	.LVL193:
 1796              	.LFB103:
2239:Middlewares/Third_Party/FatFs/src/ff.c **** 
2240:Middlewares/Third_Party/FatFs/src/ff.c **** 
2241:Middlewares/Third_Party/FatFs/src/ff.c **** 
2242:Middlewares/Third_Party/FatFs/src/ff.c **** 
2243:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/cc9KJrYz.s 			page 76


2244:Middlewares/Third_Party/FatFs/src/ff.c **** /* Load a sector and check if it is an FAT boot sector                   */
2245:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2246:Middlewares/Third_Party/FatFs/src/ff.c **** 
2247:Middlewares/Third_Party/FatFs/src/ff.c **** static
2248:Middlewares/Third_Party/FatFs/src/ff.c **** BYTE check_fs (	/* 0:FAT boor sector, 1:Valid boor sector but not FAT, 2:Not a boot sector, 3:Disk 
2249:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,	/* File system object */
2250:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sect	/* Sector# (lba) to check if it is an FAT boot record or not */
2251:Middlewares/Third_Party/FatFs/src/ff.c **** )
2252:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1797              		.loc 1 2252 1 is_stmt 1 view -0
 1798              		.cfi_startproc
 1799              		@ args = 0, pretend = 0, frame = 0
 1800              		@ frame_needed = 0, uses_anonymous_args = 0
 1801              		.loc 1 2252 1 is_stmt 0 view .LVU555
 1802 0000 10B5     		push	{r4, lr}
 1803              	.LCFI18:
 1804              		.cfi_def_cfa_offset 8
 1805              		.cfi_offset 4, -8
 1806              		.cfi_offset 14, -4
 1807 0002 0446     		mov	r4, r0
2253:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->wflag = 0; fs->winsect = 0xFFFFFFFF;	/* Invaidate window */
 1808              		.loc 1 2253 2 is_stmt 1 view .LVU556
 1809              		.loc 1 2253 12 is_stmt 0 view .LVU557
 1810 0004 00F58053 		add	r3, r0, #4096
 1811 0008 0022     		movs	r2, #0
 1812 000a 1A71     		strb	r2, [r3, #4]
 1813              		.loc 1 2253 17 is_stmt 1 view .LVU558
 1814              		.loc 1 2253 29 is_stmt 0 view .LVU559
 1815 000c 4FF0FF32 		mov	r2, #-1
 1816 0010 DA62     		str	r2, [r3, #44]
2254:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (move_window(fs, sect) != FR_OK)			/* Load boot record */
 1817              		.loc 1 2254 2 is_stmt 1 view .LVU560
 1818              		.loc 1 2254 6 is_stmt 0 view .LVU561
 1819 0012 FFF7FEFF 		bl	move_window
 1820              	.LVL194:
 1821              		.loc 1 2254 5 view .LVU562
 1822 0016 98BB     		cbnz	r0, .L172
 1823 0018 0246     		mov	r2, r0
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 3;
2256:Middlewares/Third_Party/FatFs/src/ff.c **** 
2257:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (LD_WORD(&fs->win.d8[BS_55AA]) != 0xAA55)	/* Check boot record signature (always placed at offs
 1824              		.loc 1 2257 2 is_stmt 1 view .LVU563
 1825              		.loc 1 2257 6 is_stmt 0 view .LVU564
 1826 001a 94F8FF11 		ldrb	r1, [r4, #511]	@ zero_extendqisi2
 1827 001e 94F8FE31 		ldrb	r3, [r4, #510]	@ zero_extendqisi2
 1828 0022 43EA0123 		orr	r3, r3, r1, lsl #8
 1829 0026 1BB2     		sxth	r3, r3
 1830              		.loc 1 2257 5 view .LVU565
 1831 0028 1749     		ldr	r1, .L175
 1832 002a 8B42     		cmp	r3, r1
 1833 002c 2AD1     		bne	.L173
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 2;
2259:Middlewares/Third_Party/FatFs/src/ff.c **** 
2260:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((LD_DWORD(&fs->win.d8[BS_FilSysType]) & 0xFFFFFF) == 0x544146)		/* Check "FAT" string */
 1834              		.loc 1 2260 2 is_stmt 1 view .LVU566
 1835              		.loc 1 2260 7 is_stmt 0 view .LVU567
 1836 002e 94F83910 		ldrb	r1, [r4, #57]	@ zero_extendqisi2
ARM GAS  /tmp/cc9KJrYz.s 			page 77


 1837 0032 94F83830 		ldrb	r3, [r4, #56]	@ zero_extendqisi2
 1838 0036 1B04     		lsls	r3, r3, #16
 1839 0038 43EA0163 		orr	r3, r3, r1, lsl #24
 1840 003c 94F83710 		ldrb	r1, [r4, #55]	@ zero_extendqisi2
 1841 0040 43EA0123 		orr	r3, r3, r1, lsl #8
 1842 0044 94F83610 		ldrb	r1, [r4, #54]	@ zero_extendqisi2
 1843 0048 0B43     		orrs	r3, r3, r1
 1844              		.loc 1 2260 44 view .LVU568
 1845 004a 23F07F43 		bic	r3, r3, #-16777216
 1846              		.loc 1 2260 5 view .LVU569
 1847 004e 0F49     		ldr	r1, .L175+4
 1848 0050 8B42     		cmp	r3, r1
 1849 0052 13D0     		beq	.L171
2261:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 0;
2262:Middlewares/Third_Party/FatFs/src/ff.c **** 	if ((LD_DWORD(&fs->win.d8[BS_FilSysType32]) & 0xFFFFFF) == 0x544146)	/* Check "FAT" string */
 1850              		.loc 1 2262 2 is_stmt 1 view .LVU570
 1851              		.loc 1 2262 7 is_stmt 0 view .LVU571
 1852 0054 94F85510 		ldrb	r1, [r4, #85]	@ zero_extendqisi2
 1853 0058 94F85430 		ldrb	r3, [r4, #84]	@ zero_extendqisi2
 1854 005c 1B04     		lsls	r3, r3, #16
 1855 005e 43EA0163 		orr	r3, r3, r1, lsl #24
 1856 0062 94F85310 		ldrb	r1, [r4, #83]	@ zero_extendqisi2
 1857 0066 43EA0123 		orr	r3, r3, r1, lsl #8
 1858 006a 94F85210 		ldrb	r1, [r4, #82]	@ zero_extendqisi2
 1859 006e 0B43     		orrs	r3, r3, r1
 1860              		.loc 1 2262 46 view .LVU572
 1861 0070 23F07F43 		bic	r3, r3, #-16777216
 1862              		.loc 1 2262 5 view .LVU573
 1863 0074 0549     		ldr	r1, .L175+4
 1864 0076 8B42     		cmp	r3, r1
 1865 0078 00D0     		beq	.L171
2263:Middlewares/Third_Party/FatFs/src/ff.c **** 		return 0;
2264:Middlewares/Third_Party/FatFs/src/ff.c **** 
2265:Middlewares/Third_Party/FatFs/src/ff.c **** 	return 1;
 1866              		.loc 1 2265 9 view .LVU574
 1867 007a 0122     		movs	r2, #1
 1868              	.L171:
2266:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1869              		.loc 1 2266 1 view .LVU575
 1870 007c 1046     		mov	r0, r2
 1871 007e 10BD     		pop	{r4, pc}
 1872              	.LVL195:
 1873              	.L172:
2255:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1874              		.loc 1 2255 10 view .LVU576
 1875 0080 0322     		movs	r2, #3
 1876 0082 FBE7     		b	.L171
 1877              	.L173:
2258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 1878              		.loc 1 2258 10 view .LVU577
 1879 0084 0222     		movs	r2, #2
 1880 0086 F9E7     		b	.L171
 1881              	.L176:
 1882              		.align	2
 1883              	.L175:
 1884 0088 55AAFFFF 		.word	-21931
 1885 008c 46415400 		.word	5521734
ARM GAS  /tmp/cc9KJrYz.s 			page 78


 1886              		.cfi_endproc
 1887              	.LFE103:
 1889              		.section	.text.validate,"ax",%progbits
 1890              		.align	1
 1891              		.syntax unified
 1892              		.thumb
 1893              		.thumb_func
 1894              		.fpu softvfp
 1896              	validate:
 1897              	.LVL196:
 1898              	.LFB105:
2267:Middlewares/Third_Party/FatFs/src/ff.c **** 
2268:Middlewares/Third_Party/FatFs/src/ff.c **** 
2269:Middlewares/Third_Party/FatFs/src/ff.c **** 
2270:Middlewares/Third_Party/FatFs/src/ff.c **** 
2271:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2272:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find logical drive and check if the volume is mounted                 */
2273:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2274:Middlewares/Third_Party/FatFs/src/ff.c **** 
2275:Middlewares/Third_Party/FatFs/src/ff.c **** static
2276:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT find_volume (	/* FR_OK(0): successful, !=0: any error occurred */
2277:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** rfs,		/* Pointer to pointer to the found file system object */
2278:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR** path,	/* Pointer to pointer to the path name (drive number) */
2279:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE wmode			/* !=0: Check write protection for write access */
2280:Middlewares/Third_Party/FatFs/src/ff.c **** )
2281:Middlewares/Third_Party/FatFs/src/ff.c **** {
2282:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
2283:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
2284:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
2285:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD bsect, fasize, tsect, sysect, nclst, szbfat, br[4];
2286:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD nrsv;
2287:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
2288:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
2289:Middlewares/Third_Party/FatFs/src/ff.c **** 
2290:Middlewares/Third_Party/FatFs/src/ff.c **** 
2291:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number from the path name */
2292:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = 0;
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
2294:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
2295:Middlewares/Third_Party/FatFs/src/ff.c **** 
2296:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check if the file system object is valid or not */
2297:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];					/* Get pointer to the file system object */
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
2299:Middlewares/Third_Party/FatFs/src/ff.c **** 
2300:Middlewares/Third_Party/FatFs/src/ff.c **** 	ENTER_FF(fs);						/* Lock the volume */
2301:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
2302:Middlewares/Third_Party/FatFs/src/ff.c **** 
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fs_type) {					/* If the volume has been mounted */
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
2306:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check write protection if needed */
2307:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
2308:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_OK;				/* The file system object is valid */
2309:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2310:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2311:Middlewares/Third_Party/FatFs/src/ff.c **** 
2312:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* The file system object is not valid. */
ARM GAS  /tmp/cc9KJrYz.s 			page 79


2313:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Following code attempts to mount the volume. (analyze BPB and initialize the fs object) */
2314:Middlewares/Third_Party/FatFs/src/ff.c **** 
2315:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;					/* Clear the file system object */
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
2317:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
2318:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT)				/* Check if the initialization succeeded */
2319:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check disk write protection if needed */
2321:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
2322:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS						/* Get sector size (multiple sector size cfg only) */
2323:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(fs->drv, GET_SECTOR_SIZE, &SS(fs)) != RES_OK
2324:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| SS(fs) < _MIN_SS || SS(fs) > _MAX_SS) return FR_DISK_ERR;
2325:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Find an FAT partition on the drive. Supports only generic partitioning, FDISK and SFD. */
2327:Middlewares/Third_Party/FatFs/src/ff.c **** 	bsect = 0;
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);					/* Load sector 0 and check if it is an FAT boot sector as SFD */
2329:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1 || (!fmt && (LD2PT(vol)))) {	/* Not an FAT boot sector or forced partition number */
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {			/* Get partition offset */
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
2333:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2334:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = LD2PT(vol);						/* Partition number: 0:auto, 1-4:forced */
2335:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i) i--;
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {								/* Find an FAT volume */
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 2;	/* Check the partition */
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (!LD2PT(vol) && fmt && ++i < 4);
2340:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 3) return FR_DISK_ERR;		/* An error occured in the disk I/O layer */
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt) return FR_NO_FILESYSTEM;		/* No FAT volume is found */
2343:Middlewares/Third_Party/FatFs/src/ff.c **** 
2344:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* An FAT volume is found. Following code initializes the file system object */
2345:Middlewares/Third_Party/FatFs/src/ff.c **** 
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (LD_WORD(fs->win.d8 + BPB_BytsPerSec) != SS(fs))	/* (BPB_BytsPerSec must be equal to the physic
2347:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2348:Middlewares/Third_Party/FatFs/src/ff.c **** 
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	fasize = LD_WORD(fs->win.d8 + BPB_FATSz16);			/* Number of sectors per FAT */
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fasize) fasize = LD_DWORD(fs->win.d8 + BPB_FATSz32);
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
2352:Middlewares/Third_Party/FatFs/src/ff.c **** 
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->n_fats = fs->win.d8[BPB_NumFATs];					/* Number of FAT copies */
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_fats != 1 && fs->n_fats != 2)				/* (Must be 1 or 2) */
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 	fasize *= fs->n_fats;								/* Number of sectors for FAT area */
2357:Middlewares/Third_Party/FatFs/src/ff.c **** 
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->csize = fs->win.d8[BPB_SecPerClus];				/* Number of sectors per cluster */
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs->csize || (fs->csize & (fs->csize - 1)))	/* (Must be power of 2) */
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2361:Middlewares/Third_Party/FatFs/src/ff.c **** 
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->n_rootdir = LD_WORD(fs->win.d8 + BPB_RootEntCnt);	/* Number of root directory entries */
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_rootdir % (SS(fs) / SZ_DIRE))				/* (Must be sector aligned) */
2364:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2365:Middlewares/Third_Party/FatFs/src/ff.c **** 
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 	tsect = LD_WORD(fs->win.d8 + BPB_TotSec16);			/* Number of sectors on the volume */
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!tsect) tsect = LD_DWORD(fs->win.d8 + BPB_TotSec32);
2368:Middlewares/Third_Party/FatFs/src/ff.c **** 
2369:Middlewares/Third_Party/FatFs/src/ff.c **** 	nrsv = LD_WORD(fs->win.d8 + BPB_RsvdSecCnt);			/* Number of reserved sectors */
ARM GAS  /tmp/cc9KJrYz.s 			page 80


2370:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nrsv) return FR_NO_FILESYSTEM;					/* (Must not be 0) */
2371:Middlewares/Third_Party/FatFs/src/ff.c **** 
2372:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine the FAT sub type */
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 	sysect = nrsv + fasize + fs->n_rootdir / (SS(fs) / SZ_DIRE);	/* RSV + FAT + DIR */
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (tsect < sysect) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 	nclst = (tsect - sysect) / fs->csize;				/* Number of clusters */
2376:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nclst) return FR_NO_FILESYSTEM;				/* (Invalid volume size) */
2377:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
2378:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT16) fmt = FS_FAT16;
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT32) fmt = FS_FAT32;
2380:Middlewares/Third_Party/FatFs/src/ff.c **** 
2381:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Boundaries and Limits */
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->n_fatent = nclst + 2;							/* Number of FAT entries */
2383:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->volbase = bsect;								/* Volume start sector */
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fatbase = bsect + nrsv; 						/* FAT start sector */
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->database = bsect + sysect;						/* Data start sector */
2386:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir) return FR_NO_FILESYSTEM;		/* (BPB_RootEntCnt must be 0) */
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = LD_DWORD(fs->win.d8 + BPB_RootClus);	/* Root directory start cluster */
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
2390:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
2391:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fs->n_rootdir)	return FR_NO_FILESYSTEM;	/* (BPB_RootEntCnt must not be 0) */
2392:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = fs->fatbase + fasize;				/* Root directory start sector */
2393:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = (fmt == FS_FAT16) ?					/* (Needed FAT size) */
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
2395:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2396:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->fsize < (szbfat + (SS(fs) - 1)) / SS(fs))	/* (BPB_FATSz must not be less than the size nee
2397:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
2398:Middlewares/Third_Party/FatFs/src/ff.c **** 
2399:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2400:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Initialize cluster allocation information */
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->last_clust = fs->free_clust = 0xFFFFFFFF;
2402:Middlewares/Third_Party/FatFs/src/ff.c **** 
2403:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get fsinfo if available */
2404:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsi_flag = 0x80;
2405:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32				/* Enable FSINFO only if FAT32 and BPB_FSInfo is 1 */
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& LD_WORD(fs->win.d8 + BPB_FSInfo) == 1
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& move_window(fs, bsect + 1) == FR_OK)
2409:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
2410:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fsi_flag = 0;
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (LD_WORD(fs->win.d8 + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
2412:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_LeadSig) == 0x41615252
2413:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_StrucSig) == 0x61417272)
2414:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
2415:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 1) == 0
2416:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust = LD_DWORD(fs->win.d8 + FSI_Free_Count);
2417:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2418:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 2) == 0
2419:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->last_clust = LD_DWORD(fs->win.d8 + FSI_Nxt_Free);
2420:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2421:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2422:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2423:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2424:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = fmt;	/* FAT sub-type */
2426:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;	/* File system mount ID */
ARM GAS  /tmp/cc9KJrYz.s 			page 81


2427:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
2428:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->cdir = 0;		/* Set current directory to root */
2429:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2430:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK			/* Clear file lock semaphores */
2431:Middlewares/Third_Party/FatFs/src/ff.c **** 	clear_lock(fs);
2432:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2433:Middlewares/Third_Party/FatFs/src/ff.c **** 
2434:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2435:Middlewares/Third_Party/FatFs/src/ff.c **** }
2436:Middlewares/Third_Party/FatFs/src/ff.c **** 
2437:Middlewares/Third_Party/FatFs/src/ff.c **** 
2438:Middlewares/Third_Party/FatFs/src/ff.c **** 
2439:Middlewares/Third_Party/FatFs/src/ff.c **** 
2440:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2441:Middlewares/Third_Party/FatFs/src/ff.c **** /* Check if the file/directory object is valid or not                    */
2442:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2443:Middlewares/Third_Party/FatFs/src/ff.c **** 
2444:Middlewares/Third_Party/FatFs/src/ff.c **** static
2445:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT validate (	/* FR_OK(0): The object is valid, !=0: Invalid */
2446:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* obj		/* Pointer to the object FIL/DIR to check validity */
2447:Middlewares/Third_Party/FatFs/src/ff.c **** )
2448:Middlewares/Third_Party/FatFs/src/ff.c **** {
 1899              		.loc 1 2448 1 is_stmt 1 view -0
 1900              		.cfi_startproc
 1901              		@ args = 0, pretend = 0, frame = 0
 1902              		@ frame_needed = 0, uses_anonymous_args = 0
2449:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL *fil = (FIL*)obj;	/* Assuming offset of .fs and .id in the FIL/DIR structure is identical */
 1903              		.loc 1 2449 2 view .LVU579
2450:Middlewares/Third_Party/FatFs/src/ff.c **** 
2451:Middlewares/Third_Party/FatFs/src/ff.c **** 
2452:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fil || !fil->fs || !fil->fs->fs_type || fil->fs->id != fil->id || (disk_status(fil->fs->drv) 
 1904              		.loc 1 2452 2 view .LVU580
 1905              		.loc 1 2452 5 is_stmt 0 view .LVU581
 1906 0000 D8B1     		cbz	r0, .L181
2448:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL *fil = (FIL*)obj;	/* Assuming offset of .fs and .id in the FIL/DIR structure is identical */
 1907              		.loc 1 2448 1 discriminator 1 view .LVU582
 1908 0002 08B5     		push	{r3, lr}
 1909              	.LCFI19:
 1910              		.cfi_def_cfa_offset 8
 1911              		.cfi_offset 3, -8
 1912              		.cfi_offset 14, -4
 1913              		.loc 1 2452 18 discriminator 1 view .LVU583
 1914 0004 00F58053 		add	r3, r0, #4096
 1915 0008 1B68     		ldr	r3, [r3]
 1916              		.loc 1 2452 11 discriminator 1 view .LVU584
 1917 000a 5BB1     		cbz	r3, .L178
 1918              		.loc 1 2452 34 discriminator 2 view .LVU585
 1919 000c 03F58051 		add	r1, r3, #4096
 1920 0010 0978     		ldrb	r1, [r1]	@ zero_extendqisi2
 1921              		.loc 1 2452 23 discriminator 2 view .LVU586
 1922 0012 39B1     		cbz	r1, .L178
 1923              		.loc 1 2452 54 discriminator 3 view .LVU587
 1924 0014 03F58051 		add	r1, r3, #4096
 1925 0018 C988     		ldrh	r1, [r1, #6]
 1926              		.loc 1 2452 65 discriminator 3 view .LVU588
 1927 001a 00F58052 		add	r2, r0, #4096
 1928 001e 9288     		ldrh	r2, [r2, #4]
ARM GAS  /tmp/cc9KJrYz.s 			page 82


 1929              		.loc 1 2452 44 discriminator 3 view .LVU589
 1930 0020 9142     		cmp	r1, r2
 1931 0022 01D0     		beq	.L185
 1932              	.LVL197:
 1933              	.L178:
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1934              		.loc 1 2453 3 is_stmt 1 view .LVU590
 1935              		.loc 1 2453 10 is_stmt 0 view .LVU591
 1936 0024 0920     		movs	r0, #9
 1937              	.L179:
2454:Middlewares/Third_Party/FatFs/src/ff.c **** 
2455:Middlewares/Third_Party/FatFs/src/ff.c **** 	ENTER_FF(fil->fs);		/* Lock file system */
2456:Middlewares/Third_Party/FatFs/src/ff.c **** 
2457:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2458:Middlewares/Third_Party/FatFs/src/ff.c **** }
 1938              		.loc 1 2458 1 view .LVU592
 1939 0026 08BD     		pop	{r3, pc}
 1940              	.LVL198:
 1941              	.L185:
2452:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1942              		.loc 1 2452 74 discriminator 4 view .LVU593
 1943 0028 03F58053 		add	r3, r3, #4096
 1944 002c 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 1945              	.LVL199:
2452:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1946              		.loc 1 2452 74 discriminator 4 view .LVU594
 1947 002e FFF7FEFF 		bl	disk_status
 1948              	.LVL200:
2452:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1949              		.loc 1 2452 70 discriminator 4 view .LVU595
 1950 0032 10F00100 		ands	r0, r0, #1
 1951 0036 F6D0     		beq	.L179
 1952 0038 F4E7     		b	.L178
 1953              	.LVL201:
 1954              	.L181:
 1955              	.LCFI20:
 1956              		.cfi_def_cfa_offset 0
 1957              		.cfi_restore 3
 1958              		.cfi_restore 14
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1959              		.loc 1 2453 3 is_stmt 1 view .LVU596
2453:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INVALID_OBJECT;
 1960              		.loc 1 2453 10 is_stmt 0 view .LVU597
 1961 003a 0920     		movs	r0, #9
 1962              	.LVL202:
 1963              		.loc 1 2458 1 view .LVU598
 1964 003c 7047     		bx	lr
 1965              		.cfi_endproc
 1966              	.LFE105:
 1968              		.section	.text.find_volume,"ax",%progbits
 1969              		.align	1
 1970              		.syntax unified
 1971              		.thumb
 1972              		.thumb_func
 1973              		.fpu softvfp
 1975              	find_volume:
 1976              	.LVL203:
ARM GAS  /tmp/cc9KJrYz.s 			page 83


 1977              	.LFB104:
2281:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
 1978              		.loc 1 2281 1 is_stmt 1 view -0
 1979              		.cfi_startproc
 1980              		@ args = 0, pretend = 0, frame = 16
 1981              		@ frame_needed = 0, uses_anonymous_args = 0
2281:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, *pt;
 1982              		.loc 1 2281 1 is_stmt 0 view .LVU600
 1983 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 1984              	.LCFI21:
 1985              		.cfi_def_cfa_offset 32
 1986              		.cfi_offset 4, -32
 1987              		.cfi_offset 5, -28
 1988              		.cfi_offset 6, -24
 1989              		.cfi_offset 7, -20
 1990              		.cfi_offset 8, -16
 1991              		.cfi_offset 9, -12
 1992              		.cfi_offset 10, -8
 1993              		.cfi_offset 14, -4
 1994 0004 84B0     		sub	sp, sp, #16
 1995              	.LCFI22:
 1996              		.cfi_def_cfa_offset 48
 1997 0006 0446     		mov	r4, r0
 1998 0008 1746     		mov	r7, r2
2282:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 1999              		.loc 1 2282 2 is_stmt 1 view .LVU601
2283:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
 2000              		.loc 1 2283 2 view .LVU602
2284:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD bsect, fasize, tsect, sysect, nclst, szbfat, br[4];
 2001              		.loc 1 2284 2 view .LVU603
2285:Middlewares/Third_Party/FatFs/src/ff.c **** 	WORD nrsv;
 2002              		.loc 1 2285 2 view .LVU604
2286:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 2003              		.loc 1 2286 2 view .LVU605
2287:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 2004              		.loc 1 2287 2 view .LVU606
2288:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2005              		.loc 1 2288 2 view .LVU607
2292:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 2006              		.loc 1 2292 2 view .LVU608
2292:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(path);
 2007              		.loc 1 2292 7 is_stmt 0 view .LVU609
 2008 000a 0023     		movs	r3, #0
 2009 000c 0360     		str	r3, [r0]
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 2010              		.loc 1 2293 2 is_stmt 1 view .LVU610
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 2011              		.loc 1 2293 8 is_stmt 0 view .LVU611
 2012 000e 0846     		mov	r0, r1
 2013              	.LVL204:
2293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 2014              		.loc 1 2293 8 view .LVU612
 2015 0010 FFF7FEFF 		bl	get_ldnumber
 2016              	.LVL205:
2294:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2017              		.loc 1 2294 2 is_stmt 1 view .LVU613
2294:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9KJrYz.s 			page 84


 2018              		.loc 1 2294 5 is_stmt 0 view .LVU614
 2019 0014 051E     		subs	r5, r0, #0
 2020 0016 C0F2C981 		blt	.L204
2297:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 2021              		.loc 1 2297 2 is_stmt 1 view .LVU615
2297:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;		/* Is the file system object available? */
 2022              		.loc 1 2297 5 is_stmt 0 view .LVU616
 2023 001a B34B     		ldr	r3, .L237
 2024 001c 53F82560 		ldr	r6, [r3, r5, lsl #2]
 2025              	.LVL206:
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2026              		.loc 1 2298 2 is_stmt 1 view .LVU617
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2027              		.loc 1 2298 5 is_stmt 0 view .LVU618
 2028 0020 002E     		cmp	r6, #0
 2029 0022 00F0C881 		beq	.L205
2300:Middlewares/Third_Party/FatFs/src/ff.c **** 	*rfs = fs;							/* Return pointer to the file system object */
 2030              		.loc 1 2300 14 is_stmt 1 view .LVU619
2301:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2031              		.loc 1 2301 2 view .LVU620
2301:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2032              		.loc 1 2301 7 is_stmt 0 view .LVU621
 2033 0026 2660     		str	r6, [r4]
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 2034              		.loc 1 2303 2 is_stmt 1 view .LVU622
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 2035              		.loc 1 2303 8 is_stmt 0 view .LVU623
 2036 0028 06F58053 		add	r3, r6, #4096
 2037 002c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
2303:Middlewares/Third_Party/FatFs/src/ff.c **** 		stat = disk_status(fs->drv);
 2038              		.loc 1 2303 5 view .LVU624
 2039 002e 83B1     		cbz	r3, .L188
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 2040              		.loc 1 2304 3 is_stmt 1 view .LVU625
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 2041              		.loc 1 2304 10 is_stmt 0 view .LVU626
 2042 0030 06F58053 		add	r3, r6, #4096
 2043 0034 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
 2044              	.LVL207:
2304:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!(stat & STA_NOINIT)) {		/* and the physical drive is kept initialized */
 2045              		.loc 1 2304 10 view .LVU627
 2046 0036 FFF7FEFF 		bl	disk_status
 2047              	.LVL208:
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check write protection if needed */
 2048              		.loc 1 2305 3 is_stmt 1 view .LVU628
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check write protection if needed */
 2049              		.loc 1 2305 6 is_stmt 0 view .LVU629
 2050 003a 10F00104 		ands	r4, r0, #1
 2051              	.LVL209:
2305:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check write protection if needed */
 2052              		.loc 1 2305 6 view .LVU630
 2053 003e 08D1     		bne	.L188
2306:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 2054              		.loc 1 2306 4 is_stmt 1 view .LVU631
2306:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 2055              		.loc 1 2306 7 is_stmt 0 view .LVU632
 2056 0040 002F     		cmp	r7, #0
ARM GAS  /tmp/cc9KJrYz.s 			page 85


 2057 0042 00F0B481 		beq	.L187
2306:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_WRITE_PROTECTED;
 2058              		.loc 1 2306 31 discriminator 1 view .LVU633
 2059 0046 10F0040F 		tst	r0, #4
 2060 004a 00F0B081 		beq	.L187
2307:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_OK;				/* The file system object is valid */
 2061              		.loc 1 2307 12 view .LVU634
 2062 004e 0A24     		movs	r4, #10
 2063 0050 ADE1     		b	.L187
 2064              	.LVL210:
 2065              	.L188:
2315:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 2066              		.loc 1 2315 2 is_stmt 1 view .LVU635
2315:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->drv = LD2PD(vol);				/* Bind the logical drive and a physical drive */
 2067              		.loc 1 2315 14 is_stmt 0 view .LVU636
 2068 0052 06F58053 		add	r3, r6, #4096
 2069 0056 0022     		movs	r2, #0
 2070 0058 1A70     		strb	r2, [r3]
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 2071              		.loc 1 2316 2 is_stmt 1 view .LVU637
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 2072              		.loc 1 2316 12 is_stmt 0 view .LVU638
 2073 005a E8B2     		uxtb	r0, r5
2316:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(fs->drv);	/* Initialize the physical drive */
 2074              		.loc 1 2316 10 view .LVU639
 2075 005c 5870     		strb	r0, [r3, #1]
2317:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT)				/* Check if the initialization succeeded */
 2076              		.loc 1 2317 2 is_stmt 1 view .LVU640
2317:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT)				/* Check if the initialization succeeded */
 2077              		.loc 1 2317 9 is_stmt 0 view .LVU641
 2078 005e FFF7FEFF 		bl	disk_initialize
 2079              	.LVL211:
2318:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 2080              		.loc 1 2318 2 is_stmt 1 view .LVU642
2318:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NOT_READY;			/* Failed to initialize due to no medium or hard error */
 2081              		.loc 1 2318 5 is_stmt 0 view .LVU643
 2082 0062 10F0010F 		tst	r0, #1
 2083 0066 40F0A881 		bne	.L207
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 2084              		.loc 1 2320 2 is_stmt 1 view .LVU644
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 2085              		.loc 1 2320 5 is_stmt 0 view .LVU645
 2086 006a 1FB1     		cbz	r7, .L189
2320:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_WRITE_PROTECTED;
 2087              		.loc 1 2320 29 discriminator 1 view .LVU646
 2088 006c 10F0040F 		tst	r0, #4
 2089 0070 40F0A581 		bne	.L208
 2090              	.L189:
2323:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| SS(fs) < _MIN_SS || SS(fs) > _MAX_SS) return FR_DISK_ERR;
 2091              		.loc 1 2323 2 is_stmt 1 view .LVU647
2323:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| SS(fs) < _MIN_SS || SS(fs) > _MAX_SS) return FR_DISK_ERR;
 2092              		.loc 1 2323 6 is_stmt 0 view .LVU648
 2093 0074 06F58053 		add	r3, r6, #4096
 2094 0078 1A46     		mov	r2, r3
 2095 007a 0A32     		adds	r2, r2, #10
 2096 007c 0221     		movs	r1, #2
 2097 007e 5878     		ldrb	r0, [r3, #1]	@ zero_extendqisi2
ARM GAS  /tmp/cc9KJrYz.s 			page 86


 2098              	.LVL212:
2323:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| SS(fs) < _MIN_SS || SS(fs) > _MAX_SS) return FR_DISK_ERR;
 2099              		.loc 1 2323 6 view .LVU649
 2100 0080 FFF7FEFF 		bl	disk_ioctl
 2101              	.LVL213:
2323:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| SS(fs) < _MIN_SS || SS(fs) > _MAX_SS) return FR_DISK_ERR;
 2102              		.loc 1 2323 5 view .LVU650
 2103 0084 0028     		cmp	r0, #0
 2104 0086 40F09C81 		bne	.L209
2324:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2105              		.loc 1 2324 6 view .LVU651
 2106 008a 06F58053 		add	r3, r6, #4096
 2107 008e 5B89     		ldrh	r3, [r3, #10]
2324:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2108              		.loc 1 2324 3 view .LVU652
 2109 0090 B3F5007F 		cmp	r3, #512
 2110 0094 C0F09781 		bcc	.L210
2324:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2111              		.loc 1 2324 23 discriminator 2 view .LVU653
 2112 0098 B3F5805F 		cmp	r3, #4096
 2113 009c 01D9     		bls	.L231
2324:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2114              		.loc 1 2324 51 view .LVU654
 2115 009e 0124     		movs	r4, #1
 2116 00a0 85E1     		b	.L187
 2117              	.L231:
2327:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);					/* Load sector 0 and check if it is an FAT boot sector as SFD */
 2118              		.loc 1 2327 2 is_stmt 1 view .LVU655
 2119              	.LVL214:
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1 || (!fmt && (LD2PT(vol)))) {	/* Not an FAT boot sector or forced partition number */
 2120              		.loc 1 2328 2 view .LVU656
2328:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == 1 || (!fmt && (LD2PT(vol)))) {	/* Not an FAT boot sector or forced partition number */
 2121              		.loc 1 2328 8 is_stmt 0 view .LVU657
 2122 00a2 0021     		movs	r1, #0
 2123 00a4 3046     		mov	r0, r6
 2124 00a6 FFF7FEFF 		bl	check_fs
 2125              	.LVL215:
 2126 00aa 0446     		mov	r4, r0
 2127              	.LVL216:
2329:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {			/* Get partition offset */
 2128              		.loc 1 2329 2 is_stmt 1 view .LVU658
2329:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; i < 4; i++) {			/* Get partition offset */
 2129              		.loc 1 2329 5 is_stmt 0 view .LVU659
 2130 00ac 0128     		cmp	r0, #1
 2131 00ae 00F0E880 		beq	.L212
2327:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = check_fs(fs, bsect);					/* Load sector 0 and check if it is an FAT boot sector as SFD */
 2132              		.loc 1 2327 8 view .LVU660
 2133 00b2 0027     		movs	r7, #0
 2134              	.LVL217:
 2135              	.L191:
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt) return FR_NO_FILESYSTEM;		/* No FAT volume is found */
 2136              		.loc 1 2341 2 is_stmt 1 view .LVU661
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt) return FR_NO_FILESYSTEM;		/* No FAT volume is found */
 2137              		.loc 1 2341 5 is_stmt 0 view .LVU662
 2138 00b4 032C     		cmp	r4, #3
 2139 00b6 00F08881 		beq	.L215
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9KJrYz.s 			page 87


 2140              		.loc 1 2342 2 is_stmt 1 view .LVU663
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2141              		.loc 1 2342 5 is_stmt 0 view .LVU664
 2142 00ba 002C     		cmp	r4, #0
 2143 00bc 40F08781 		bne	.L216
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2144              		.loc 1 2346 2 is_stmt 1 view .LVU665
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2145              		.loc 1 2346 6 is_stmt 0 view .LVU666
 2146 00c0 327B     		ldrb	r2, [r6, #12]	@ zero_extendqisi2
 2147 00c2 F37A     		ldrb	r3, [r6, #11]	@ zero_extendqisi2
 2148 00c4 43EA0223 		orr	r3, r3, r2, lsl #8
 2149 00c8 1BB2     		sxth	r3, r3
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2150              		.loc 1 2346 46 view .LVU667
 2151 00ca 06F58052 		add	r2, r6, #4096
 2152 00ce 5189     		ldrh	r1, [r2, #10]
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2153              		.loc 1 2346 43 view .LVU668
 2154 00d0 B2F90A20 		ldrsh	r2, [r2, #10]
2346:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2155              		.loc 1 2346 5 view .LVU669
 2156 00d4 9342     		cmp	r3, r2
 2157 00d6 40F07C81 		bne	.L217
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fasize) fasize = LD_DWORD(fs->win.d8 + BPB_FATSz32);
 2158              		.loc 1 2349 2 is_stmt 1 view .LVU670
2349:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fasize) fasize = LD_DWORD(fs->win.d8 + BPB_FATSz32);
 2159              		.loc 1 2349 11 is_stmt 0 view .LVU671
 2160 00da F27D     		ldrb	r2, [r6, #23]	@ zero_extendqisi2
 2161 00dc B37D     		ldrb	r3, [r6, #22]	@ zero_extendqisi2
 2162              	.LVL218:
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2163              		.loc 1 2350 2 is_stmt 1 view .LVU672
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2164              		.loc 1 2350 5 is_stmt 0 view .LVU673
 2165 00de 53EA0223 		orrs	r3, r3, r2, lsl #8
 2166              	.LVL219:
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2167              		.loc 1 2350 5 view .LVU674
 2168 00e2 0DD1     		bne	.L196
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2169              		.loc 1 2350 15 is_stmt 1 discriminator 1 view .LVU675
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2170              		.loc 1 2350 24 is_stmt 0 discriminator 1 view .LVU676
 2171 00e4 96F82720 		ldrb	r2, [r6, #39]	@ zero_extendqisi2
 2172 00e8 96F82630 		ldrb	r3, [r6, #38]	@ zero_extendqisi2
 2173              	.LVL220:
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2174              		.loc 1 2350 24 discriminator 1 view .LVU677
 2175 00ec 1B04     		lsls	r3, r3, #16
 2176 00ee 43EA0263 		orr	r3, r3, r2, lsl #24
 2177 00f2 96F82520 		ldrb	r2, [r6, #37]	@ zero_extendqisi2
 2178 00f6 43EA0223 		orr	r3, r3, r2, lsl #8
 2179 00fa 96F82420 		ldrb	r2, [r6, #36]	@ zero_extendqisi2
2350:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fsize = fasize;
 2180              		.loc 1 2350 22 discriminator 1 view .LVU678
 2181 00fe 1343     		orrs	r3, r3, r2
ARM GAS  /tmp/cc9KJrYz.s 			page 88


 2182              	.LVL221:
 2183              	.L196:
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2184              		.loc 1 2351 2 is_stmt 1 view .LVU679
2351:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2185              		.loc 1 2351 12 is_stmt 0 view .LVU680
 2186 0100 06F58052 		add	r2, r6, #4096
 2187 0104 9361     		str	r3, [r2, #24]
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_fats != 1 && fs->n_fats != 2)				/* (Must be 1 or 2) */
 2188              		.loc 1 2353 2 is_stmt 1 view .LVU681
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_fats != 1 && fs->n_fats != 2)				/* (Must be 1 or 2) */
 2189              		.loc 1 2353 25 is_stmt 0 view .LVU682
 2190 0106 307C     		ldrb	r0, [r6, #16]	@ zero_extendqisi2
2353:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_fats != 1 && fs->n_fats != 2)				/* (Must be 1 or 2) */
 2191              		.loc 1 2353 13 view .LVU683
 2192 0108 D070     		strb	r0, [r2, #3]
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2193              		.loc 1 2354 2 is_stmt 1 view .LVU684
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2194              		.loc 1 2354 22 is_stmt 0 view .LVU685
 2195 010a 421E     		subs	r2, r0, #1
 2196 010c D2B2     		uxtb	r2, r2
2354:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2197              		.loc 1 2354 5 view .LVU686
 2198 010e 012A     		cmp	r2, #1
 2199 0110 00F26181 		bhi	.L218
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2200              		.loc 1 2356 2 is_stmt 1 view .LVU687
2356:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2201              		.loc 1 2356 9 is_stmt 0 view .LVU688
 2202 0114 03FB00F0 		mul	r0, r3, r0
 2203              	.LVL222:
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs->csize || (fs->csize & (fs->csize - 1)))	/* (Must be power of 2) */
 2204              		.loc 1 2358 2 is_stmt 1 view .LVU689
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs->csize || (fs->csize & (fs->csize - 1)))	/* (Must be power of 2) */
 2205              		.loc 1 2358 24 is_stmt 0 view .LVU690
 2206 0118 96F80DE0 		ldrb	lr, [r6, #13]	@ zero_extendqisi2
2358:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs->csize || (fs->csize & (fs->csize - 1)))	/* (Must be power of 2) */
 2207              		.loc 1 2358 12 view .LVU691
 2208 011c 06F58052 		add	r2, r6, #4096
 2209 0120 82F802E0 		strb	lr, [r2, #2]
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2210              		.loc 1 2359 2 is_stmt 1 view .LVU692
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2211              		.loc 1 2359 5 is_stmt 0 view .LVU693
 2212 0124 BEF1000F 		cmp	lr, #0
 2213 0128 00F05781 		beq	.L219
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2214              		.loc 1 2359 44 discriminator 1 view .LVU694
 2215 012c 0EF1FF32 		add	r2, lr, #-1
2359:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2216              		.loc 1 2359 17 discriminator 1 view .LVU695
 2217 0130 1EEA020F 		tst	lr, r2
 2218 0134 40F05381 		bne	.L220
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_rootdir % (SS(fs) / SZ_DIRE))				/* (Must be sector aligned) */
 2219              		.loc 1 2362 2 is_stmt 1 view .LVU696
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_rootdir % (SS(fs) / SZ_DIRE))				/* (Must be sector aligned) */
ARM GAS  /tmp/cc9KJrYz.s 			page 89


 2220              		.loc 1 2362 18 is_stmt 0 view .LVU697
 2221 0138 B27C     		ldrb	r2, [r6, #18]	@ zero_extendqisi2
 2222 013a 757C     		ldrb	r5, [r6, #17]	@ zero_extendqisi2
 2223 013c 45EA0225 		orr	r5, r5, r2, lsl #8
2362:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs->n_rootdir % (SS(fs) / SZ_DIRE))				/* (Must be sector aligned) */
 2224              		.loc 1 2362 16 view .LVU698
 2225 0140 06F58052 		add	r2, r6, #4096
 2226 0144 1581     		strh	r5, [r2, #8]	@ movhi
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2227              		.loc 1 2363 2 is_stmt 1 view .LVU699
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2228              		.loc 1 2363 6 is_stmt 0 view .LVU700
 2229 0146 4FEA5118 		lsr	r8, r1, #5
 2230 014a B5FBF8F2 		udiv	r2, r5, r8
 2231 014e 08FB1252 		mls	r2, r8, r2, r5
 2232 0152 92B2     		uxth	r2, r2
2363:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2233              		.loc 1 2363 5 view .LVU701
 2234 0154 002A     		cmp	r2, #0
 2235 0156 40F04481 		bne	.L221
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!tsect) tsect = LD_DWORD(fs->win.d8 + BPB_TotSec32);
 2236              		.loc 1 2366 2 is_stmt 1 view .LVU702
2366:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!tsect) tsect = LD_DWORD(fs->win.d8 + BPB_TotSec32);
 2237              		.loc 1 2366 10 is_stmt 0 view .LVU703
 2238 015a 96F814C0 		ldrb	ip, [r6, #20]	@ zero_extendqisi2
 2239 015e F27C     		ldrb	r2, [r6, #19]	@ zero_extendqisi2
 2240              	.LVL223:
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2241              		.loc 1 2367 2 is_stmt 1 view .LVU704
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2242              		.loc 1 2367 5 is_stmt 0 view .LVU705
 2243 0160 52EA0C22 		orrs	r2, r2, ip, lsl #8
 2244              	.LVL224:
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2245              		.loc 1 2367 5 view .LVU706
 2246 0164 0ED1     		bne	.L197
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2247              		.loc 1 2367 14 is_stmt 1 discriminator 1 view .LVU707
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2248              		.loc 1 2367 22 is_stmt 0 discriminator 1 view .LVU708
 2249 0166 96F823C0 		ldrb	ip, [r6, #35]	@ zero_extendqisi2
 2250 016a 96F82220 		ldrb	r2, [r6, #34]	@ zero_extendqisi2
 2251              	.LVL225:
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2252              		.loc 1 2367 22 discriminator 1 view .LVU709
 2253 016e 1204     		lsls	r2, r2, #16
 2254 0170 42EA0C62 		orr	r2, r2, ip, lsl #24
 2255 0174 96F821C0 		ldrb	ip, [r6, #33]	@ zero_extendqisi2
 2256 0178 42EA0C22 		orr	r2, r2, ip, lsl #8
 2257 017c 96F820C0 		ldrb	ip, [r6, #32]	@ zero_extendqisi2
2367:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2258              		.loc 1 2367 20 discriminator 1 view .LVU710
 2259 0180 42EA0C02 		orr	r2, r2, ip
 2260              	.LVL226:
 2261              	.L197:
2369:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nrsv) return FR_NO_FILESYSTEM;					/* (Must not be 0) */
 2262              		.loc 1 2369 2 is_stmt 1 view .LVU711
ARM GAS  /tmp/cc9KJrYz.s 			page 90


2369:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nrsv) return FR_NO_FILESYSTEM;					/* (Must not be 0) */
 2263              		.loc 1 2369 9 is_stmt 0 view .LVU712
 2264 0184 96F80FC0 		ldrb	ip, [r6, #15]	@ zero_extendqisi2
 2265 0188 96F80E90 		ldrb	r9, [r6, #14]	@ zero_extendqisi2
 2266              	.LVL227:
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2267              		.loc 1 2370 2 is_stmt 1 view .LVU713
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2268              		.loc 1 2370 5 is_stmt 0 view .LVU714
 2269 018c 59EA0C29 		orrs	r9, r9, ip, lsl #8
 2270              	.LVL228:
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2271              		.loc 1 2370 5 view .LVU715
 2272 0190 00F02981 		beq	.L222
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (tsect < sysect) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2273              		.loc 1 2373 2 is_stmt 1 view .LVU716
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (tsect < sysect) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2274              		.loc 1 2373 16 is_stmt 0 view .LVU717
 2275 0194 09EB000A 		add	r10, r9, r0
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (tsect < sysect) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2276              		.loc 1 2373 41 view .LVU718
 2277 0198 B5FBF8FC 		udiv	ip, r5, r8
2373:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (tsect < sysect) return FR_NO_FILESYSTEM;		/* (Invalid volume size) */
 2278              		.loc 1 2373 9 view .LVU719
 2279 019c D444     		add	ip, ip, r10
 2280              	.LVL229:
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 	nclst = (tsect - sysect) / fs->csize;				/* Number of clusters */
 2281              		.loc 1 2374 2 is_stmt 1 view .LVU720
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 	nclst = (tsect - sysect) / fs->csize;				/* Number of clusters */
 2282              		.loc 1 2374 5 is_stmt 0 view .LVU721
 2283 019e 6245     		cmp	r2, ip
 2284 01a0 C0F02381 		bcc	.L223
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nclst) return FR_NO_FILESYSTEM;				/* (Invalid volume size) */
 2285              		.loc 1 2375 2 is_stmt 1 view .LVU722
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nclst) return FR_NO_FILESYSTEM;				/* (Invalid volume size) */
 2286              		.loc 1 2375 17 is_stmt 0 view .LVU723
 2287 01a4 A2EB0C02 		sub	r2, r2, ip
 2288              	.LVL230:
2375:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!nclst) return FR_NO_FILESYSTEM;				/* (Invalid volume size) */
 2289              		.loc 1 2375 8 view .LVU724
 2290 01a8 B2FBFEFA 		udiv	r10, r2, lr
 2291              	.LVL231:
2376:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 2292              		.loc 1 2376 2 is_stmt 1 view .LVU725
2376:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 2293              		.loc 1 2376 5 is_stmt 0 view .LVU726
 2294 01ac 7245     		cmp	r2, lr
 2295 01ae C0F01E81 		bcc	.L224
2377:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT16) fmt = FS_FAT16;
 2296              		.loc 1 2377 2 is_stmt 1 view .LVU727
 2297              	.LVL232:
2378:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT32) fmt = FS_FAT32;
 2298              		.loc 1 2378 2 view .LVU728
2378:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT32) fmt = FS_FAT32;
 2299              		.loc 1 2378 5 is_stmt 0 view .LVU729
 2300 01b2 40F6F572 		movw	r2, #4085
 2301 01b6 9245     		cmp	r10, r2
ARM GAS  /tmp/cc9KJrYz.s 			page 91


 2302 01b8 7CD8     		bhi	.L225
2377:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT16) fmt = FS_FAT16;
 2303              		.loc 1 2377 6 view .LVU730
 2304 01ba 4FF00108 		mov	r8, #1
 2305              	.L198:
 2306              	.LVL233:
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2307              		.loc 1 2379 2 is_stmt 1 view .LVU731
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2308              		.loc 1 2379 5 is_stmt 0 view .LVU732
 2309 01be 4FF6F572 		movw	r2, #65525
 2310 01c2 9245     		cmp	r10, r2
 2311 01c4 01D9     		bls	.L199
2379:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2312              		.loc 1 2379 30 view .LVU733
 2313 01c6 4FF00308 		mov	r8, #3
 2314              	.LVL234:
 2315              	.L199:
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->volbase = bsect;								/* Volume start sector */
 2316              		.loc 1 2382 2 is_stmt 1 view .LVU734
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->volbase = bsect;								/* Volume start sector */
 2317              		.loc 1 2382 23 is_stmt 0 view .LVU735
 2318 01ca 0AF10202 		add	r2, r10, #2
2382:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->volbase = bsect;								/* Volume start sector */
 2319              		.loc 1 2382 15 view .LVU736
 2320 01ce 06F5805E 		add	lr, r6, #4096
 2321 01d2 CEF81420 		str	r2, [lr, #20]
2383:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fatbase = bsect + nrsv; 						/* FAT start sector */
 2322              		.loc 1 2383 2 is_stmt 1 view .LVU737
2383:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fatbase = bsect + nrsv; 						/* FAT start sector */
 2323              		.loc 1 2383 14 is_stmt 0 view .LVU738
 2324 01d6 CEF81C70 		str	r7, [lr, #28]
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->database = bsect + sysect;						/* Data start sector */
 2325              		.loc 1 2384 2 is_stmt 1 view .LVU739
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->database = bsect + sysect;						/* Data start sector */
 2326              		.loc 1 2384 22 is_stmt 0 view .LVU740
 2327 01da B944     		add	r9, r9, r7
 2328              	.LVL235:
2384:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->database = bsect + sysect;						/* Data start sector */
 2329              		.loc 1 2384 14 view .LVU741
 2330 01dc CEF82090 		str	r9, [lr, #32]
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 2331              		.loc 1 2385 2 is_stmt 1 view .LVU742
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 2332              		.loc 1 2385 23 is_stmt 0 view .LVU743
 2333 01e0 BC44     		add	ip, ip, r7
 2334              	.LVL236:
2385:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 2335              		.loc 1 2385 15 view .LVU744
 2336 01e2 CEF828C0 		str	ip, [lr, #40]
2386:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir) return FR_NO_FILESYSTEM;		/* (BPB_RootEntCnt must be 0) */
 2337              		.loc 1 2386 2 is_stmt 1 view .LVU745
2386:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->n_rootdir) return FR_NO_FILESYSTEM;		/* (BPB_RootEntCnt must be 0) */
 2338              		.loc 1 2386 5 is_stmt 0 view .LVU746
 2339 01e6 B8F1030F 		cmp	r8, #3
 2340 01ea 66D0     		beq	.L232
2391:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = fs->fatbase + fasize;				/* Root directory start sector */
ARM GAS  /tmp/cc9KJrYz.s 			page 92


 2341              		.loc 1 2391 3 is_stmt 1 view .LVU747
2391:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = fs->fatbase + fasize;				/* Root directory start sector */
 2342              		.loc 1 2391 6 is_stmt 0 view .LVU748
 2343 01ec 002D     		cmp	r5, #0
 2344 01ee 00F00281 		beq	.L228
2392:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = (fmt == FS_FAT16) ?					/* (Needed FAT size) */
 2345              		.loc 1 2392 3 is_stmt 1 view .LVU749
2392:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = (fmt == FS_FAT16) ?					/* (Needed FAT size) */
 2346              		.loc 1 2392 29 is_stmt 0 view .LVU750
 2347 01f2 4844     		add	r0, r0, r9
 2348              	.LVL237:
2392:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = (fmt == FS_FAT16) ?					/* (Needed FAT size) */
 2349              		.loc 1 2392 15 view .LVU751
 2350 01f4 06F58055 		add	r5, r6, #4096
 2351              	.LVL238:
2392:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = (fmt == FS_FAT16) ?					/* (Needed FAT size) */
 2352              		.loc 1 2392 15 view .LVU752
 2353 01f8 6862     		str	r0, [r5, #36]
2393:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->n_fatent * 2 : fs->n_fatent * 3 / 2 + (fs->n_fatent & 1);
 2354              		.loc 1 2393 3 is_stmt 1 view .LVU753
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2355              		.loc 1 2394 21 is_stmt 0 view .LVU754
 2356 01fa B8F1020F 		cmp	r8, #2
 2357 01fe 71D0     		beq	.L233
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2358              		.loc 1 2394 36 discriminator 2 view .LVU755
 2359 0200 02EB4200 		add	r0, r2, r2, lsl #1
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2360              		.loc 1 2394 60 discriminator 2 view .LVU756
 2361 0204 02F00102 		and	r2, r2, #1
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2362              		.loc 1 2394 21 discriminator 2 view .LVU757
 2363 0208 02EB5002 		add	r2, r2, r0, lsr #1
 2364              	.L201:
 2365              	.LVL239:
2396:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2366              		.loc 1 2396 2 is_stmt 1 view .LVU758
2396:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2367              		.loc 1 2396 26 is_stmt 0 view .LVU759
 2368 020c 0A44     		add	r2, r2, r1
 2369              	.LVL240:
2396:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2370              		.loc 1 2396 26 view .LVU760
 2371 020e 013A     		subs	r2, r2, #1
2396:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2372              		.loc 1 2396 42 view .LVU761
 2373 0210 B2FBF1F1 		udiv	r1, r2, r1
 2374              	.LVL241:
2396:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILESYSTEM;
 2375              		.loc 1 2396 5 view .LVU762
 2376 0214 9942     		cmp	r1, r3
 2377 0216 00F2F080 		bhi	.L229
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2378              		.loc 1 2401 2 is_stmt 1 view .LVU763
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2379              		.loc 1 2401 34 is_stmt 0 view .LVU764
 2380 021a 06F58053 		add	r3, r6, #4096
ARM GAS  /tmp/cc9KJrYz.s 			page 93


 2381              	.LVL242:
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2382              		.loc 1 2401 34 view .LVU765
 2383 021e 4FF0FF32 		mov	r2, #-1
 2384 0222 1A61     		str	r2, [r3, #16]
2401:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2385              		.loc 1 2401 17 view .LVU766
 2386 0224 DA60     		str	r2, [r3, #12]
2404:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
 2387              		.loc 1 2404 2 is_stmt 1 view .LVU767
2404:Middlewares/Third_Party/FatFs/src/ff.c **** #if (_FS_NOFSINFO & 3) != 3
 2388              		.loc 1 2404 15 is_stmt 0 view .LVU768
 2389 0226 8022     		movs	r2, #128
 2390 0228 5A71     		strb	r2, [r3, #5]
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& LD_WORD(fs->win.d8 + BPB_FSInfo) == 1
 2391              		.loc 1 2406 2 is_stmt 1 view .LVU769
2406:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& LD_WORD(fs->win.d8 + BPB_FSInfo) == 1
 2392              		.loc 1 2406 5 is_stmt 0 view .LVU770
 2393 022a B8F1030F 		cmp	r8, #3
 2394 022e 5FD0     		beq	.L234
 2395              	.LVL243:
 2396              	.L203:
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;	/* File system mount ID */
 2397              		.loc 1 2425 2 is_stmt 1 view .LVU771
2425:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->id = ++Fsid;	/* File system mount ID */
 2398              		.loc 1 2425 14 is_stmt 0 view .LVU772
 2399 0230 06F58052 		add	r2, r6, #4096
 2400 0234 82F80080 		strb	r8, [r2]
2426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 2401              		.loc 1 2426 2 is_stmt 1 view .LVU773
2426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 2402              		.loc 1 2426 11 is_stmt 0 view .LVU774
 2403 0238 2C49     		ldr	r1, .L237+4
 2404 023a 0B88     		ldrh	r3, [r1]
 2405 023c 0133     		adds	r3, r3, #1
 2406 023e 9BB2     		uxth	r3, r3
2426:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 2407              		.loc 1 2426 9 view .LVU775
 2408 0240 0B80     		strh	r3, [r1]	@ movhi
 2409 0242 D380     		strh	r3, [r2, #6]	@ movhi
2431:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2410              		.loc 1 2431 2 is_stmt 1 view .LVU776
 2411 0244 3046     		mov	r0, r6
 2412 0246 FFF7FEFF 		bl	clear_lock
 2413              	.LVL244:
2434:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2414              		.loc 1 2434 2 view .LVU777
2434:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2415              		.loc 1 2434 9 is_stmt 0 view .LVU778
 2416 024a B0E0     		b	.L187
 2417              	.LVL245:
 2418              	.L213:
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2419              		.loc 1 2332 37 view .LVU779
 2420 024c 0023     		movs	r3, #0
 2421              	.LVL246:
 2422              	.L192:
ARM GAS  /tmp/cc9KJrYz.s 			page 94


2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2423              		.loc 1 2332 10 discriminator 4 view .LVU780
 2424 024e 04AA     		add	r2, sp, #16
 2425 0250 02EB8102 		add	r2, r2, r1, lsl #2
 2426 0254 42F8103C 		str	r3, [r2, #-16]
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2427              		.loc 1 2330 22 is_stmt 1 discriminator 4 view .LVU781
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2428              		.loc 1 2330 23 is_stmt 0 discriminator 4 view .LVU782
 2429 0258 0131     		adds	r1, r1, #1
 2430              	.LVL247:
 2431              	.L190:
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2432              		.loc 1 2330 15 is_stmt 1 discriminator 2 view .LVU783
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2433              		.loc 1 2330 3 is_stmt 0 discriminator 2 view .LVU784
 2434 025a 0329     		cmp	r1, #3
 2435 025c 13D8     		bhi	.L235
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
 2436              		.loc 1 2331 4 is_stmt 1 view .LVU785
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
 2437              		.loc 1 2331 36 is_stmt 0 view .LVU786
 2438 025e 0B01     		lsls	r3, r1, #4
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
 2439              		.loc 1 2331 32 view .LVU787
 2440 0260 03F5DF73 		add	r3, r3, #446
2331:Middlewares/Third_Party/FatFs/src/ff.c **** 			br[i] = pt[4] ? LD_DWORD(&pt[8]) : 0;
 2441              		.loc 1 2331 7 view .LVU788
 2442 0264 3344     		add	r3, r3, r6
 2443              	.LVL248:
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2444              		.loc 1 2332 4 is_stmt 1 view .LVU789
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2445              		.loc 1 2332 14 is_stmt 0 view .LVU790
 2446 0266 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2447              		.loc 1 2332 37 view .LVU791
 2448 0268 002A     		cmp	r2, #0
 2449 026a EFD0     		beq	.L213
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2450              		.loc 1 2332 20 discriminator 1 view .LVU792
 2451 026c D87A     		ldrb	r0, [r3, #11]	@ zero_extendqisi2
 2452 026e 9A7A     		ldrb	r2, [r3, #10]	@ zero_extendqisi2
 2453 0270 1204     		lsls	r2, r2, #16
 2454 0272 42EA0062 		orr	r2, r2, r0, lsl #24
 2455 0276 587A     		ldrb	r0, [r3, #9]	@ zero_extendqisi2
 2456 0278 42EA0022 		orr	r2, r2, r0, lsl #8
 2457 027c 1B7A     		ldrb	r3, [r3, #8]	@ zero_extendqisi2
 2458              	.LVL249:
2332:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2459              		.loc 1 2332 37 discriminator 1 view .LVU793
 2460 027e 1343     		orrs	r3, r3, r2
 2461 0280 E5E7     		b	.L192
 2462              	.LVL250:
 2463              	.L212:
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2464              		.loc 1 2330 10 view .LVU794
ARM GAS  /tmp/cc9KJrYz.s 			page 95


 2465 0282 0021     		movs	r1, #0
 2466 0284 E9E7     		b	.L190
 2467              	.LVL251:
 2468              	.L235:
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2469              		.loc 1 2330 10 view .LVU795
 2470 0286 0025     		movs	r5, #0
 2471              	.LVL252:
2330:Middlewares/Third_Party/FatFs/src/ff.c **** 			pt = fs->win.d8 + MBR_Table + i * SZ_PTE;
 2472              		.loc 1 2330 10 view .LVU796
 2473 0288 0BE0     		b	.L195
 2474              	.LVL253:
 2475              	.L236:
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (!LD2PT(vol) && fmt && ++i < 4);
 2476              		.loc 1 2338 18 discriminator 1 view .LVU797
 2477 028a 3946     		mov	r1, r7
 2478 028c 3046     		mov	r0, r6
 2479 028e FFF7FEFF 		bl	check_fs
 2480              	.LVL254:
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2481              		.loc 1 2339 11 is_stmt 1 discriminator 1 view .LVU798
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2482              		.loc 1 2339 3 is_stmt 0 discriminator 1 view .LVU799
 2483 0292 0446     		mov	r4, r0
 2484 0294 0028     		cmp	r0, #0
 2485 0296 3FF40DAF 		beq	.L191
 2486              	.LVL255:
 2487              	.L194:
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2488              		.loc 1 2339 31 discriminator 1 view .LVU800
 2489 029a 0135     		adds	r5, r5, #1
 2490              	.LVL256:
2339:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2491              		.loc 1 2339 31 discriminator 1 view .LVU801
 2492 029c 032D     		cmp	r5, #3
 2493 029e 3FF609AF 		bhi	.L191
 2494              	.LVL257:
 2495              	.L195:
2336:Middlewares/Third_Party/FatFs/src/ff.c **** 			bsect = br[i];
 2496              		.loc 1 2336 3 is_stmt 1 view .LVU802
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 2;	/* Check the partition */
 2497              		.loc 1 2337 4 view .LVU803
2337:Middlewares/Third_Party/FatFs/src/ff.c **** 			fmt = bsect ? check_fs(fs, bsect) : 2;	/* Check the partition */
 2498              		.loc 1 2337 10 is_stmt 0 view .LVU804
 2499 02a2 04AB     		add	r3, sp, #16
 2500 02a4 03EB8503 		add	r3, r3, r5, lsl #2
 2501 02a8 53F8107C 		ldr	r7, [r3, #-16]
 2502              	.LVL258:
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (!LD2PT(vol) && fmt && ++i < 4);
 2503              		.loc 1 2338 4 is_stmt 1 view .LVU805
2338:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (!LD2PT(vol) && fmt && ++i < 4);
 2504              		.loc 1 2338 8 is_stmt 0 view .LVU806
 2505 02ac 002F     		cmp	r7, #0
 2506 02ae ECD1     		bne	.L236
 2507 02b0 0224     		movs	r4, #2
 2508 02b2 F2E7     		b	.L194
 2509              	.LVL259:
ARM GAS  /tmp/cc9KJrYz.s 			page 96


 2510              	.L225:
2378:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (nclst >= MIN_FAT32) fmt = FS_FAT32;
 2511              		.loc 1 2378 30 view .LVU807
 2512 02b4 4FF00208 		mov	r8, #2
 2513 02b8 81E7     		b	.L198
 2514              	.LVL260:
 2515              	.L232:
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = LD_DWORD(fs->win.d8 + BPB_RootClus);	/* Root directory start cluster */
 2516              		.loc 1 2387 3 is_stmt 1 view .LVU808
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = LD_DWORD(fs->win.d8 + BPB_RootClus);	/* Root directory start cluster */
 2517              		.loc 1 2387 6 is_stmt 0 view .LVU809
 2518 02ba 002D     		cmp	r5, #0
 2519 02bc 40F09980 		bne	.L227
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
 2520              		.loc 1 2388 3 is_stmt 1 view .LVU810
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
 2521              		.loc 1 2388 17 is_stmt 0 view .LVU811
 2522 02c0 96F82F50 		ldrb	r5, [r6, #47]	@ zero_extendqisi2
 2523              	.LVL261:
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
 2524              		.loc 1 2388 17 view .LVU812
 2525 02c4 96F82E00 		ldrb	r0, [r6, #46]	@ zero_extendqisi2
 2526              	.LVL262:
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
 2527              		.loc 1 2388 17 view .LVU813
 2528 02c8 0004     		lsls	r0, r0, #16
 2529 02ca 40EA0560 		orr	r0, r0, r5, lsl #24
 2530 02ce 96F82D50 		ldrb	r5, [r6, #45]	@ zero_extendqisi2
 2531 02d2 40EA0520 		orr	r0, r0, r5, lsl #8
 2532 02d6 96F82C50 		ldrb	r5, [r6, #44]	@ zero_extendqisi2
 2533 02da 2843     		orrs	r0, r0, r5
2388:Middlewares/Third_Party/FatFs/src/ff.c **** 		szbfat = fs->n_fatent * 4;						/* (Needed FAT size) */
 2534              		.loc 1 2388 15 view .LVU814
 2535 02dc CEF82400 		str	r0, [lr, #36]
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 2536              		.loc 1 2389 3 is_stmt 1 view .LVU815
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 2537              		.loc 1 2389 10 is_stmt 0 view .LVU816
 2538 02e0 9200     		lsls	r2, r2, #2
 2539              	.LVL263:
2389:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 2540              		.loc 1 2389 10 view .LVU817
 2541 02e2 93E7     		b	.L201
 2542              	.LVL264:
 2543              	.L233:
2394:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2544              		.loc 1 2394 21 discriminator 1 view .LVU818
 2545 02e4 5200     		lsls	r2, r2, #1
 2546 02e6 91E7     		b	.L201
 2547              	.L238:
 2548              		.align	2
 2549              	.L237:
 2550 02e8 00000000 		.word	.LANCHOR2
 2551 02ec 00000000 		.word	.LANCHOR3
 2552              	.LVL265:
 2553              	.L234:
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& move_window(fs, bsect + 1) == FR_OK)
ARM GAS  /tmp/cc9KJrYz.s 			page 97


 2554              		.loc 1 2407 6 view .LVU819
 2555 02f0 96F83120 		ldrb	r2, [r6, #49]	@ zero_extendqisi2
 2556 02f4 96F83030 		ldrb	r3, [r6, #48]	@ zero_extendqisi2
 2557 02f8 43EA0223 		orr	r3, r3, r2, lsl #8
 2558 02fc 1BB2     		sxth	r3, r3
2407:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& move_window(fs, bsect + 1) == FR_OK)
 2559              		.loc 1 2407 3 view .LVU820
 2560 02fe 012B     		cmp	r3, #1
 2561 0300 96D1     		bne	.L203
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
 2562              		.loc 1 2408 6 view .LVU821
 2563 0302 791C     		adds	r1, r7, #1
 2564 0304 3046     		mov	r0, r6
 2565 0306 FFF7FEFF 		bl	move_window
 2566              	.LVL266:
2408:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
 2567              		.loc 1 2408 3 view .LVU822
 2568 030a 0028     		cmp	r0, #0
 2569 030c 90D1     		bne	.L203
2410:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (LD_WORD(fs->win.d8 + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 2570              		.loc 1 2410 3 is_stmt 1 view .LVU823
2410:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (LD_WORD(fs->win.d8 + BS_55AA) == 0xAA55	/* Load FSINFO data if available */
 2571              		.loc 1 2410 16 is_stmt 0 view .LVU824
 2572 030e 06F58053 		add	r3, r6, #4096
 2573 0312 0022     		movs	r2, #0
 2574 0314 5A71     		strb	r2, [r3, #5]
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_LeadSig) == 0x41615252
 2575              		.loc 1 2411 3 is_stmt 1 view .LVU825
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_LeadSig) == 0x41615252
 2576              		.loc 1 2411 7 is_stmt 0 view .LVU826
 2577 0316 96F8FF21 		ldrb	r2, [r6, #511]	@ zero_extendqisi2
 2578 031a 96F8FE31 		ldrb	r3, [r6, #510]	@ zero_extendqisi2
 2579 031e 43EA0223 		orr	r3, r3, r2, lsl #8
 2580 0322 1BB2     		sxth	r3, r3
2411:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_LeadSig) == 0x41615252
 2581              		.loc 1 2411 6 view .LVU827
 2582 0324 364A     		ldr	r2, .L239
 2583 0326 9342     		cmp	r3, r2
 2584 0328 82D1     		bne	.L203
2412:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_StrucSig) == 0x61417272)
 2585              		.loc 1 2412 7 view .LVU828
 2586 032a F278     		ldrb	r2, [r6, #3]	@ zero_extendqisi2
 2587 032c B378     		ldrb	r3, [r6, #2]	@ zero_extendqisi2
 2588 032e 1B04     		lsls	r3, r3, #16
 2589 0330 43EA0263 		orr	r3, r3, r2, lsl #24
 2590 0334 7278     		ldrb	r2, [r6, #1]	@ zero_extendqisi2
 2591 0336 43EA0223 		orr	r3, r3, r2, lsl #8
 2592 033a 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
 2593 033c 1343     		orrs	r3, r3, r2
2412:Middlewares/Third_Party/FatFs/src/ff.c **** 			&& LD_DWORD(fs->win.d8 + FSI_StrucSig) == 0x61417272)
 2594              		.loc 1 2412 4 view .LVU829
 2595 033e 314A     		ldr	r2, .L239+4
 2596 0340 9342     		cmp	r3, r2
 2597 0342 7FF475AF 		bne	.L203
2413:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
 2598              		.loc 1 2413 7 view .LVU830
 2599 0346 96F8E721 		ldrb	r2, [r6, #487]	@ zero_extendqisi2
ARM GAS  /tmp/cc9KJrYz.s 			page 98


 2600 034a 96F8E631 		ldrb	r3, [r6, #486]	@ zero_extendqisi2
 2601 034e 1B04     		lsls	r3, r3, #16
 2602 0350 43EA0263 		orr	r3, r3, r2, lsl #24
 2603 0354 96F8E521 		ldrb	r2, [r6, #485]	@ zero_extendqisi2
 2604 0358 43EA0223 		orr	r3, r3, r2, lsl #8
 2605 035c 96F8E421 		ldrb	r2, [r6, #484]	@ zero_extendqisi2
 2606 0360 1343     		orrs	r3, r3, r2
2413:Middlewares/Third_Party/FatFs/src/ff.c **** 		{
 2607              		.loc 1 2413 4 view .LVU831
 2608 0362 294A     		ldr	r2, .L239+8
 2609 0364 9342     		cmp	r3, r2
 2610 0366 7FF463AF 		bne	.L203
2416:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2611              		.loc 1 2416 4 is_stmt 1 view .LVU832
2416:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2612              		.loc 1 2416 21 is_stmt 0 view .LVU833
 2613 036a 96F8EB21 		ldrb	r2, [r6, #491]	@ zero_extendqisi2
 2614 036e 96F8EA31 		ldrb	r3, [r6, #490]	@ zero_extendqisi2
 2615 0372 1B04     		lsls	r3, r3, #16
 2616 0374 43EA0263 		orr	r3, r3, r2, lsl #24
 2617 0378 96F8E921 		ldrb	r2, [r6, #489]	@ zero_extendqisi2
 2618 037c 43EA0223 		orr	r3, r3, r2, lsl #8
 2619 0380 96F8E821 		ldrb	r2, [r6, #488]	@ zero_extendqisi2
 2620 0384 1343     		orrs	r3, r3, r2
2416:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2621              		.loc 1 2416 19 view .LVU834
 2622 0386 06F58052 		add	r2, r6, #4096
 2623 038a 1361     		str	r3, [r2, #16]
2419:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2624              		.loc 1 2419 4 is_stmt 1 view .LVU835
2419:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2625              		.loc 1 2419 21 is_stmt 0 view .LVU836
 2626 038c 96F8EF11 		ldrb	r1, [r6, #495]	@ zero_extendqisi2
 2627 0390 96F8EE31 		ldrb	r3, [r6, #494]	@ zero_extendqisi2
 2628 0394 1B04     		lsls	r3, r3, #16
 2629 0396 43EA0163 		orr	r3, r3, r1, lsl #24
 2630 039a 96F8ED11 		ldrb	r1, [r6, #493]	@ zero_extendqisi2
 2631 039e 43EA0123 		orr	r3, r3, r1, lsl #8
 2632 03a2 96F8EC11 		ldrb	r1, [r6, #492]	@ zero_extendqisi2
 2633 03a6 0B43     		orrs	r3, r3, r1
2419:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2634              		.loc 1 2419 19 view .LVU837
 2635 03a8 D360     		str	r3, [r2, #12]
 2636 03aa 41E7     		b	.L203
 2637              	.LVL267:
 2638              	.L204:
2294:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2639              		.loc 1 2294 22 view .LVU838
 2640 03ac 0B24     		movs	r4, #11
 2641              	.LVL268:
 2642              	.L187:
2435:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2643              		.loc 1 2435 1 view .LVU839
 2644 03ae 2046     		mov	r0, r4
 2645 03b0 04B0     		add	sp, sp, #16
 2646              	.LCFI23:
 2647              		.cfi_remember_state
ARM GAS  /tmp/cc9KJrYz.s 			page 99


 2648              		.cfi_def_cfa_offset 32
 2649              		@ sp needed
 2650 03b2 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 2651              	.LVL269:
 2652              	.L205:
 2653              	.LCFI24:
 2654              		.cfi_restore_state
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2655              		.loc 1 2298 18 view .LVU840
 2656 03b6 0C24     		movs	r4, #12
 2657              	.LVL270:
2298:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2658              		.loc 1 2298 18 view .LVU841
 2659 03b8 F9E7     		b	.L187
 2660              	.LVL271:
 2661              	.L207:
2319:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!_FS_READONLY && wmode && (stat & STA_PROTECT))	/* Check disk write protection if needed */
 2662              		.loc 1 2319 10 view .LVU842
 2663 03ba 0324     		movs	r4, #3
 2664 03bc F7E7     		b	.L187
 2665              	.L208:
2321:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS						/* Get sector size (multiple sector size cfg only) */
 2666              		.loc 1 2321 10 view .LVU843
 2667 03be 0A24     		movs	r4, #10
 2668 03c0 F5E7     		b	.L187
 2669              	.LVL272:
 2670              	.L209:
2324:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2671              		.loc 1 2324 51 view .LVU844
 2672 03c2 0124     		movs	r4, #1
 2673 03c4 F3E7     		b	.L187
 2674              	.L210:
 2675 03c6 0124     		movs	r4, #1
 2676 03c8 F1E7     		b	.L187
 2677              	.LVL273:
 2678              	.L215:
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt) return FR_NO_FILESYSTEM;		/* No FAT volume is found */
 2679              		.loc 1 2341 23 view .LVU845
 2680 03ca 0124     		movs	r4, #1
 2681              	.LVL274:
2341:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt) return FR_NO_FILESYSTEM;		/* No FAT volume is found */
 2682              		.loc 1 2341 23 view .LVU846
 2683 03cc EFE7     		b	.L187
 2684              	.LVL275:
 2685              	.L216:
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2686              		.loc 1 2342 18 view .LVU847
 2687 03ce 0D24     		movs	r4, #13
 2688              	.LVL276:
2342:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2689              		.loc 1 2342 18 view .LVU848
 2690 03d0 EDE7     		b	.L187
 2691              	.LVL277:
 2692              	.L217:
2347:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2693              		.loc 1 2347 10 view .LVU849
 2694 03d2 0D24     		movs	r4, #13
ARM GAS  /tmp/cc9KJrYz.s 			page 100


 2695              	.LVL278:
2347:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2696              		.loc 1 2347 10 view .LVU850
 2697 03d4 EBE7     		b	.L187
 2698              	.LVL279:
 2699              	.L218:
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 	fasize *= fs->n_fats;								/* Number of sectors for FAT area */
 2700              		.loc 1 2355 10 view .LVU851
 2701 03d6 0D24     		movs	r4, #13
 2702              	.LVL280:
2355:Middlewares/Third_Party/FatFs/src/ff.c **** 	fasize *= fs->n_fats;								/* Number of sectors for FAT area */
 2703              		.loc 1 2355 10 view .LVU852
 2704 03d8 E9E7     		b	.L187
 2705              	.LVL281:
 2706              	.L219:
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2707              		.loc 1 2360 10 view .LVU853
 2708 03da 0D24     		movs	r4, #13
 2709              	.LVL282:
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2710              		.loc 1 2360 10 view .LVU854
 2711 03dc E7E7     		b	.L187
 2712              	.LVL283:
 2713              	.L220:
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2714              		.loc 1 2360 10 view .LVU855
 2715 03de 0D24     		movs	r4, #13
 2716              	.LVL284:
2360:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2717              		.loc 1 2360 10 view .LVU856
 2718 03e0 E5E7     		b	.L187
 2719              	.LVL285:
 2720              	.L221:
2364:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2721              		.loc 1 2364 10 view .LVU857
 2722 03e2 0D24     		movs	r4, #13
 2723              	.LVL286:
2364:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2724              		.loc 1 2364 10 view .LVU858
 2725 03e4 E3E7     		b	.L187
 2726              	.LVL287:
 2727              	.L222:
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2728              		.loc 1 2370 20 view .LVU859
 2729 03e6 0D24     		movs	r4, #13
 2730              	.LVL288:
2370:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2731              		.loc 1 2370 20 view .LVU860
 2732 03e8 E1E7     		b	.L187
 2733              	.LVL289:
 2734              	.L223:
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 	nclst = (tsect - sysect) / fs->csize;				/* Number of clusters */
 2735              		.loc 1 2374 29 view .LVU861
 2736 03ea 0D24     		movs	r4, #13
 2737              	.LVL290:
2374:Middlewares/Third_Party/FatFs/src/ff.c **** 	nclst = (tsect - sysect) / fs->csize;				/* Number of clusters */
 2738              		.loc 1 2374 29 view .LVU862
ARM GAS  /tmp/cc9KJrYz.s 			page 101


 2739 03ec DFE7     		b	.L187
 2740              	.LVL291:
 2741              	.L224:
2376:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 2742              		.loc 1 2376 21 view .LVU863
 2743 03ee 0D24     		movs	r4, #13
 2744              	.LVL292:
2376:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 2745              		.loc 1 2376 21 view .LVU864
 2746 03f0 DDE7     		b	.L187
 2747              	.LVL293:
 2748              	.L227:
2387:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = LD_DWORD(fs->win.d8 + BPB_RootClus);	/* Root directory start cluster */
 2749              		.loc 1 2387 29 view .LVU865
 2750 03f2 0D24     		movs	r4, #13
 2751 03f4 DBE7     		b	.L187
 2752              	.L228:
2391:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->dirbase = fs->fatbase + fasize;				/* Root directory start sector */
 2753              		.loc 1 2391 30 view .LVU866
 2754 03f6 0D24     		movs	r4, #13
 2755 03f8 D9E7     		b	.L187
 2756              	.LVL294:
 2757              	.L229:
2397:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2758              		.loc 1 2397 10 view .LVU867
 2759 03fa 0D24     		movs	r4, #13
 2760 03fc D7E7     		b	.L187
 2761              	.L240:
 2762 03fe 00BF     		.align	2
 2763              	.L239:
 2764 0400 55AAFFFF 		.word	-21931
 2765 0404 52526141 		.word	1096897106
 2766 0408 72724161 		.word	1631679090
 2767              		.cfi_endproc
 2768              	.LFE104:
 2770              		.section	.text.sync_fs,"ax",%progbits
 2771              		.align	1
 2772              		.syntax unified
 2773              		.thumb
 2774              		.thumb_func
 2775              		.fpu softvfp
 2777              	sync_fs:
 2778              	.LVL295:
 2779              	.LFB83:
 836:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 2780              		.loc 1 836 1 is_stmt 1 view -0
 2781              		.cfi_startproc
 2782              		@ args = 0, pretend = 0, frame = 0
 2783              		@ frame_needed = 0, uses_anonymous_args = 0
 836:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 2784              		.loc 1 836 1 is_stmt 0 view .LVU869
 2785 0000 70B5     		push	{r4, r5, r6, lr}
 2786              	.LCFI25:
 2787              		.cfi_def_cfa_offset 16
 2788              		.cfi_offset 4, -16
 2789              		.cfi_offset 5, -12
 2790              		.cfi_offset 6, -8
ARM GAS  /tmp/cc9KJrYz.s 			page 102


 2791              		.cfi_offset 14, -4
 2792 0002 0446     		mov	r4, r0
 837:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2793              		.loc 1 837 2 is_stmt 1 view .LVU870
 840:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 2794              		.loc 1 840 2 view .LVU871
 840:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 2795              		.loc 1 840 8 is_stmt 0 view .LVU872
 2796 0004 FFF7FEFF 		bl	sync_window
 2797              	.LVL296:
 841:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSINFO sector if needed */
 2798              		.loc 1 841 2 is_stmt 1 view .LVU873
 841:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update FSINFO sector if needed */
 2799              		.loc 1 841 5 is_stmt 0 view .LVU874
 2800 0008 0546     		mov	r5, r0
 2801 000a 68B9     		cbnz	r0, .L242
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 2802              		.loc 1 843 3 is_stmt 1 view .LVU875
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 2803              		.loc 1 843 9 is_stmt 0 view .LVU876
 2804 000c 04F58053 		add	r3, r4, #4096
 2805 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 2806              		.loc 1 843 6 view .LVU877
 2807 0012 032B     		cmp	r3, #3
 2808 0014 0AD0     		beq	.L246
 2809              	.LVL297:
 2810              	.L243:
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 2811              		.loc 1 857 3 is_stmt 1 view .LVU878
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 2812              		.loc 1 857 7 is_stmt 0 view .LVU879
 2813 0016 04F58054 		add	r4, r4, #4096
 2814              	.LVL298:
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 2815              		.loc 1 857 7 view .LVU880
 2816 001a 0022     		movs	r2, #0
 2817 001c 1146     		mov	r1, r2
 2818 001e 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 2819 0020 FFF7FEFF 		bl	disk_ioctl
 2820              	.LVL299:
 857:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_DISK_ERR;
 2821              		.loc 1 857 6 view .LVU881
 2822 0024 00B1     		cbz	r0, .L242
 858:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 2823              		.loc 1 858 8 view .LVU882
 2824 0026 0125     		movs	r5, #1
 2825              	.LVL300:
 2826              	.L242:
 861:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2827              		.loc 1 861 2 is_stmt 1 view .LVU883
 862:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 2828              		.loc 1 862 1 is_stmt 0 view .LVU884
 2829 0028 2846     		mov	r0, r5
 2830 002a 70BD     		pop	{r4, r5, r6, pc}
 2831              	.LVL301:
 2832              	.L246:
ARM GAS  /tmp/cc9KJrYz.s 			page 103


 843:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 2833              		.loc 1 843 36 discriminator 1 view .LVU885
 2834 002c 04F58053 		add	r3, r4, #4096
 2835 0030 5B79     		ldrb	r3, [r3, #5]	@ zero_extendqisi2
 843:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Create FSINFO structure */
 2836              		.loc 1 843 31 discriminator 1 view .LVU886
 2837 0032 012B     		cmp	r3, #1
 2838 0034 EFD1     		bne	.L243
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);
 2839              		.loc 1 845 4 is_stmt 1 view .LVU887
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);
 2840              		.loc 1 845 27 is_stmt 0 view .LVU888
 2841 0036 04F58056 		add	r6, r4, #4096
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);
 2842              		.loc 1 845 4 view .LVU889
 2843 003a 7289     		ldrh	r2, [r6, #10]
 2844 003c 0021     		movs	r1, #0
 2845 003e 2046     		mov	r0, r4
 2846              	.LVL302:
 845:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);
 2847              		.loc 1 845 4 view .LVU890
 2848 0040 FFF7FEFF 		bl	mem_set
 2849              	.LVL303:
 846:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_LeadSig, 0x41615252);
 2850              		.loc 1 846 4 is_stmt 1 view .LVU891
 2851 0044 5523     		movs	r3, #85
 2852 0046 84F8FE31 		strb	r3, [r4, #510]
 846:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_LeadSig, 0x41615252);
 2853              		.loc 1 846 4 view .LVU892
 2854 004a AA23     		movs	r3, #170
 2855 004c 84F8FF31 		strb	r3, [r4, #511]
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 2856              		.loc 1 847 4 view .LVU893
 2857 0050 5223     		movs	r3, #82
 2858 0052 2370     		strb	r3, [r4]
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 2859              		.loc 1 847 4 view .LVU894
 2860 0054 6370     		strb	r3, [r4, #1]
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 2861              		.loc 1 847 4 view .LVU895
 2862 0056 6123     		movs	r3, #97
 2863 0058 A370     		strb	r3, [r4, #2]
 847:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_StrucSig, 0x61417272);
 2864              		.loc 1 847 4 view .LVU896
 2865 005a 4122     		movs	r2, #65
 2866 005c E270     		strb	r2, [r4, #3]
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
 2867              		.loc 1 848 4 view .LVU897
 2868 005e 7221     		movs	r1, #114
 2869 0060 84F8E411 		strb	r1, [r4, #484]
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
 2870              		.loc 1 848 4 view .LVU898
 2871 0064 84F8E511 		strb	r1, [r4, #485]
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
 2872              		.loc 1 848 4 view .LVU899
 2873 0068 84F8E621 		strb	r2, [r4, #486]
 848:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Free_Count, fs->free_clust);
ARM GAS  /tmp/cc9KJrYz.s 			page 104


 2874              		.loc 1 848 4 view .LVU900
 2875 006c 84F8E731 		strb	r3, [r4, #487]
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 2876              		.loc 1 849 4 view .LVU901
 2877 0070 3369     		ldr	r3, [r6, #16]
 2878 0072 84F8E831 		strb	r3, [r4, #488]
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 2879              		.loc 1 849 4 view .LVU902
 2880 0076 C3F30722 		ubfx	r2, r3, #8, #8
 2881 007a 84F8E921 		strb	r2, [r4, #489]
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 2882              		.loc 1 849 4 view .LVU903
 2883 007e C3F30742 		ubfx	r2, r3, #16, #8
 2884 0082 84F8EA21 		strb	r2, [r4, #490]
 849:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(fs->win.d8 + FSI_Nxt_Free, fs->last_clust);
 2885              		.loc 1 849 4 view .LVU904
 2886 0086 1B0E     		lsrs	r3, r3, #24
 2887 0088 84F8EB31 		strb	r3, [r4, #491]
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSINFO sector */
 2888              		.loc 1 850 4 view .LVU905
 2889 008c F368     		ldr	r3, [r6, #12]
 2890 008e 84F8EC31 		strb	r3, [r4, #492]
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSINFO sector */
 2891              		.loc 1 850 4 view .LVU906
 2892 0092 C3F30722 		ubfx	r2, r3, #8, #8
 2893 0096 84F8ED21 		strb	r2, [r4, #493]
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSINFO sector */
 2894              		.loc 1 850 4 view .LVU907
 2895 009a C3F30742 		ubfx	r2, r3, #16, #8
 2896 009e 84F8EE21 		strb	r2, [r4, #494]
 850:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write it into the FSINFO sector */
 2897              		.loc 1 850 4 view .LVU908
 2898 00a2 1B0E     		lsrs	r3, r3, #24
 2899 00a4 84F8EF31 		strb	r3, [r4, #495]
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win.d8, fs->winsect, 1);
 2900              		.loc 1 852 4 view .LVU909
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win.d8, fs->winsect, 1);
 2901              		.loc 1 852 20 is_stmt 0 view .LVU910
 2902 00a8 F269     		ldr	r2, [r6, #28]
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win.d8, fs->winsect, 1);
 2903              		.loc 1 852 30 view .LVU911
 2904 00aa 0132     		adds	r2, r2, #1
 852:Middlewares/Third_Party/FatFs/src/ff.c **** 			disk_write(fs->drv, fs->win.d8, fs->winsect, 1);
 2905              		.loc 1 852 16 view .LVU912
 2906 00ac F262     		str	r2, [r6, #44]
 853:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag = 0;
 2907              		.loc 1 853 4 is_stmt 1 view .LVU913
 2908 00ae 0123     		movs	r3, #1
 2909 00b0 2146     		mov	r1, r4
 2910 00b2 7078     		ldrb	r0, [r6, #1]	@ zero_extendqisi2
 2911 00b4 FFF7FEFF 		bl	disk_write
 2912              	.LVL304:
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2913              		.loc 1 854 4 view .LVU914
 854:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 2914              		.loc 1 854 17 is_stmt 0 view .LVU915
 2915 00b8 0023     		movs	r3, #0
ARM GAS  /tmp/cc9KJrYz.s 			page 105


 2916 00ba 7371     		strb	r3, [r6, #5]
 2917 00bc ABE7     		b	.L243
 2918              		.cfi_endproc
 2919              	.LFE83:
 2921              		.section	.text.clust2sect,"ax",%progbits
 2922              		.align	1
 2923              		.global	clust2sect
 2924              		.syntax unified
 2925              		.thumb
 2926              		.thumb_func
 2927              		.fpu softvfp
 2929              	clust2sect:
 2930              	.LVL305:
 2931              	.LFB84:
 877:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst -= 2;
 2932              		.loc 1 877 1 is_stmt 1 view -0
 2933              		.cfi_startproc
 2934              		@ args = 0, pretend = 0, frame = 0
 2935              		@ frame_needed = 0, uses_anonymous_args = 0
 2936              		@ link register save eliminated.
 878:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 2937              		.loc 1 878 2 view .LVU917
 878:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst >= fs->n_fatent - 2) return 0;		/* Invalid cluster# */
 2938              		.loc 1 878 7 is_stmt 0 view .LVU918
 2939 0000 0239     		subs	r1, r1, #2
 2940              	.LVL306:
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 2941              		.loc 1 879 2 is_stmt 1 view .LVU919
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 2942              		.loc 1 879 16 is_stmt 0 view .LVU920
 2943 0002 00F58053 		add	r3, r0, #4096
 2944 0006 5B69     		ldr	r3, [r3, #20]
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 2945              		.loc 1 879 27 view .LVU921
 2946 0008 023B     		subs	r3, r3, #2
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 2947              		.loc 1 879 5 view .LVU922
 2948 000a 8B42     		cmp	r3, r1
 2949 000c 06D9     		bls	.L249
 880:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2950              		.loc 1 880 2 is_stmt 1 view .LVU923
 880:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2951              		.loc 1 880 18 is_stmt 0 view .LVU924
 2952 000e 00F58050 		add	r0, r0, #4096
 2953              	.LVL307:
 880:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2954              		.loc 1 880 18 view .LVU925
 2955 0012 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
 880:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2956              		.loc 1 880 30 view .LVU926
 2957 0014 806A     		ldr	r0, [r0, #40]
 2958              	.LVL308:
 880:Middlewares/Third_Party/FatFs/src/ff.c **** }
 2959              		.loc 1 880 26 view .LVU927
 2960 0016 01FB0300 		mla	r0, r1, r3, r0
 2961 001a 7047     		bx	lr
 2962              	.LVL309:
ARM GAS  /tmp/cc9KJrYz.s 			page 106


 2963              	.L249:
 879:Middlewares/Third_Party/FatFs/src/ff.c **** 	return clst * fs->csize + fs->database;
 2964              		.loc 1 879 39 view .LVU928
 2965 001c 0020     		movs	r0, #0
 2966              	.LVL310:
 881:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2967              		.loc 1 881 1 view .LVU929
 2968 001e 7047     		bx	lr
 2969              		.cfi_endproc
 2970              	.LFE84:
 2972              		.section	.text.get_fat,"ax",%progbits
 2973              		.align	1
 2974              		.global	get_fat
 2975              		.syntax unified
 2976              		.thumb
 2977              		.thumb_func
 2978              		.fpu softvfp
 2980              	get_fat:
 2981              	.LVL311:
 2982              	.LFB85:
 895:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 2983              		.loc 1 895 1 is_stmt 1 view -0
 2984              		.cfi_startproc
 2985              		@ args = 0, pretend = 0, frame = 0
 2986              		@ frame_needed = 0, uses_anonymous_args = 0
 896:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 2987              		.loc 1 896 2 view .LVU931
 897:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD val;
 2988              		.loc 1 897 2 view .LVU932
 898:Middlewares/Third_Party/FatFs/src/ff.c **** 
 2989              		.loc 1 898 2 view .LVU933
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 2990              		.loc 1 901 2 view .LVU934
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 2991              		.loc 1 901 5 is_stmt 0 view .LVU935
 2992 0000 0129     		cmp	r1, #1
 2993 0002 40F28180 		bls	.L255
 895:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wc, bc;
 2994              		.loc 1 895 1 discriminator 1 view .LVU936
 2995 0006 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2996              	.LCFI26:
 2997              		.cfi_def_cfa_offset 24
 2998              		.cfi_offset 3, -24
 2999              		.cfi_offset 4, -20
 3000              		.cfi_offset 5, -16
 3001              		.cfi_offset 6, -12
 3002              		.cfi_offset 7, -8
 3003              		.cfi_offset 14, -4
 3004 0008 0546     		mov	r5, r0
 3005 000a 0C46     		mov	r4, r1
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 3006              		.loc 1 901 28 discriminator 1 view .LVU937
 3007 000c 00F58053 		add	r3, r0, #4096
 3008 0010 5B69     		ldr	r3, [r3, #20]
 901:Middlewares/Third_Party/FatFs/src/ff.c **** 		val = 1;	/* Internal error */
 3009              		.loc 1 901 15 discriminator 1 view .LVU938
 3010 0012 8B42     		cmp	r3, r1
ARM GAS  /tmp/cc9KJrYz.s 			page 107


 3011 0014 7AD9     		bls	.L256
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3012              		.loc 1 905 3 is_stmt 1 view .LVU939
 3013              	.LVL312:
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3014              		.loc 1 907 3 view .LVU940
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3015              		.loc 1 907 13 is_stmt 0 view .LVU941
 3016 0016 00F58053 		add	r3, r0, #4096
 3017 001a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3018              		.loc 1 907 3 view .LVU942
 3019 001c 022B     		cmp	r3, #2
 3020 001e 38D0     		beq	.L252
 3021 0020 032B     		cmp	r3, #3
 3022 0022 50D0     		beq	.L253
 3023 0024 012B     		cmp	r3, #1
 3024 0026 01D0     		beq	.L266
 3025 0028 0120     		movs	r0, #1
 3026              	.LVL313:
 907:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3027              		.loc 1 907 3 view .LVU943
 3028 002a 70E0     		b	.L250
 3029              	.LVL314:
 3030              	.L266:
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3031              		.loc 1 909 4 is_stmt 1 view .LVU944
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3032              		.loc 1 909 21 view .LVU945
 909:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3033              		.loc 1 909 24 is_stmt 0 view .LVU946
 3034 002c 01EB5106 		add	r6, r1, r1, lsr #1
 3035              	.LVL315:
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 3036              		.loc 1 910 4 is_stmt 1 view .LVU947
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 3037              		.loc 1 910 26 is_stmt 0 view .LVU948
 3038 0030 00F58053 		add	r3, r0, #4096
 3039 0034 196A     		ldr	r1, [r3, #32]
 3040              	.LVL316:
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 3041              		.loc 1 910 44 view .LVU949
 3042 0036 5B89     		ldrh	r3, [r3, #10]
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 3043              		.loc 1 910 42 view .LVU950
 3044 0038 B6FBF3F3 		udiv	r3, r6, r3
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 3045              		.loc 1 910 8 view .LVU951
 3046 003c 1944     		add	r1, r1, r3
 3047 003e FFF7FEFF 		bl	move_window
 3048              	.LVL317:
 910:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc = fs->win.d8[bc++ % SS(fs)];
 3049              		.loc 1 910 7 view .LVU952
 3050 0042 10B1     		cbz	r0, .L267
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3051              		.loc 1 905 7 view .LVU953
 3052 0044 4FF0FF30 		mov	r0, #-1
ARM GAS  /tmp/cc9KJrYz.s 			page 108


 3053 0048 61E0     		b	.L250
 3054              	.L267:
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3055              		.loc 1 911 4 is_stmt 1 view .LVU954
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3056              		.loc 1 911 22 is_stmt 0 view .LVU955
 3057 004a 771C     		adds	r7, r6, #1
 3058              	.LVL318:
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3059              		.loc 1 911 27 view .LVU956
 3060 004c 05F58052 		add	r2, r5, #4096
 3061 0050 5389     		ldrh	r3, [r2, #10]
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3062              		.loc 1 911 25 view .LVU957
 3063 0052 B6FBF3F1 		udiv	r1, r6, r3
 3064 0056 03FB1166 		mls	r6, r3, r1, r6
 911:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (move_window(fs, fs->fatbase + (bc / SS(fs))) != FR_OK) break;
 3065              		.loc 1 911 19 view .LVU958
 3066 005a AE5D     		ldrb	r6, [r5, r6]	@ zero_extendqisi2
 3067              	.LVL319:
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 3068              		.loc 1 912 4 is_stmt 1 view .LVU959
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 3069              		.loc 1 912 26 is_stmt 0 view .LVU960
 3070 005c 116A     		ldr	r1, [r2, #32]
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 3071              		.loc 1 912 42 view .LVU961
 3072 005e B7FBF3F3 		udiv	r3, r7, r3
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 3073              		.loc 1 912 8 view .LVU962
 3074 0062 1944     		add	r1, r1, r3
 3075 0064 2846     		mov	r0, r5
 3076 0066 FFF7FEFF 		bl	move_window
 3077              	.LVL320:
 912:Middlewares/Third_Party/FatFs/src/ff.c **** 			wc |= fs->win.d8[bc % SS(fs)] << 8;
 3078              		.loc 1 912 7 view .LVU963
 3079 006a 0028     		cmp	r0, #0
 3080 006c 50D1     		bne	.L259
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 3081              		.loc 1 913 4 is_stmt 1 view .LVU964
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 3082              		.loc 1 913 26 is_stmt 0 view .LVU965
 3083 006e 05F58053 		add	r3, r5, #4096
 3084 0072 5B89     		ldrh	r3, [r3, #10]
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 3085              		.loc 1 913 24 view .LVU966
 3086 0074 B7FBF3F2 		udiv	r2, r7, r3
 3087 0078 03FB1277 		mls	r7, r3, r2, r7
 3088              	.LVL321:
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 3089              		.loc 1 913 20 view .LVU967
 3090 007c E85D     		ldrb	r0, [r5, r7]	@ zero_extendqisi2
 913:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = clst & 1 ? wc >> 4 : (wc & 0xFFF);
 3091              		.loc 1 913 7 view .LVU968
 3092 007e 46EA0020 		orr	r0, r6, r0, lsl #8
 3093              	.LVL322:
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
ARM GAS  /tmp/cc9KJrYz.s 			page 109


 3094              		.loc 1 914 4 is_stmt 1 view .LVU969
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3095              		.loc 1 914 29 is_stmt 0 view .LVU970
 3096 0082 14F0010F 		tst	r4, #1
 3097 0086 01D0     		beq	.L254
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3098              		.loc 1 914 29 discriminator 1 view .LVU971
 3099 0088 0009     		lsrs	r0, r0, #4
 3100              	.LVL323:
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3101              		.loc 1 914 29 discriminator 1 view .LVU972
 3102 008a 40E0     		b	.L250
 3103              	.LVL324:
 3104              	.L254:
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3105              		.loc 1 914 29 discriminator 2 view .LVU973
 3106 008c C0F30B00 		ubfx	r0, r0, #0, #12
 3107              	.LVL325:
 914:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3108              		.loc 1 914 29 discriminator 2 view .LVU974
 3109 0090 3DE0     		b	.L250
 3110              	.LVL326:
 3111              	.L252:
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 3112              		.loc 1 918 4 is_stmt 1 view .LVU975
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 3113              		.loc 1 918 26 is_stmt 0 view .LVU976
 3114 0092 00F58053 		add	r3, r0, #4096
 3115 0096 196A     		ldr	r1, [r3, #32]
 3116              	.LVL327:
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 3117              		.loc 1 918 47 view .LVU977
 3118 0098 5B89     		ldrh	r3, [r3, #10]
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 3119              		.loc 1 918 54 view .LVU978
 3120 009a 5B08     		lsrs	r3, r3, #1
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 3121              		.loc 1 918 44 view .LVU979
 3122 009c B4FBF3F3 		udiv	r3, r4, r3
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 3123              		.loc 1 918 8 view .LVU980
 3124 00a0 1944     		add	r1, r1, r3
 3125 00a2 FFF7FEFF 		bl	move_window
 3126              	.LVL328:
 918:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 3127              		.loc 1 918 7 view .LVU981
 3128 00a6 0028     		cmp	r0, #0
 3129 00a8 35D1     		bne	.L260
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 3130              		.loc 1 919 4 is_stmt 1 view .LVU982
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 3131              		.loc 1 919 25 is_stmt 0 view .LVU983
 3132 00aa 6400     		lsls	r4, r4, #1
 3133              	.LVL329:
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 3134              		.loc 1 919 31 view .LVU984
 3135 00ac 05F58053 		add	r3, r5, #4096
ARM GAS  /tmp/cc9KJrYz.s 			page 110


 3136 00b0 5B89     		ldrh	r3, [r3, #10]
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 3137              		.loc 1 919 29 view .LVU985
 3138 00b2 B4FBF3F2 		udiv	r2, r4, r3
 3139 00b6 03FB1244 		mls	r4, r3, r2, r4
 919:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_WORD(p);
 3140              		.loc 1 919 6 view .LVU986
 3141 00ba 2B19     		adds	r3, r5, r4
 3142              	.LVL330:
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3143              		.loc 1 920 4 is_stmt 1 view .LVU987
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3144              		.loc 1 920 10 is_stmt 0 view .LVU988
 3145 00bc 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3146              	.LVL331:
 920:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3147              		.loc 1 920 10 view .LVU989
 3148 00be 285D     		ldrb	r0, [r5, r4]	@ zero_extendqisi2
 3149 00c0 40EA0320 		orr	r0, r0, r3, lsl #8
 3150              	.LVL332:
 921:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3151              		.loc 1 921 4 is_stmt 1 view .LVU990
 3152 00c4 23E0     		b	.L250
 3153              	.LVL333:
 3154              	.L253:
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3155              		.loc 1 924 4 view .LVU991
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3156              		.loc 1 924 26 is_stmt 0 view .LVU992
 3157 00c6 00F58053 		add	r3, r0, #4096
 3158 00ca 196A     		ldr	r1, [r3, #32]
 3159              	.LVL334:
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3160              		.loc 1 924 47 view .LVU993
 3161 00cc 5B89     		ldrh	r3, [r3, #10]
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3162              		.loc 1 924 54 view .LVU994
 3163 00ce 9B08     		lsrs	r3, r3, #2
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3164              		.loc 1 924 44 view .LVU995
 3165 00d0 B4FBF3F3 		udiv	r3, r4, r3
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3166              		.loc 1 924 8 view .LVU996
 3167 00d4 1944     		add	r1, r1, r3
 3168 00d6 FFF7FEFF 		bl	move_window
 3169              	.LVL335:
 924:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3170              		.loc 1 924 7 view .LVU997
 3171 00da F8B9     		cbnz	r0, .L261
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 3172              		.loc 1 925 4 is_stmt 1 view .LVU998
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 3173              		.loc 1 925 25 is_stmt 0 view .LVU999
 3174 00dc A400     		lsls	r4, r4, #2
 3175              	.LVL336:
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 3176              		.loc 1 925 31 view .LVU1000
ARM GAS  /tmp/cc9KJrYz.s 			page 111


 3177 00de 05F58053 		add	r3, r5, #4096
 3178 00e2 5B89     		ldrh	r3, [r3, #10]
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 3179              		.loc 1 925 29 view .LVU1001
 3180 00e4 B4FBF3F2 		udiv	r2, r4, r3
 3181 00e8 03FB1244 		mls	r4, r3, r2, r4
 925:Middlewares/Third_Party/FatFs/src/ff.c **** 			val = LD_DWORD(p) & 0x0FFFFFFF;
 3182              		.loc 1 925 6 view .LVU1002
 3183 00ec 2B19     		adds	r3, r5, r4
 3184              	.LVL337:
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3185              		.loc 1 926 4 is_stmt 1 view .LVU1003
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3186              		.loc 1 926 10 is_stmt 0 view .LVU1004
 3187 00ee DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
 3188 00f0 9878     		ldrb	r0, [r3, #2]	@ zero_extendqisi2
 3189 00f2 0004     		lsls	r0, r0, #16
 3190 00f4 40EA0260 		orr	r0, r0, r2, lsl #24
 3191 00f8 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 3192              	.LVL338:
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3193              		.loc 1 926 10 view .LVU1005
 3194 00fa 40EA0320 		orr	r0, r0, r3, lsl #8
 3195 00fe 2B5D     		ldrb	r3, [r5, r4]	@ zero_extendqisi2
 3196 0100 1843     		orrs	r0, r0, r3
 926:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3197              		.loc 1 926 8 view .LVU1006
 3198 0102 20F07040 		bic	r0, r0, #-268435456
 3199              	.LVL339:
 927:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3200              		.loc 1 927 4 is_stmt 1 view .LVU1007
 3201 0106 02E0     		b	.L250
 3202              	.LVL340:
 3203              	.L255:
 3204              	.LCFI27:
 3205              		.cfi_def_cfa_offset 0
 3206              		.cfi_restore 3
 3207              		.cfi_restore 4
 3208              		.cfi_restore 5
 3209              		.cfi_restore 6
 3210              		.cfi_restore 7
 3211              		.cfi_restore 14
 902:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3212              		.loc 1 902 7 is_stmt 0 view .LVU1008
 3213 0108 0120     		movs	r0, #1
 3214              	.LVL341:
 935:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3215              		.loc 1 935 1 view .LVU1009
 3216 010a 7047     		bx	lr
 3217              	.LVL342:
 3218              	.L256:
 3219              	.LCFI28:
 3220              		.cfi_def_cfa_offset 24
 3221              		.cfi_offset 3, -24
 3222              		.cfi_offset 4, -20
 3223              		.cfi_offset 5, -16
 3224              		.cfi_offset 6, -12
ARM GAS  /tmp/cc9KJrYz.s 			page 112


 3225              		.cfi_offset 7, -8
 3226              		.cfi_offset 14, -4
 902:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3227              		.loc 1 902 7 view .LVU1010
 3228 010c 0120     		movs	r0, #1
 3229              	.LVL343:
 3230              	.L250:
 935:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3231              		.loc 1 935 1 view .LVU1011
 3232 010e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3233              	.LVL344:
 3234              	.L259:
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3235              		.loc 1 905 7 view .LVU1012
 3236 0110 4FF0FF30 		mov	r0, #-1
 3237 0114 FBE7     		b	.L250
 3238              	.LVL345:
 3239              	.L260:
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3240              		.loc 1 905 7 view .LVU1013
 3241 0116 4FF0FF30 		mov	r0, #-1
 3242 011a F8E7     		b	.L250
 3243              	.L261:
 905:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3244              		.loc 1 905 7 view .LVU1014
 3245 011c 4FF0FF30 		mov	r0, #-1
 934:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3246              		.loc 1 934 2 is_stmt 1 view .LVU1015
 934:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3247              		.loc 1 934 9 is_stmt 0 view .LVU1016
 3248 0120 F5E7     		b	.L250
 3249              		.cfi_endproc
 3250              	.LFE85:
 3252              		.section	.text.dir_sdi,"ax",%progbits
 3253              		.align	1
 3254              		.syntax unified
 3255              		.thumb
 3256              		.thumb_func
 3257              		.fpu softvfp
 3259              	dir_sdi:
 3260              	.LVL346:
 3261              	.LFB90:
1157:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
 3262              		.loc 1 1157 1 is_stmt 1 view -0
 3263              		.cfi_startproc
 3264              		@ args = 0, pretend = 0, frame = 0
 3265              		@ frame_needed = 0, uses_anonymous_args = 0
1157:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
 3266              		.loc 1 1157 1 is_stmt 0 view .LVU1018
 3267 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3268              	.LCFI29:
 3269              		.cfi_def_cfa_offset 24
 3270              		.cfi_offset 3, -24
 3271              		.cfi_offset 4, -20
 3272              		.cfi_offset 5, -16
 3273              		.cfi_offset 6, -12
 3274              		.cfi_offset 7, -8
ARM GAS  /tmp/cc9KJrYz.s 			page 113


 3275              		.cfi_offset 14, -4
1158:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT ic;
 3276              		.loc 1 1158 2 is_stmt 1 view .LVU1019
1159:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3277              		.loc 1 1159 2 view .LVU1020
1162:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->sclust;		/* Table start cluster (0:root) */
 3278              		.loc 1 1162 2 view .LVU1021
1162:Middlewares/Third_Party/FatFs/src/ff.c **** 	clst = dp->sclust;		/* Table start cluster (0:root) */
 3279              		.loc 1 1162 12 is_stmt 0 view .LVU1022
 3280 0002 00F58053 		add	r3, r0, #4096
 3281 0006 D980     		strh	r1, [r3, #6]	@ movhi
1163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 1 || clst >= dp->fs->n_fatent)	/* Check start cluster range */
 3282              		.loc 1 1163 2 is_stmt 1 view .LVU1023
1163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (clst == 1 || clst >= dp->fs->n_fatent)	/* Check start cluster range */
 3283              		.loc 1 1163 7 is_stmt 0 view .LVU1024
 3284 0008 9C68     		ldr	r4, [r3, #8]
 3285              	.LVL347:
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3286              		.loc 1 1164 2 is_stmt 1 view .LVU1025
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3287              		.loc 1 1164 5 is_stmt 0 view .LVU1026
 3288 000a 012C     		cmp	r4, #1
 3289 000c 5BD0     		beq	.L275
 3290 000e 0646     		mov	r6, r0
 3291 0010 0D46     		mov	r5, r1
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3292              		.loc 1 1164 29 discriminator 1 view .LVU1027
 3293 0012 1B68     		ldr	r3, [r3]
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3294              		.loc 1 1164 33 discriminator 1 view .LVU1028
 3295 0014 03F58052 		add	r2, r3, #4096
 3296 0018 5269     		ldr	r2, [r2, #20]
1164:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_INT_ERR;
 3297              		.loc 1 1164 16 discriminator 1 view .LVU1029
 3298 001a A242     		cmp	r2, r4
 3299 001c 55D9     		bls	.L276
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = dp->fs->dirbase;
 3300              		.loc 1 1166 2 is_stmt 1 view .LVU1030
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = dp->fs->dirbase;
 3301              		.loc 1 1166 5 is_stmt 0 view .LVU1031
 3302 001e 24B9     		cbnz	r4, .L270
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = dp->fs->dirbase;
 3303              		.loc 1 1166 21 discriminator 1 view .LVU1032
 3304 0020 03F58052 		add	r2, r3, #4096
 3305 0024 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
1166:Middlewares/Third_Party/FatFs/src/ff.c **** 		clst = dp->fs->dirbase;
 3306              		.loc 1 1166 12 discriminator 1 view .LVU1033
 3307 0026 032A     		cmp	r2, #3
 3308 0028 22D0     		beq	.L283
 3309              	.L270:
1169:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (idx >= dp->fs->n_rootdir)	/* Is index out of range? */
 3310              		.loc 1 1169 2 is_stmt 1 view .LVU1034
1169:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (idx >= dp->fs->n_rootdir)	/* Is index out of range? */
 3311              		.loc 1 1169 5 is_stmt 0 view .LVU1035
 3312 002a 2CBB     		cbnz	r4, .L271
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INT_ERR;
 3313              		.loc 1 1170 3 is_stmt 1 view .LVU1036
ARM GAS  /tmp/cc9KJrYz.s 			page 114


1170:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INT_ERR;
 3314              		.loc 1 1170 20 is_stmt 0 view .LVU1037
 3315 002c 03F58052 		add	r2, r3, #4096
 3316 0030 1289     		ldrh	r2, [r2, #8]
1170:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_INT_ERR;
 3317              		.loc 1 1170 6 view .LVU1038
 3318 0032 AA42     		cmp	r2, r5
 3319 0034 4BD9     		bls	.L277
1172:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3320              		.loc 1 1172 3 is_stmt 1 view .LVU1039
1172:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3321              		.loc 1 1172 8 is_stmt 0 view .LVU1040
 3322 0036 03F58053 		add	r3, r3, #4096
 3323 003a 5A6A     		ldr	r2, [r3, #36]
 3324              	.LVL348:
 3325              	.L272:
1185:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!sect) return FR_INT_ERR;
 3326              		.loc 1 1185 2 is_stmt 1 view .LVU1041
1185:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!sect) return FR_INT_ERR;
 3327              		.loc 1 1185 12 is_stmt 0 view .LVU1042
 3328 003c 06F58053 		add	r3, r6, #4096
 3329 0040 DC60     		str	r4, [r3, #12]
1186:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect = sect + idx / (SS(dp->fs) / SZ_DIRE);					/* Sector# of the directory entry */
 3330              		.loc 1 1186 2 is_stmt 1 view .LVU1043
1186:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect = sect + idx / (SS(dp->fs) / SZ_DIRE);					/* Sector# of the directory entry */
 3331              		.loc 1 1186 5 is_stmt 0 view .LVU1044
 3332 0042 002A     		cmp	r2, #0
 3333 0044 4BD0     		beq	.L281
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 3334              		.loc 1 1187 2 is_stmt 1 view .LVU1045
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 3335              		.loc 1 1187 27 is_stmt 0 view .LVU1046
 3336 0046 1E46     		mov	r6, r3
 3337              	.LVL349:
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 3338              		.loc 1 1187 27 view .LVU1047
 3339 0048 1B68     		ldr	r3, [r3]
 3340              	.LVL350:
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 3341              		.loc 1 1187 27 view .LVU1048
 3342 004a 03F58051 		add	r1, r3, #4096
 3343 004e 4889     		ldrh	r0, [r1, #10]
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 3344              		.loc 1 1187 38 view .LVU1049
 3345 0050 4009     		lsrs	r0, r0, #5
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 3346              		.loc 1 1187 24 view .LVU1050
 3347 0052 B5FBF0F0 		udiv	r0, r5, r0
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 3348              		.loc 1 1187 18 view .LVU1051
 3349 0056 1044     		add	r0, r0, r2
1187:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (idx % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Ptr to the entry in the se
 3350              		.loc 1 1187 11 view .LVU1052
 3351 0058 3061     		str	r0, [r6, #16]
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3352              		.loc 1 1188 2 is_stmt 1 view .LVU1053
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9KJrYz.s 			page 115


 3353              		.loc 1 1188 37 is_stmt 0 view .LVU1054
 3354 005a 4989     		ldrh	r1, [r1, #10]
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3355              		.loc 1 1188 48 view .LVU1055
 3356 005c 4909     		lsrs	r1, r1, #5
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3357              		.loc 1 1188 34 view .LVU1056
 3358 005e B5FBF1F2 		udiv	r2, r5, r1
 3359              	.LVL351:
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3360              		.loc 1 1188 34 view .LVU1057
 3361 0062 01FB1255 		mls	r5, r1, r2, r5
 3362              	.LVL352:
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3363              		.loc 1 1188 27 view .LVU1058
 3364 0066 03EB4515 		add	r5, r3, r5, lsl #5
1188:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3365              		.loc 1 1188 10 view .LVU1059
 3366 006a 7561     		str	r5, [r6, #20]
1190:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3367              		.loc 1 1190 2 is_stmt 1 view .LVU1060
1190:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3368              		.loc 1 1190 9 is_stmt 0 view .LVU1061
 3369 006c 0020     		movs	r0, #0
 3370              	.LVL353:
 3371              	.L269:
1191:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3372              		.loc 1 1191 1 view .LVU1062
 3373 006e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3374              	.LVL354:
 3375              	.L283:
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3376              		.loc 1 1167 3 is_stmt 1 view .LVU1063
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3377              		.loc 1 1167 8 is_stmt 0 view .LVU1064
 3378 0070 03F58052 		add	r2, r3, #4096
 3379 0074 546A     		ldr	r4, [r2, #36]
 3380              	.LVL355:
1167:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3381              		.loc 1 1167 8 view .LVU1065
 3382 0076 D8E7     		b	.L270
 3383              	.L271:
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
 3384              		.loc 1 1175 3 is_stmt 1 view .LVU1066
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
 3385              		.loc 1 1175 8 is_stmt 0 view .LVU1067
 3386 0078 03F58053 		add	r3, r3, #4096
 3387 007c 5F89     		ldrh	r7, [r3, #10]
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
 3388              		.loc 1 1175 19 view .LVU1068
 3389 007e 7F09     		lsrs	r7, r7, #5
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
 3390              		.loc 1 1175 37 view .LVU1069
 3391 0080 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
1175:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (idx >= ic) {	/* Follow cluster chain */
 3392              		.loc 1 1175 29 view .LVU1070
 3393 0082 03FB07F7 		mul	r7, r3, r7
ARM GAS  /tmp/cc9KJrYz.s 			page 116


 3394              	.LVL356:
1176:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(dp->fs, clst);				/* Get next cluster */
 3395              		.loc 1 1176 3 is_stmt 1 view .LVU1071
 3396              	.L273:
1176:Middlewares/Third_Party/FatFs/src/ff.c **** 			clst = get_fat(dp->fs, clst);				/* Get next cluster */
 3397              		.loc 1 1176 9 view .LVU1072
 3398 0086 BD42     		cmp	r5, r7
 3399 0088 15D3     		bcc	.L284
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3400              		.loc 1 1177 4 view .LVU1073
1177:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst == 0xFFFFFFFF) return FR_DISK_ERR;	/* Disk error */
 3401              		.loc 1 1177 11 is_stmt 0 view .LVU1074
 3402 008a 06F58053 		add	r3, r6, #4096
 3403 008e 2146     		mov	r1, r4
 3404 0090 1868     		ldr	r0, [r3]
 3405 0092 FFF7FEFF 		bl	get_fat
 3406              	.LVL357:
 3407 0096 0446     		mov	r4, r0
 3408              	.LVL358:
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
 3409              		.loc 1 1178 4 is_stmt 1 view .LVU1075
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
 3410              		.loc 1 1178 7 is_stmt 0 view .LVU1076
 3411 0098 B0F1FF3F 		cmp	r0, #-1
 3412 009c 19D0     		beq	.L278
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
 3413              		.loc 1 1179 4 is_stmt 1 view .LVU1077
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
 3414              		.loc 1 1179 7 is_stmt 0 view .LVU1078
 3415 009e 0128     		cmp	r0, #1
 3416 00a0 19D9     		bls	.L279
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
 3417              		.loc 1 1179 30 discriminator 1 view .LVU1079
 3418 00a2 06F58053 		add	r3, r6, #4096
 3419 00a6 1B68     		ldr	r3, [r3]
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
 3420              		.loc 1 1179 34 discriminator 1 view .LVU1080
 3421 00a8 03F58053 		add	r3, r3, #4096
 3422 00ac 5B69     		ldr	r3, [r3, #20]
1179:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_INT_ERR;
 3423              		.loc 1 1179 17 discriminator 1 view .LVU1081
 3424 00ae 8342     		cmp	r3, r0
 3425 00b0 13D9     		bls	.L280
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3426              		.loc 1 1181 4 is_stmt 1 view .LVU1082
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3427              		.loc 1 1181 8 is_stmt 0 view .LVU1083
 3428 00b2 ED1B     		subs	r5, r5, r7
 3429              	.LVL359:
1181:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3430              		.loc 1 1181 8 view .LVU1084
 3431 00b4 E7E7     		b	.L273
 3432              	.LVL360:
 3433              	.L284:
1183:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3434              		.loc 1 1183 3 is_stmt 1 view .LVU1085
1183:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
ARM GAS  /tmp/cc9KJrYz.s 			page 117


 3435              		.loc 1 1183 10 is_stmt 0 view .LVU1086
 3436 00b6 06F58053 		add	r3, r6, #4096
 3437 00ba 2146     		mov	r1, r4
 3438 00bc 1868     		ldr	r0, [r3]
 3439 00be FFF7FEFF 		bl	clust2sect
 3440              	.LVL361:
 3441 00c2 0246     		mov	r2, r0
 3442              	.LVL362:
1183:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3443              		.loc 1 1183 10 view .LVU1087
 3444 00c4 BAE7     		b	.L272
 3445              	.LVL363:
 3446              	.L275:
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
 3447              		.loc 1 1165 10 view .LVU1088
 3448 00c6 0220     		movs	r0, #2
 3449              	.LVL364:
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
 3450              		.loc 1 1165 10 view .LVU1089
 3451 00c8 D1E7     		b	.L269
 3452              	.LVL365:
 3453              	.L276:
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
 3454              		.loc 1 1165 10 view .LVU1090
 3455 00ca 0220     		movs	r0, #2
 3456              	.LVL366:
1165:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!clst && dp->fs->fs_type == FS_FAT32)	/* Replace cluster# 0 with root cluster# if in FAT32 */
 3457              		.loc 1 1165 10 view .LVU1091
 3458 00cc CFE7     		b	.L269
 3459              	.LVL367:
 3460              	.L277:
1171:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = dp->fs->dirbase;
 3461              		.loc 1 1171 11 view .LVU1092
 3462 00ce 0220     		movs	r0, #2
 3463              	.LVL368:
1171:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = dp->fs->dirbase;
 3464              		.loc 1 1171 11 view .LVU1093
 3465 00d0 CDE7     		b	.L269
 3466              	.LVL369:
 3467              	.L278:
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
 3468              		.loc 1 1178 35 view .LVU1094
 3469 00d2 0120     		movs	r0, #1
 3470              	.LVL370:
1178:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst < 2 || clst >= dp->fs->n_fatent)	/* Reached to end of table or internal error */
 3471              		.loc 1 1178 35 view .LVU1095
 3472 00d4 CBE7     		b	.L269
 3473              	.LVL371:
 3474              	.L279:
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 			idx -= ic;
 3475              		.loc 1 1180 12 view .LVU1096
 3476 00d6 0220     		movs	r0, #2
 3477              	.LVL372:
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 			idx -= ic;
 3478              		.loc 1 1180 12 view .LVU1097
 3479 00d8 C9E7     		b	.L269
 3480              	.LVL373:
ARM GAS  /tmp/cc9KJrYz.s 			page 118


 3481              	.L280:
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 			idx -= ic;
 3482              		.loc 1 1180 12 view .LVU1098
 3483 00da 0220     		movs	r0, #2
 3484              	.LVL374:
1180:Middlewares/Third_Party/FatFs/src/ff.c **** 			idx -= ic;
 3485              		.loc 1 1180 12 view .LVU1099
 3486 00dc C7E7     		b	.L269
 3487              	.LVL375:
 3488              	.L281:
1186:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sect = sect + idx / (SS(dp->fs) / SZ_DIRE);					/* Sector# of the directory entry */
 3489              		.loc 1 1186 20 view .LVU1100
 3490 00de 0220     		movs	r0, #2
 3491 00e0 C5E7     		b	.L269
 3492              		.cfi_endproc
 3493              	.LFE90:
 3495              		.section	.text.dir_remove,"ax",%progbits
 3496              		.align	1
 3497              		.syntax unified
 3498              		.thumb
 3499              		.thumb_func
 3500              		.fpu softvfp
 3502              	dir_remove:
 3503              	.LVL376:
 3504              	.LFB98:
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3505              		.loc 1 1729 1 is_stmt 1 view -0
 3506              		.cfi_startproc
 3507              		@ args = 0, pretend = 0, frame = 0
 3508              		@ frame_needed = 0, uses_anonymous_args = 0
1729:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3509              		.loc 1 1729 1 is_stmt 0 view .LVU1102
 3510 0000 38B5     		push	{r3, r4, r5, lr}
 3511              	.LCFI30:
 3512              		.cfi_def_cfa_offset 16
 3513              		.cfi_offset 3, -16
 3514              		.cfi_offset 4, -12
 3515              		.cfi_offset 5, -8
 3516              		.cfi_offset 14, -4
 3517 0002 0446     		mov	r4, r0
1730:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 3518              		.loc 1 1730 2 is_stmt 1 view .LVU1103
1750:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 3519              		.loc 1 1750 2 view .LVU1104
1750:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 3520              		.loc 1 1750 22 is_stmt 0 view .LVU1105
 3521 0004 00F58053 		add	r3, r0, #4096
1750:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 3522              		.loc 1 1750 8 view .LVU1106
 3523 0008 D988     		ldrh	r1, [r3, #6]
 3524 000a FFF7FEFF 		bl	dir_sdi
 3525              	.LVL377:
1751:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 3526              		.loc 1 1751 2 is_stmt 1 view .LVU1107
1751:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 3527              		.loc 1 1751 5 is_stmt 0 view .LVU1108
 3528 000e 0546     		mov	r5, r0
ARM GAS  /tmp/cc9KJrYz.s 			page 119


 3529 0010 08B1     		cbz	r0, .L288
 3530              	.LVL378:
 3531              	.L286:
1761:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3532              		.loc 1 1761 2 is_stmt 1 view .LVU1109
1762:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 3533              		.loc 1 1762 1 is_stmt 0 view .LVU1110
 3534 0012 2846     		mov	r0, r5
 3535 0014 38BD     		pop	{r3, r4, r5, pc}
 3536              	.LVL379:
 3537              	.L288:
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 3538              		.loc 1 1752 3 is_stmt 1 view .LVU1111
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 3539              		.loc 1 1752 9 is_stmt 0 view .LVU1112
 3540 0016 04F58053 		add	r3, r4, #4096
 3541 001a 1969     		ldr	r1, [r3, #16]
 3542 001c 1868     		ldr	r0, [r3]
 3543              	.LVL380:
1752:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 3544              		.loc 1 1752 9 view .LVU1113
 3545 001e FFF7FEFF 		bl	move_window
 3546              	.LVL381:
1753:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clear and mark the entry "deleted" */
 3547              		.loc 1 1753 3 is_stmt 1 view .LVU1114
1753:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clear and mark the entry "deleted" */
 3548              		.loc 1 1753 6 is_stmt 0 view .LVU1115
 3549 0022 0546     		mov	r5, r0
 3550 0024 0028     		cmp	r0, #0
 3551 0026 F4D1     		bne	.L286
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 			*dp->dir = DDEM;
 3552              		.loc 1 1754 4 is_stmt 1 view .LVU1116
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 			*dp->dir = DDEM;
 3553              		.loc 1 1754 14 is_stmt 0 view .LVU1117
 3554 0028 04F58054 		add	r4, r4, #4096
 3555              	.LVL382:
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 			*dp->dir = DDEM;
 3556              		.loc 1 1754 4 view .LVU1118
 3557 002c 2022     		movs	r2, #32
 3558 002e 0021     		movs	r1, #0
 3559 0030 6069     		ldr	r0, [r4, #20]
 3560              	.LVL383:
1754:Middlewares/Third_Party/FatFs/src/ff.c **** 			*dp->dir = DDEM;
 3561              		.loc 1 1754 4 view .LVU1119
 3562 0032 FFF7FEFF 		bl	mem_set
 3563              	.LVL384:
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
 3564              		.loc 1 1755 4 is_stmt 1 view .LVU1120
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
 3565              		.loc 1 1755 7 is_stmt 0 view .LVU1121
 3566 0036 6369     		ldr	r3, [r4, #20]
1755:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs->wflag = 1;
 3567              		.loc 1 1755 13 view .LVU1122
 3568 0038 E522     		movs	r2, #229
 3569 003a 1A70     		strb	r2, [r3]
1756:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3570              		.loc 1 1756 4 is_stmt 1 view .LVU1123
ARM GAS  /tmp/cc9KJrYz.s 			page 120


1756:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3571              		.loc 1 1756 6 is_stmt 0 view .LVU1124
 3572 003c 2368     		ldr	r3, [r4]
1756:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 3573              		.loc 1 1756 18 view .LVU1125
 3574 003e 03F58053 		add	r3, r3, #4096
 3575 0042 0122     		movs	r2, #1
 3576 0044 1A71     		strb	r2, [r3, #4]
 3577 0046 E4E7     		b	.L286
 3578              		.cfi_endproc
 3579              	.LFE98:
 3581              		.section	.text.put_fat,"ax",%progbits
 3582              		.align	1
 3583              		.global	put_fat
 3584              		.syntax unified
 3585              		.thumb
 3586              		.thumb_func
 3587              		.fpu softvfp
 3589              	put_fat:
 3590              	.LVL385:
 3591              	.LFB86:
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 3592              		.loc 1 951 1 is_stmt 1 view -0
 3593              		.cfi_startproc
 3594              		@ args = 0, pretend = 0, frame = 0
 3595              		@ frame_needed = 0, uses_anonymous_args = 0
 952:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *p;
 3596              		.loc 1 952 2 view .LVU1127
 953:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3597              		.loc 1 953 2 view .LVU1128
 954:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3598              		.loc 1 954 2 view .LVU1129
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 3599              		.loc 1 957 2 view .LVU1130
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 3600              		.loc 1 957 5 is_stmt 0 view .LVU1131
 3601 0000 0129     		cmp	r1, #1
 3602 0002 40F2A780 		bls	.L297
 951:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bc;
 3603              		.loc 1 951 1 discriminator 1 view .LVU1132
 3604 0006 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3605              	.LCFI31:
 3606              		.cfi_def_cfa_offset 24
 3607              		.cfi_offset 4, -24
 3608              		.cfi_offset 5, -20
 3609              		.cfi_offset 6, -16
 3610              		.cfi_offset 7, -12
 3611              		.cfi_offset 8, -8
 3612              		.cfi_offset 14, -4
 3613 000a 0546     		mov	r5, r0
 3614 000c 0C46     		mov	r4, r1
 3615 000e 1646     		mov	r6, r2
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 3616              		.loc 1 957 28 discriminator 1 view .LVU1133
 3617 0010 00F58053 		add	r3, r0, #4096
 3618 0014 5B69     		ldr	r3, [r3, #20]
 957:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
ARM GAS  /tmp/cc9KJrYz.s 			page 121


 3619              		.loc 1 957 15 discriminator 1 view .LVU1134
 3620 0016 8B42     		cmp	r3, r1
 3621 0018 40F29E80 		bls	.L298
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3622              		.loc 1 961 3 is_stmt 1 view .LVU1135
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3623              		.loc 1 961 13 is_stmt 0 view .LVU1136
 3624 001c 00F58053 		add	r3, r0, #4096
 3625 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 961:Middlewares/Third_Party/FatFs/src/ff.c **** 		case FS_FAT12 :
 3626              		.loc 1 961 3 view .LVU1137
 3627 0022 022B     		cmp	r3, #2
 3628 0024 51D0     		beq	.L291
 3629 0026 032B     		cmp	r3, #3
 3630 0028 6BD0     		beq	.L292
 3631 002a 012B     		cmp	r3, #1
 3632 002c 02D0     		beq	.L304
 3633 002e 0220     		movs	r0, #2
 3634              	.LVL386:
 3635              	.L290:
 998:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3636              		.loc 1 998 2 is_stmt 1 view .LVU1138
 999:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 3637              		.loc 1 999 1 is_stmt 0 view .LVU1139
 3638 0030 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3639              	.LVL387:
 3640              	.L304:
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3641              		.loc 1 963 4 is_stmt 1 view .LVU1140
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3642              		.loc 1 963 21 view .LVU1141
 963:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3643              		.loc 1 963 24 is_stmt 0 view .LVU1142
 3644 0034 01EB5107 		add	r7, r1, r1, lsr #1
 3645              	.LVL388:
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3646              		.loc 1 964 4 is_stmt 1 view .LVU1143
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3647              		.loc 1 964 28 is_stmt 0 view .LVU1144
 3648 0038 00F58053 		add	r3, r0, #4096
 3649 003c 196A     		ldr	r1, [r3, #32]
 3650              	.LVL389:
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3651              		.loc 1 964 46 view .LVU1145
 3652 003e 5B89     		ldrh	r3, [r3, #10]
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3653              		.loc 1 964 44 view .LVU1146
 3654 0040 B7FBF3F3 		udiv	r3, r7, r3
 964:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3655              		.loc 1 964 10 view .LVU1147
 3656 0044 1944     		add	r1, r1, r3
 3657 0046 FFF7FEFF 		bl	move_window
 3658              	.LVL390:
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc++ % SS(fs)];
 3659              		.loc 1 965 4 is_stmt 1 view .LVU1148
 965:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc++ % SS(fs)];
 3660              		.loc 1 965 7 is_stmt 0 view .LVU1149
ARM GAS  /tmp/cc9KJrYz.s 			page 122


 3661 004a 0028     		cmp	r0, #0
 3662 004c F0D1     		bne	.L290
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3663              		.loc 1 966 4 is_stmt 1 view .LVU1150
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3664              		.loc 1 966 22 is_stmt 0 view .LVU1151
 3665 004e 07F10108 		add	r8, r7, #1
 3666              	.LVL391:
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3667              		.loc 1 966 27 view .LVU1152
 3668 0052 05F58053 		add	r3, r5, #4096
 3669 0056 5B89     		ldrh	r3, [r3, #10]
 966:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? ((*p & 0x0F) | ((BYTE)val << 4)) : (BYTE)val;
 3670              		.loc 1 966 25 view .LVU1153
 3671 0058 B7FBF3F2 		udiv	r2, r7, r3
 3672 005c 03FB1277 		mls	r7, r3, r2, r7
 3673              	.LVL392:
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3674              		.loc 1 967 4 is_stmt 1 view .LVU1154
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3675              		.loc 1 967 7 is_stmt 0 view .LVU1155
 3676 0060 14F00104 		ands	r4, r4, #1
 3677              	.LVL393:
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3678              		.loc 1 967 7 view .LVU1156
 3679 0064 26D0     		beq	.L293
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3680              		.loc 1 967 24 discriminator 1 view .LVU1157
 3681 0066 EA57     		ldrsb	r2, [r5, r7]
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3682              		.loc 1 967 27 discriminator 1 view .LVU1158
 3683 0068 02F00F02 		and	r2, r2, #15
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3684              		.loc 1 967 48 discriminator 1 view .LVU1159
 3685 006c 3101     		lsls	r1, r6, #4
 3686 006e 01F47F61 		and	r1, r1, #4080
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3687              		.loc 1 967 35 discriminator 1 view .LVU1160
 3688 0072 0A43     		orrs	r2, r2, r1
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3689              		.loc 1 967 7 discriminator 1 view .LVU1161
 3690 0074 D2B2     		uxtb	r2, r2
 3691              	.L294:
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3692              		.loc 1 967 7 discriminator 4 view .LVU1162
 3693 0076 EA55     		strb	r2, [r5, r7]
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3694              		.loc 1 968 4 is_stmt 1 discriminator 4 view .LVU1163
 968:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fs, fs->fatbase + (bc / SS(fs)));
 3695              		.loc 1 968 14 is_stmt 0 discriminator 4 view .LVU1164
 3696 0078 05F58052 		add	r2, r5, #4096
 3697 007c 0121     		movs	r1, #1
 3698 007e 1171     		strb	r1, [r2, #4]
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3699              		.loc 1 969 4 is_stmt 1 discriminator 4 view .LVU1165
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3700              		.loc 1 969 28 is_stmt 0 discriminator 4 view .LVU1166
ARM GAS  /tmp/cc9KJrYz.s 			page 123


 3701 0080 116A     		ldr	r1, [r2, #32]
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3702              		.loc 1 969 44 discriminator 4 view .LVU1167
 3703 0082 B8FBF3F3 		udiv	r3, r8, r3
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3704              		.loc 1 969 10 discriminator 4 view .LVU1168
 3705 0086 1944     		add	r1, r1, r3
 3706 0088 2846     		mov	r0, r5
 3707              	.LVL394:
 969:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3708              		.loc 1 969 10 discriminator 4 view .LVU1169
 3709 008a FFF7FEFF 		bl	move_window
 3710              	.LVL395:
 970:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc % SS(fs)];
 3711              		.loc 1 970 4 is_stmt 1 discriminator 4 view .LVU1170
 970:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[bc % SS(fs)];
 3712              		.loc 1 970 7 is_stmt 0 discriminator 4 view .LVU1171
 3713 008e 0028     		cmp	r0, #0
 3714 0090 CED1     		bne	.L290
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 3715              		.loc 1 971 4 is_stmt 1 view .LVU1172
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 3716              		.loc 1 971 25 is_stmt 0 view .LVU1173
 3717 0092 05F58053 		add	r3, r5, #4096
 3718 0096 5B89     		ldrh	r3, [r3, #10]
 971:Middlewares/Third_Party/FatFs/src/ff.c **** 			*p = (clst & 1) ? (BYTE)(val >> 4) : ((*p & 0xF0) | ((BYTE)(val >> 8) & 0x0F));
 3719              		.loc 1 971 23 view .LVU1174
 3720 0098 B8FBF3F2 		udiv	r2, r8, r3
 3721 009c 03FB1288 		mls	r8, r3, r2, r8
 3722              	.LVL396:
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3723              		.loc 1 972 4 is_stmt 1 view .LVU1175
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3724              		.loc 1 972 7 is_stmt 0 view .LVU1176
 3725 00a0 54B1     		cbz	r4, .L295
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3726              		.loc 1 972 7 discriminator 1 view .LVU1177
 3727 00a2 C6F30712 		ubfx	r2, r6, #4, #8
 3728              	.LVL397:
 3729              	.L296:
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3730              		.loc 1 972 7 discriminator 4 view .LVU1178
 3731 00a6 05F80820 		strb	r2, [r5, r8]
 973:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3732              		.loc 1 973 4 is_stmt 1 discriminator 4 view .LVU1179
 973:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3733              		.loc 1 973 14 is_stmt 0 discriminator 4 view .LVU1180
 3734 00aa 05F58055 		add	r5, r5, #4096
 3735              	.LVL398:
 973:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3736              		.loc 1 973 14 discriminator 4 view .LVU1181
 3737 00ae 0123     		movs	r3, #1
 3738 00b0 2B71     		strb	r3, [r5, #4]
 974:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3739              		.loc 1 974 4 is_stmt 1 discriminator 4 view .LVU1182
 3740 00b2 BDE7     		b	.L290
 3741              	.LVL399:
ARM GAS  /tmp/cc9KJrYz.s 			page 124


 3742              	.L293:
 967:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3743              		.loc 1 967 7 is_stmt 0 discriminator 2 view .LVU1183
 3744 00b4 F2B2     		uxtb	r2, r6
 3745 00b6 DEE7     		b	.L294
 3746              	.LVL400:
 3747              	.L295:
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3748              		.loc 1 972 43 discriminator 2 view .LVU1184
 3749 00b8 15F90820 		ldrsb	r2, [r5, r8]
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3750              		.loc 1 972 46 discriminator 2 view .LVU1185
 3751 00bc 22F00F02 		bic	r2, r2, #15
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3752              		.loc 1 972 74 discriminator 2 view .LVU1186
 3753 00c0 C6F30326 		ubfx	r6, r6, #8, #4
 3754              	.LVL401:
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3755              		.loc 1 972 54 discriminator 2 view .LVU1187
 3756 00c4 3243     		orrs	r2, r2, r6
 972:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3757              		.loc 1 972 7 discriminator 2 view .LVU1188
 3758 00c6 D2B2     		uxtb	r2, r2
 3759 00c8 EDE7     		b	.L296
 3760              	.LVL402:
 3761              	.L291:
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3762              		.loc 1 977 4 is_stmt 1 view .LVU1189
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3763              		.loc 1 977 28 is_stmt 0 view .LVU1190
 3764 00ca 00F58053 		add	r3, r0, #4096
 3765 00ce 196A     		ldr	r1, [r3, #32]
 3766              	.LVL403:
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3767              		.loc 1 977 49 view .LVU1191
 3768 00d0 5B89     		ldrh	r3, [r3, #10]
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3769              		.loc 1 977 56 view .LVU1192
 3770 00d2 5B08     		lsrs	r3, r3, #1
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3771              		.loc 1 977 46 view .LVU1193
 3772 00d4 B4FBF3F3 		udiv	r3, r4, r3
 977:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3773              		.loc 1 977 10 view .LVU1194
 3774 00d8 1944     		add	r1, r1, r3
 3775 00da FFF7FEFF 		bl	move_window
 3776              	.LVL404:
 978:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 3777              		.loc 1 978 4 is_stmt 1 view .LVU1195
 978:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 2 % SS(fs)];
 3778              		.loc 1 978 7 is_stmt 0 view .LVU1196
 3779 00de 0028     		cmp	r0, #0
 3780 00e0 A6D1     		bne	.L290
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 3781              		.loc 1 979 4 is_stmt 1 view .LVU1197
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 3782              		.loc 1 979 25 is_stmt 0 view .LVU1198
ARM GAS  /tmp/cc9KJrYz.s 			page 125


 3783 00e2 6400     		lsls	r4, r4, #1
 3784              	.LVL405:
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 3785              		.loc 1 979 31 view .LVU1199
 3786 00e4 05F58053 		add	r3, r5, #4096
 3787 00e8 5A89     		ldrh	r2, [r3, #10]
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 3788              		.loc 1 979 29 view .LVU1200
 3789 00ea B4FBF2F1 		udiv	r1, r4, r2
 3790 00ee 02FB1144 		mls	r4, r2, r1, r4
 979:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(p, (WORD)val);
 3791              		.loc 1 979 6 view .LVU1201
 3792 00f2 2919     		adds	r1, r5, r4
 3793              	.LVL406:
 980:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3794              		.loc 1 980 4 is_stmt 1 view .LVU1202
 3795 00f4 2E55     		strb	r6, [r5, r4]
 980:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3796              		.loc 1 980 4 view .LVU1203
 3797 00f6 C6F30722 		ubfx	r2, r6, #8, #8
 3798 00fa 4A70     		strb	r2, [r1, #1]
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3799              		.loc 1 981 4 view .LVU1204
 981:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3800              		.loc 1 981 14 is_stmt 0 view .LVU1205
 3801 00fc 0122     		movs	r2, #1
 3802 00fe 1A71     		strb	r2, [r3, #4]
 982:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3803              		.loc 1 982 4 is_stmt 1 view .LVU1206
 3804 0100 96E7     		b	.L290
 3805              	.LVL407:
 3806              	.L292:
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3807              		.loc 1 985 4 view .LVU1207
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3808              		.loc 1 985 28 is_stmt 0 view .LVU1208
 3809 0102 00F58053 		add	r3, r0, #4096
 3810 0106 196A     		ldr	r1, [r3, #32]
 3811              	.LVL408:
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3812              		.loc 1 985 49 view .LVU1209
 3813 0108 5B89     		ldrh	r3, [r3, #10]
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3814              		.loc 1 985 56 view .LVU1210
 3815 010a 9B08     		lsrs	r3, r3, #2
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3816              		.loc 1 985 46 view .LVU1211
 3817 010c B4FBF3F3 		udiv	r3, r4, r3
 985:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 3818              		.loc 1 985 10 view .LVU1212
 3819 0110 1944     		add	r1, r1, r3
 3820 0112 FFF7FEFF 		bl	move_window
 3821              	.LVL409:
 986:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3822              		.loc 1 986 4 is_stmt 1 view .LVU1213
 986:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = &fs->win.d8[clst * 4 % SS(fs)];
 3823              		.loc 1 986 7 is_stmt 0 view .LVU1214
ARM GAS  /tmp/cc9KJrYz.s 			page 126


 3824 0116 0028     		cmp	r0, #0
 3825 0118 8AD1     		bne	.L290
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 3826              		.loc 1 987 4 is_stmt 1 view .LVU1215
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 3827              		.loc 1 987 25 is_stmt 0 view .LVU1216
 3828 011a A400     		lsls	r4, r4, #2
 3829              	.LVL410:
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 3830              		.loc 1 987 31 view .LVU1217
 3831 011c 05F58057 		add	r7, r5, #4096
 3832 0120 7B89     		ldrh	r3, [r7, #10]
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 3833              		.loc 1 987 29 view .LVU1218
 3834 0122 B4FBF3F2 		udiv	r2, r4, r3
 3835 0126 03FB1244 		mls	r4, r3, r2, r4
 987:Middlewares/Third_Party/FatFs/src/ff.c **** 			val |= LD_DWORD(p) & 0xF0000000;
 3836              		.loc 1 987 6 view .LVU1219
 3837 012a 2919     		adds	r1, r5, r4
 3838              	.LVL411:
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(p, val);
 3839              		.loc 1 988 4 is_stmt 1 view .LVU1220
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(p, val);
 3840              		.loc 1 988 11 is_stmt 0 view .LVU1221
 3841 012c CA78     		ldrb	r2, [r1, #3]	@ zero_extendqisi2
 3842 012e 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 3843 0130 1B04     		lsls	r3, r3, #16
 3844 0132 43EA0263 		orr	r3, r3, r2, lsl #24
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(p, val);
 3845              		.loc 1 988 23 view .LVU1222
 3846 0136 03F07043 		and	r3, r3, #-268435456
 988:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(p, val);
 3847              		.loc 1 988 8 view .LVU1223
 3848 013a 3343     		orrs	r3, r3, r6
 3849              	.LVL412:
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3850              		.loc 1 989 4 is_stmt 1 view .LVU1224
 3851 013c 2E55     		strb	r6, [r5, r4]
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3852              		.loc 1 989 4 view .LVU1225
 3853 013e C6F30722 		ubfx	r2, r6, #8, #8
 3854 0142 4A70     		strb	r2, [r1, #1]
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3855              		.loc 1 989 4 view .LVU1226
 3856 0144 C6F30742 		ubfx	r2, r6, #16, #8
 3857 0148 8A70     		strb	r2, [r1, #2]
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3858              		.loc 1 989 4 view .LVU1227
 3859 014a 1B0E     		lsrs	r3, r3, #24
 3860              	.LVL413:
 989:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->wflag = 1;
 3861              		.loc 1 989 4 is_stmt 0 view .LVU1228
 3862 014c CB70     		strb	r3, [r1, #3]
 990:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3863              		.loc 1 990 4 is_stmt 1 view .LVU1229
 990:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 3864              		.loc 1 990 14 is_stmt 0 view .LVU1230
ARM GAS  /tmp/cc9KJrYz.s 			page 127


 3865 014e 0123     		movs	r3, #1
 3866 0150 3B71     		strb	r3, [r7, #4]
 991:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3867              		.loc 1 991 4 is_stmt 1 view .LVU1231
 3868 0152 6DE7     		b	.L290
 3869              	.LVL414:
 3870              	.L297:
 3871              	.LCFI32:
 3872              		.cfi_def_cfa_offset 0
 3873              		.cfi_restore 4
 3874              		.cfi_restore 5
 3875              		.cfi_restore 6
 3876              		.cfi_restore 7
 3877              		.cfi_restore 8
 3878              		.cfi_restore 14
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3879              		.loc 1 958 7 is_stmt 0 view .LVU1232
 3880 0154 0220     		movs	r0, #2
 3881              	.LVL415:
 998:Middlewares/Third_Party/FatFs/src/ff.c **** }
 3882              		.loc 1 998 2 is_stmt 1 view .LVU1233
 999:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 3883              		.loc 1 999 1 is_stmt 0 view .LVU1234
 3884 0156 7047     		bx	lr
 3885              	.LVL416:
 3886              	.L298:
 3887              	.LCFI33:
 3888              		.cfi_def_cfa_offset 24
 3889              		.cfi_offset 4, -24
 3890              		.cfi_offset 5, -20
 3891              		.cfi_offset 6, -16
 3892              		.cfi_offset 7, -12
 3893              		.cfi_offset 8, -8
 3894              		.cfi_offset 14, -4
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3895              		.loc 1 958 7 view .LVU1235
 3896 0158 0220     		movs	r0, #2
 3897              	.LVL417:
 958:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3898              		.loc 1 958 7 view .LVU1236
 3899 015a 69E7     		b	.L290
 3900              		.cfi_endproc
 3901              	.LFE86:
 3903              		.section	.text.create_chain,"ax",%progbits
 3904              		.align	1
 3905              		.syntax unified
 3906              		.thumb
 3907              		.thumb_func
 3908              		.fpu softvfp
 3910              	create_chain:
 3911              	.LVL418:
 3912              	.LFB88:
1067:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
 3913              		.loc 1 1067 1 is_stmt 1 view -0
 3914              		.cfi_startproc
 3915              		@ args = 0, pretend = 0, frame = 0
 3916              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cc9KJrYz.s 			page 128


1067:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cs, ncl, scl;
 3917              		.loc 1 1067 1 is_stmt 0 view .LVU1238
 3918 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3919              	.LCFI34:
 3920              		.cfi_def_cfa_offset 24
 3921              		.cfi_offset 3, -24
 3922              		.cfi_offset 4, -20
 3923              		.cfi_offset 5, -16
 3924              		.cfi_offset 6, -12
 3925              		.cfi_offset 7, -8
 3926              		.cfi_offset 14, -4
 3927 0002 0546     		mov	r5, r0
1068:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 3928              		.loc 1 1068 2 is_stmt 1 view .LVU1239
1069:Middlewares/Third_Party/FatFs/src/ff.c **** 
 3929              		.loc 1 1069 2 view .LVU1240
1072:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clust;			/* Get suggested start point */
 3930              		.loc 1 1072 2 view .LVU1241
1072:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = fs->last_clust;			/* Get suggested start point */
 3931              		.loc 1 1072 5 is_stmt 0 view .LVU1242
 3932 0004 0E46     		mov	r6, r1
 3933 0006 41B9     		cbnz	r1, .L306
1073:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!scl || scl >= fs->n_fatent) scl = 1;
 3934              		.loc 1 1073 3 is_stmt 1 view .LVU1243
1073:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!scl || scl >= fs->n_fatent) scl = 1;
 3935              		.loc 1 1073 7 is_stmt 0 view .LVU1244
 3936 0008 00F58053 		add	r3, r0, #4096
 3937 000c DF68     		ldr	r7, [r3, #12]
 3938              	.LVL419:
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3939              		.loc 1 1074 3 is_stmt 1 view .LVU1245
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3940              		.loc 1 1074 6 is_stmt 0 view .LVU1246
 3941 000e 9FB1     		cbz	r7, .L314
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3942              		.loc 1 1074 24 discriminator 2 view .LVU1247
 3943 0010 5B69     		ldr	r3, [r3, #20]
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3944              		.loc 1 1074 12 discriminator 2 view .LVU1248
 3945 0012 BB42     		cmp	r3, r7
 3946 0014 11D8     		bhi	.L307
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3947              		.loc 1 1074 40 view .LVU1249
 3948 0016 0127     		movs	r7, #1
 3949              	.LVL420:
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3950              		.loc 1 1074 40 view .LVU1250
 3951 0018 0FE0     		b	.L307
 3952              	.LVL421:
 3953              	.L306:
1077:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;			/* Invalid value */
 3954              		.loc 1 1077 3 is_stmt 1 view .LVU1251
1077:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;			/* Invalid value */
 3955              		.loc 1 1077 8 is_stmt 0 view .LVU1252
 3956 001a FFF7FEFF 		bl	get_fat
 3957              	.LVL422:
1077:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < 2) return 1;			/* Invalid value */
ARM GAS  /tmp/cc9KJrYz.s 			page 129


 3958              		.loc 1 1077 8 view .LVU1253
 3959 001e 0346     		mov	r3, r0
 3960              	.LVL423:
1078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3961              		.loc 1 1078 3 is_stmt 1 view .LVU1254
1078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 3962              		.loc 1 1078 6 is_stmt 0 view .LVU1255
 3963 0020 0128     		cmp	r0, #1
 3964 0022 4CD9     		bls	.L316
1079:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 3965              		.loc 1 1079 3 is_stmt 1 view .LVU1256
1079:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs < fs->n_fatent) return cs;	/* It is already followed by next cluster */
 3966              		.loc 1 1079 6 is_stmt 0 view .LVU1257
 3967 0024 B0F1FF3F 		cmp	r0, #-1
 3968 0028 4ED0     		beq	.L305
1080:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3969              		.loc 1 1080 3 is_stmt 1 view .LVU1258
1080:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3970              		.loc 1 1080 14 is_stmt 0 view .LVU1259
 3971 002a 05F58052 		add	r2, r5, #4096
 3972 002e 5269     		ldr	r2, [r2, #20]
1080:Middlewares/Third_Party/FatFs/src/ff.c **** 		scl = clst;
 3973              		.loc 1 1080 6 view .LVU1260
 3974 0030 8242     		cmp	r2, r0
 3975 0032 49D8     		bhi	.L305
1081:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3976              		.loc 1 1081 7 view .LVU1261
 3977 0034 3746     		mov	r7, r6
 3978 0036 00E0     		b	.L307
 3979              	.LVL424:
 3980              	.L314:
1074:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 3981              		.loc 1 1074 40 view .LVU1262
 3982 0038 0127     		movs	r7, #1
 3983              	.LVL425:
 3984              	.L307:
1084:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 3985              		.loc 1 1084 2 is_stmt 1 view .LVU1263
1084:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
 3986              		.loc 1 1084 6 is_stmt 0 view .LVU1264
 3987 003a 3C46     		mov	r4, r7
 3988 003c 0CE0     		b	.L311
 3989              	.LVL426:
 3990              	.L309:
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0) break;				/* Found a free cluster */
 3991              		.loc 1 1091 3 is_stmt 1 view .LVU1265
1091:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0) break;				/* Found a free cluster */
 3992              		.loc 1 1091 8 is_stmt 0 view .LVU1266
 3993 003e 2146     		mov	r1, r4
 3994 0040 2846     		mov	r0, r5
 3995 0042 FFF7FEFF 		bl	get_fat
 3996              	.LVL427:
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF || cs == 1)/* An error occurred */
 3997              		.loc 1 1092 3 is_stmt 1 view .LVU1267
1092:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF || cs == 1)/* An error occurred */
 3998              		.loc 1 1092 6 is_stmt 0 view .LVU1268
 3999 0046 0346     		mov	r3, r0
ARM GAS  /tmp/cc9KJrYz.s 			page 130


 4000 0048 80B1     		cbz	r0, .L310
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 			return cs;
 4001              		.loc 1 1093 3 is_stmt 1 view .LVU1269
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 			return cs;
 4002              		.loc 1 1093 6 is_stmt 0 view .LVU1270
 4003 004a B0F1FF3F 		cmp	r0, #-1
 4004 004e 3BD0     		beq	.L305
1093:Middlewares/Third_Party/FatFs/src/ff.c **** 			return cs;
 4005              		.loc 1 1093 24 discriminator 1 view .LVU1271
 4006 0050 0128     		cmp	r0, #1
 4007 0052 39D0     		beq	.L305
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4008              		.loc 1 1095 3 is_stmt 1 view .LVU1272
1095:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4009              		.loc 1 1095 6 is_stmt 0 view .LVU1273
 4010 0054 BC42     		cmp	r4, r7
 4011 0056 36D0     		beq	.L322
 4012              	.LVL428:
 4013              	.L311:
1085:Middlewares/Third_Party/FatFs/src/ff.c **** 		ncl++;							/* Next cluster */
 4014              		.loc 1 1085 2 is_stmt 1 view .LVU1274
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl >= fs->n_fatent) {		/* Check wrap around */
 4015              		.loc 1 1086 3 view .LVU1275
1086:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ncl >= fs->n_fatent) {		/* Check wrap around */
 4016              		.loc 1 1086 6 is_stmt 0 view .LVU1276
 4017 0058 0134     		adds	r4, r4, #1
 4018              	.LVL429:
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = 2;
 4019              		.loc 1 1087 3 is_stmt 1 view .LVU1277
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = 2;
 4020              		.loc 1 1087 16 is_stmt 0 view .LVU1278
 4021 005a 05F58053 		add	r3, r5, #4096
 4022 005e 5B69     		ldr	r3, [r3, #20]
1087:Middlewares/Third_Party/FatFs/src/ff.c **** 			ncl = 2;
 4023              		.loc 1 1087 6 view .LVU1279
 4024 0060 A342     		cmp	r3, r4
 4025 0062 ECD8     		bhi	.L309
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl > scl) return 0;	/* No free cluster */
 4026              		.loc 1 1088 4 is_stmt 1 view .LVU1280
 4027              	.LVL430:
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4028              		.loc 1 1089 4 view .LVU1281
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4029              		.loc 1 1089 7 is_stmt 0 view .LVU1282
 4030 0064 012F     		cmp	r7, #1
 4031 0066 2CD9     		bls	.L317
1088:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ncl > scl) return 0;	/* No free cluster */
 4032              		.loc 1 1088 8 view .LVU1283
 4033 0068 0224     		movs	r4, #2
 4034 006a E8E7     		b	.L309
 4035              	.LVL431:
 4036              	.L310:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && clst != 0) {
 4037              		.loc 1 1098 2 is_stmt 1 view .LVU1284
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && clst != 0) {
 4038              		.loc 1 1098 8 is_stmt 0 view .LVU1285
 4039 006c 6FF07042 		mvn	r2, #-268435456
ARM GAS  /tmp/cc9KJrYz.s 			page 131


 4040 0070 2146     		mov	r1, r4
 4041 0072 2846     		mov	r0, r5
 4042              	.LVL432:
1098:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && clst != 0) {
 4043              		.loc 1 1098 8 view .LVU1286
 4044 0074 FFF7FEFF 		bl	put_fat
 4045              	.LVL433:
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, clst, ncl);	/* Link it to the previous one if needed */
 4046              		.loc 1 1099 2 is_stmt 1 view .LVU1287
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, clst, ncl);	/* Link it to the previous one if needed */
 4047              		.loc 1 1099 5 is_stmt 0 view .LVU1288
 4048 0078 0346     		mov	r3, r0
 4049 007a 00B9     		cbnz	r0, .L312
1099:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = put_fat(fs, clst, ncl);	/* Link it to the previous one if needed */
 4050              		.loc 1 1099 19 discriminator 1 view .LVU1289
 4051 007c 8EB9     		cbnz	r6, .L323
 4052              	.LVL434:
 4053              	.L312:
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clust = ncl;			/* Update FSINFO */
 4054              		.loc 1 1102 2 is_stmt 1 view .LVU1290
1102:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->last_clust = ncl;			/* Update FSINFO */
 4055              		.loc 1 1102 5 is_stmt 0 view .LVU1291
 4056 007e BBB9     		cbnz	r3, .L313
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clust != 0xFFFFFFFF) {
 4057              		.loc 1 1103 3 is_stmt 1 view .LVU1292
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clust != 0xFFFFFFFF) {
 4058              		.loc 1 1103 18 is_stmt 0 view .LVU1293
 4059 0080 05F58053 		add	r3, r5, #4096
 4060              	.LVL435:
1103:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clust != 0xFFFFFFFF) {
 4061              		.loc 1 1103 18 view .LVU1294
 4062 0084 DC60     		str	r4, [r3, #12]
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust--;
 4063              		.loc 1 1104 3 is_stmt 1 view .LVU1295
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust--;
 4064              		.loc 1 1104 9 is_stmt 0 view .LVU1296
 4065 0086 1B69     		ldr	r3, [r3, #16]
1104:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust--;
 4066              		.loc 1 1104 6 view .LVU1297
 4067 0088 B3F1FF3F 		cmp	r3, #-1
 4068 008c 1ED0     		beq	.L319
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 4069              		.loc 1 1105 4 is_stmt 1 view .LVU1298
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 4070              		.loc 1 1105 18 is_stmt 0 view .LVU1299
 4071 008e 05F58055 		add	r5, r5, #4096
 4072              	.LVL436:
1105:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 4073              		.loc 1 1105 18 view .LVU1300
 4074 0092 013B     		subs	r3, r3, #1
 4075 0094 2B61     		str	r3, [r5, #16]
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4076              		.loc 1 1106 4 is_stmt 1 view .LVU1301
1106:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4077              		.loc 1 1106 17 is_stmt 0 view .LVU1302
 4078 0096 6B79     		ldrb	r3, [r5, #5]	@ zero_extendqisi2
 4079 0098 43F00103 		orr	r3, r3, #1
ARM GAS  /tmp/cc9KJrYz.s 			page 132


 4080 009c 6B71     		strb	r3, [r5, #5]
 4081 009e 2346     		mov	r3, r4
 4082 00a0 12E0     		b	.L305
 4083              	.LVL437:
 4084              	.L323:
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4085              		.loc 1 1100 3 is_stmt 1 view .LVU1303
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4086              		.loc 1 1100 9 is_stmt 0 view .LVU1304
 4087 00a2 2246     		mov	r2, r4
 4088 00a4 3146     		mov	r1, r6
 4089 00a6 2846     		mov	r0, r5
 4090              	.LVL438:
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4091              		.loc 1 1100 9 view .LVU1305
 4092 00a8 FFF7FEFF 		bl	put_fat
 4093              	.LVL439:
 4094 00ac 0346     		mov	r3, r0
 4095              	.LVL440:
1100:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4096              		.loc 1 1100 9 view .LVU1306
 4097 00ae E6E7     		b	.L312
 4098              	.L313:
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4099              		.loc 1 1109 3 is_stmt 1 view .LVU1307
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4100              		.loc 1 1109 43 is_stmt 0 view .LVU1308
 4101 00b0 012B     		cmp	r3, #1
 4102 00b2 01D0     		beq	.L324
 4103 00b4 0123     		movs	r3, #1
 4104              	.LVL441:
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4105              		.loc 1 1109 43 view .LVU1309
 4106 00b6 07E0     		b	.L305
 4107              	.LVL442:
 4108              	.L324:
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4109              		.loc 1 1109 43 view .LVU1310
 4110 00b8 4FF0FF33 		mov	r3, #-1
 4111              	.LVL443:
1109:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4112              		.loc 1 1109 43 view .LVU1311
 4113 00bc 04E0     		b	.L305
 4114              	.LVL444:
 4115              	.L316:
1078:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (cs == 0xFFFFFFFF) return cs;	/* A disk error occurred */
 4116              		.loc 1 1078 22 view .LVU1312
 4117 00be 0123     		movs	r3, #1
 4118 00c0 02E0     		b	.L305
 4119              	.LVL445:
 4120              	.L317:
1089:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4121              		.loc 1 1089 26 view .LVU1313
 4122 00c2 0023     		movs	r3, #0
 4123 00c4 00E0     		b	.L305
 4124              	.LVL446:
 4125              	.L322:
ARM GAS  /tmp/cc9KJrYz.s 			page 133


1095:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4126              		.loc 1 1095 26 view .LVU1314
 4127 00c6 0023     		movs	r3, #0
 4128              	.LVL447:
 4129              	.L305:
1113:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 4130              		.loc 1 1113 1 view .LVU1315
 4131 00c8 1846     		mov	r0, r3
 4132 00ca F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4133              	.LVL448:
 4134              	.L319:
1113:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 4135              		.loc 1 1113 1 view .LVU1316
 4136 00cc 2346     		mov	r3, r4
 4137 00ce FBE7     		b	.L305
 4138              		.cfi_endproc
 4139              	.LFE88:
 4141              		.section	.text.dir_next,"ax",%progbits
 4142              		.align	1
 4143              		.syntax unified
 4144              		.thumb
 4145              		.thumb_func
 4146              		.fpu softvfp
 4148              	dir_next:
 4149              	.LVL449:
 4150              	.LFB91:
1205:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst;
 4151              		.loc 1 1205 1 is_stmt 1 view -0
 4152              		.cfi_startproc
 4153              		@ args = 0, pretend = 0, frame = 0
 4154              		@ frame_needed = 0, uses_anonymous_args = 0
1205:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst;
 4155              		.loc 1 1205 1 is_stmt 0 view .LVU1318
 4156 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 4157              	.LCFI35:
 4158              		.cfi_def_cfa_offset 32
 4159              		.cfi_offset 3, -32
 4160              		.cfi_offset 4, -28
 4161              		.cfi_offset 5, -24
 4162              		.cfi_offset 6, -20
 4163              		.cfi_offset 7, -16
 4164              		.cfi_offset 8, -12
 4165              		.cfi_offset 9, -8
 4166              		.cfi_offset 14, -4
1206:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 4167              		.loc 1 1206 2 is_stmt 1 view .LVU1319
1207:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4168              		.loc 1 1207 2 view .LVU1320
1209:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4169              		.loc 1 1209 2 view .LVU1321
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i & 0xFFFF) || !dp->sect)	/* Report EOT when index has reached 65535 */
 4170              		.loc 1 1213 2 view .LVU1322
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i & 0xFFFF) || !dp->sect)	/* Report EOT when index has reached 65535 */
 4171              		.loc 1 1213 8 is_stmt 0 view .LVU1323
 4172 0004 00F58053 		add	r3, r0, #4096
 4173 0008 DE88     		ldrh	r6, [r3, #6]
1213:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(i & 0xFFFF) || !dp->sect)	/* Report EOT when index has reached 65535 */
ARM GAS  /tmp/cc9KJrYz.s 			page 134


 4174              		.loc 1 1213 16 view .LVU1324
 4175 000a 751C     		adds	r5, r6, #1
 4176              	.LVL450:
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
 4177              		.loc 1 1214 2 is_stmt 1 view .LVU1325
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
 4178              		.loc 1 1214 10 is_stmt 0 view .LVU1326
 4179 000c ABB2     		uxth	r3, r5
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
 4180              		.loc 1 1214 5 view .LVU1327
 4181 000e 002B     		cmp	r3, #0
 4182 0010 00F0A380 		beq	.L332
 4183 0014 0446     		mov	r4, r0
 4184 0016 0F46     		mov	r7, r1
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
 4185              		.loc 1 1214 26 discriminator 1 view .LVU1328
 4186 0018 00F58053 		add	r3, r0, #4096
 4187 001c 1A69     		ldr	r2, [r3, #16]
1214:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_NO_FILE;
 4188              		.loc 1 1214 20 discriminator 1 view .LVU1329
 4189 001e 002A     		cmp	r2, #0
 4190 0020 00F09D80 		beq	.L333
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
 4191              		.loc 1 1217 2 is_stmt 1 view .LVU1330
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
 4192              		.loc 1 1217 13 is_stmt 0 view .LVU1331
 4193 0024 1868     		ldr	r0, [r3]
 4194              	.LVL451:
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
 4195              		.loc 1 1217 13 view .LVU1332
 4196 0026 00F58053 		add	r3, r0, #4096
 4197 002a 5B89     		ldrh	r3, [r3, #10]
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
 4198              		.loc 1 1217 24 view .LVU1333
 4199 002c 5B09     		lsrs	r3, r3, #5
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
 4200              		.loc 1 1217 10 view .LVU1334
 4201 002e B5FBF3F1 		udiv	r1, r5, r3
 4202              	.LVL452:
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
 4203              		.loc 1 1217 10 view .LVU1335
 4204 0032 03FB1153 		mls	r3, r3, r1, r5
1217:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->sect++;					/* Next sector */
 4205              		.loc 1 1217 5 view .LVU1336
 4206 0036 5BB9     		cbnz	r3, .L327
1218:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4207              		.loc 1 1218 3 is_stmt 1 view .LVU1337
1218:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4208              		.loc 1 1218 11 is_stmt 0 view .LVU1338
 4209 0038 04F58053 		add	r3, r4, #4096
 4210 003c 0132     		adds	r2, r2, #1
 4211 003e 1A61     		str	r2, [r3, #16]
1220:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= dp->fs->n_rootdir)	/* Report EOT if it reached end of static table */
 4212              		.loc 1 1220 3 is_stmt 1 view .LVU1339
1220:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= dp->fs->n_rootdir)	/* Report EOT if it reached end of static table */
 4213              		.loc 1 1220 10 is_stmt 0 view .LVU1340
 4214 0040 D968     		ldr	r1, [r3, #12]
ARM GAS  /tmp/cc9KJrYz.s 			page 135


1220:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i >= dp->fs->n_rootdir)	/* Report EOT if it reached end of static table */
 4215              		.loc 1 1220 6 view .LVU1341
 4216 0042 C1B9     		cbnz	r1, .L328
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_NO_FILE;
 4217              		.loc 1 1221 4 is_stmt 1 view .LVU1342
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_NO_FILE;
 4218              		.loc 1 1221 19 is_stmt 0 view .LVU1343
 4219 0044 00F58050 		add	r0, r0, #4096
 4220 0048 0389     		ldrh	r3, [r0, #8]
1221:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_NO_FILE;
 4221              		.loc 1 1221 7 view .LVU1344
 4222 004a AB42     		cmp	r3, r5
 4223 004c 40F28980 		bls	.L344
 4224              	.LVL453:
 4225              	.L327:
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (i % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Current entry in the window 
 4226              		.loc 1 1257 2 is_stmt 1 view .LVU1345
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (i % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Current entry in the window 
 4227              		.loc 1 1257 14 is_stmt 0 view .LVU1346
 4228 0050 0136     		adds	r6, r6, #1
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (i % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Current entry in the window 
 4229              		.loc 1 1257 12 view .LVU1347
 4230 0052 04F58054 		add	r4, r4, #4096
 4231              	.LVL454:
1257:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->dir = dp->fs->win.d8 + (i % (SS(dp->fs) / SZ_DIRE)) * SZ_DIRE;	/* Current entry in the window 
 4232              		.loc 1 1257 12 view .LVU1348
 4233 0056 E680     		strh	r6, [r4, #6]	@ movhi
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4234              		.loc 1 1258 2 is_stmt 1 view .LVU1349
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4235              		.loc 1 1258 14 is_stmt 0 view .LVU1350
 4236 0058 2368     		ldr	r3, [r4]
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4237              		.loc 1 1258 35 view .LVU1351
 4238 005a 03F58052 		add	r2, r3, #4096
 4239 005e 5289     		ldrh	r2, [r2, #10]
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4240              		.loc 1 1258 46 view .LVU1352
 4241 0060 5209     		lsrs	r2, r2, #5
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4242              		.loc 1 1258 32 view .LVU1353
 4243 0062 B5FBF2F1 		udiv	r1, r5, r2
 4244 0066 02FB1155 		mls	r5, r2, r1, r5
 4245              	.LVL455:
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4246              		.loc 1 1258 27 view .LVU1354
 4247 006a 03EB4515 		add	r5, r3, r5, lsl #5
1258:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4248              		.loc 1 1258 10 view .LVU1355
 4249 006e 6561     		str	r5, [r4, #20]
1260:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4250              		.loc 1 1260 2 is_stmt 1 view .LVU1356
1260:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4251              		.loc 1 1260 9 is_stmt 0 view .LVU1357
 4252 0070 0020     		movs	r0, #0
 4253              	.LVL456:
 4254              	.L326:
ARM GAS  /tmp/cc9KJrYz.s 			page 136


1261:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4255              		.loc 1 1261 1 view .LVU1358
 4256 0072 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 4257              	.LVL457:
 4258              	.L328:
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 4259              		.loc 1 1225 4 is_stmt 1 view .LVU1359
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 4260              		.loc 1 1225 15 is_stmt 0 view .LVU1360
 4261 0076 00F58052 		add	r2, r0, #4096
 4262 007a 5389     		ldrh	r3, [r2, #10]
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 4263              		.loc 1 1225 26 view .LVU1361
 4264 007c 5B09     		lsrs	r3, r3, #5
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 4265              		.loc 1 1225 12 view .LVU1362
 4266 007e B5FBF3F3 		udiv	r3, r5, r3
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 4267              		.loc 1 1225 47 view .LVU1363
 4268 0082 92F80280 		ldrb	r8, [r2, #2]	@ zero_extendqisi2
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 4269              		.loc 1 1225 55 view .LVU1364
 4270 0086 08F1FF38 		add	r8, r8, #-1
1225:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = get_fat(dp->fs, dp->clust);				/* Get next cluster */
 4271              		.loc 1 1225 7 view .LVU1365
 4272 008a 13EA0808 		ands	r8, r3, r8
 4273 008e DFD1     		bne	.L327
1226:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;
 4274              		.loc 1 1226 5 is_stmt 1 view .LVU1366
1226:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) return FR_INT_ERR;
 4275              		.loc 1 1226 12 is_stmt 0 view .LVU1367
 4276 0090 FFF7FEFF 		bl	get_fat
 4277              	.LVL458:
 4278 0094 8146     		mov	r9, r0
 4279              	.LVL459:
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4280              		.loc 1 1227 5 is_stmt 1 view .LVU1368
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4281              		.loc 1 1227 8 is_stmt 0 view .LVU1369
 4282 0096 0128     		cmp	r0, #1
 4283 0098 65D9     		bls	.L335
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= dp->fs->n_fatent) {					/* If it reached end of dynamic table, */
 4284              		.loc 1 1228 5 is_stmt 1 view .LVU1370
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= dp->fs->n_fatent) {					/* If it reached end of dynamic table, */
 4285              		.loc 1 1228 8 is_stmt 0 view .LVU1371
 4286 009a B0F1FF3F 		cmp	r0, #-1
 4287 009e 64D0     		beq	.L336
1229:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4288              		.loc 1 1229 5 is_stmt 1 view .LVU1372
1229:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4289              		.loc 1 1229 19 is_stmt 0 view .LVU1373
 4290 00a0 04F58053 		add	r3, r4, #4096
 4291 00a4 1868     		ldr	r0, [r3]
 4292              	.LVL460:
1229:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4293              		.loc 1 1229 23 view .LVU1374
 4294 00a6 00F58053 		add	r3, r0, #4096
ARM GAS  /tmp/cc9KJrYz.s 			page 137


 4295 00aa 5B69     		ldr	r3, [r3, #20]
1229:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 4296              		.loc 1 1229 8 view .LVU1375
 4297 00ac 4B45     		cmp	r3, r9
 4298 00ae 4AD8     		bhi	.L329
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(dp->fs, dp->clust);		/* Stretch cluster chain */
 4299              		.loc 1 1231 6 is_stmt 1 view .LVU1376
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(dp->fs, dp->clust);		/* Stretch cluster chain */
 4300              		.loc 1 1231 9 is_stmt 0 view .LVU1377
 4301 00b0 002F     		cmp	r7, #0
 4302 00b2 5CD0     		beq	.L337
1232:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 4303              		.loc 1 1232 6 is_stmt 1 view .LVU1378
1232:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0) return FR_DENIED;			/* No free cluster */
 4304              		.loc 1 1232 13 is_stmt 0 view .LVU1379
 4305 00b4 04F58053 		add	r3, r4, #4096
 4306 00b8 D968     		ldr	r1, [r3, #12]
 4307 00ba FFF7FEFF 		bl	create_chain
 4308              	.LVL461:
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;
 4309              		.loc 1 1233 6 is_stmt 1 view .LVU1380
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;
 4310              		.loc 1 1233 9 is_stmt 0 view .LVU1381
 4311 00be 8146     		mov	r9, r0
 4312 00c0 0028     		cmp	r0, #0
 4313 00c2 56D0     		beq	.L338
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4314              		.loc 1 1234 6 is_stmt 1 view .LVU1382
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4315              		.loc 1 1234 9 is_stmt 0 view .LVU1383
 4316 00c4 0128     		cmp	r0, #1
 4317 00c6 56D0     		beq	.L339
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up stretched table */
 4318              		.loc 1 1235 6 is_stmt 1 view .LVU1384
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up stretched table */
 4319              		.loc 1 1235 9 is_stmt 0 view .LVU1385
 4320 00c8 B0F1FF3F 		cmp	r0, #-1
 4321 00cc 55D0     		beq	.L340
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
 4322              		.loc 1 1237 6 is_stmt 1 view .LVU1386
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
 4323              		.loc 1 1237 10 is_stmt 0 view .LVU1387
 4324 00ce 04F58053 		add	r3, r4, #4096
 4325 00d2 1868     		ldr	r0, [r3]
 4326              	.LVL462:
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
 4327              		.loc 1 1237 10 view .LVU1388
 4328 00d4 FFF7FEFF 		bl	sync_window
 4329              	.LVL463:
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
 4330              		.loc 1 1237 9 view .LVU1389
 4331 00d8 08B1     		cbz	r0, .L345
1237:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dp->fs->win.d8, 0, SS(dp->fs));		/* Clear window buffer */
 4332              		.loc 1 1237 38 view .LVU1390
 4333 00da 0120     		movs	r0, #1
 4334 00dc C9E7     		b	.L326
 4335              	.L345:
ARM GAS  /tmp/cc9KJrYz.s 			page 138


1238:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->fs->winsect = clust2sect(dp->fs, clst);	/* Cluster start sector */
 4336              		.loc 1 1238 6 is_stmt 1 view .LVU1391
1238:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->fs->winsect = clust2sect(dp->fs, clst);	/* Cluster start sector */
 4337              		.loc 1 1238 16 is_stmt 0 view .LVU1392
 4338 00de 04F58057 		add	r7, r4, #4096
 4339              	.LVL464:
1238:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->fs->winsect = clust2sect(dp->fs, clst);	/* Cluster start sector */
 4340              		.loc 1 1238 16 view .LVU1393
 4341 00e2 3868     		ldr	r0, [r7]
1238:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->fs->winsect = clust2sect(dp->fs, clst);	/* Cluster start sector */
 4342              		.loc 1 1238 33 view .LVU1394
 4343 00e4 00F58053 		add	r3, r0, #4096
1238:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->fs->winsect = clust2sect(dp->fs, clst);	/* Cluster start sector */
 4344              		.loc 1 1238 6 view .LVU1395
 4345 00e8 5A89     		ldrh	r2, [r3, #10]
 4346 00ea 0021     		movs	r1, #0
 4347 00ec FFF7FEFF 		bl	mem_set
 4348              	.LVL465:
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (c = 0; c < dp->fs->csize; c++) {		/* Fill the new cluster with 0 */
 4349              		.loc 1 1239 6 is_stmt 1 view .LVU1396
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (c = 0; c < dp->fs->csize; c++) {		/* Fill the new cluster with 0 */
 4350              		.loc 1 1239 24 is_stmt 0 view .LVU1397
 4351 00f0 3F68     		ldr	r7, [r7]
 4352 00f2 4946     		mov	r1, r9
 4353 00f4 3846     		mov	r0, r7
 4354 00f6 FFF7FEFF 		bl	clust2sect
 4355              	.LVL466:
1239:Middlewares/Third_Party/FatFs/src/ff.c **** 					for (c = 0; c < dp->fs->csize; c++) {		/* Fill the new cluster with 0 */
 4356              		.loc 1 1239 22 view .LVU1398
 4357 00fa 07F58057 		add	r7, r7, #4096
 4358 00fe F862     		str	r0, [r7, #44]
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4359              		.loc 1 1240 6 is_stmt 1 view .LVU1399
 4360              	.LVL467:
 4361              	.L330:
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4362              		.loc 1 1240 18 discriminator 1 view .LVU1400
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4363              		.loc 1 1240 24 is_stmt 0 discriminator 1 view .LVU1401
 4364 0100 04F58053 		add	r3, r4, #4096
 4365 0104 1B68     		ldr	r3, [r3]
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4366              		.loc 1 1240 28 discriminator 1 view .LVU1402
 4367 0106 03F58052 		add	r2, r3, #4096
 4368 010a 9278     		ldrb	r2, [r2, #2]	@ zero_extendqisi2
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4369              		.loc 1 1240 6 discriminator 1 view .LVU1403
 4370 010c 4245     		cmp	r2, r8
 4371 010e 14D9     		bls	.L346
1241:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(dp->fs)) return FR_DISK_ERR;
 4372              		.loc 1 1241 7 is_stmt 1 view .LVU1404
1241:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (sync_window(dp->fs)) return FR_DISK_ERR;
 4373              		.loc 1 1241 21 is_stmt 0 view .LVU1405
 4374 0110 03F58053 		add	r3, r3, #4096
 4375 0114 0122     		movs	r2, #1
 4376 0116 1A71     		strb	r2, [r3, #4]
1242:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->winsect++;
ARM GAS  /tmp/cc9KJrYz.s 			page 139


 4377              		.loc 1 1242 7 is_stmt 1 view .LVU1406
1242:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->winsect++;
 4378              		.loc 1 1242 11 is_stmt 0 view .LVU1407
 4379 0118 04F58053 		add	r3, r4, #4096
 4380 011c 1868     		ldr	r0, [r3]
 4381 011e FFF7FEFF 		bl	sync_window
 4382              	.LVL468:
1242:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->winsect++;
 4383              		.loc 1 1242 10 view .LVU1408
 4384 0122 60BB     		cbnz	r0, .L342
1243:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4385              		.loc 1 1243 7 is_stmt 1 discriminator 2 view .LVU1409
1243:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4386              		.loc 1 1243 9 is_stmt 0 discriminator 2 view .LVU1410
 4387 0124 04F58053 		add	r3, r4, #4096
 4388 0128 1B68     		ldr	r3, [r3]
1243:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4389              		.loc 1 1243 13 discriminator 2 view .LVU1411
 4390 012a 03F58053 		add	r3, r3, #4096
 4391 012e DA6A     		ldr	r2, [r3, #44]
1243:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4392              		.loc 1 1243 22 discriminator 2 view .LVU1412
 4393 0130 0132     		adds	r2, r2, #1
 4394 0132 DA62     		str	r2, [r3, #44]
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4395              		.loc 1 1240 37 is_stmt 1 discriminator 2 view .LVU1413
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4396              		.loc 1 1240 38 is_stmt 0 discriminator 2 view .LVU1414
 4397 0134 08F10108 		add	r8, r8, #1
 4398              	.LVL469:
1240:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->wflag = 1;
 4399              		.loc 1 1240 38 discriminator 2 view .LVU1415
 4400 0138 E2E7     		b	.L330
 4401              	.L346:
1245:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4402              		.loc 1 1245 6 is_stmt 1 view .LVU1416
1245:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 4403              		.loc 1 1245 22 is_stmt 0 view .LVU1417
 4404 013a 03F58053 		add	r3, r3, #4096
 4405 013e DA6A     		ldr	r2, [r3, #44]
 4406 0140 A2EB0802 		sub	r2, r2, r8
 4407 0144 DA62     		str	r2, [r3, #44]
 4408              	.LVL470:
 4409              	.L329:
1251:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(dp->fs, clst);
 4410              		.loc 1 1251 5 is_stmt 1 view .LVU1418
1251:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = clust2sect(dp->fs, clst);
 4411              		.loc 1 1251 15 is_stmt 0 view .LVU1419
 4412 0146 04F58057 		add	r7, r4, #4096
 4413 014a C7F80C90 		str	r9, [r7, #12]
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4414              		.loc 1 1252 5 is_stmt 1 view .LVU1420
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4415              		.loc 1 1252 16 is_stmt 0 view .LVU1421
 4416 014e 4946     		mov	r1, r9
 4417 0150 3868     		ldr	r0, [r7]
 4418 0152 FFF7FEFF 		bl	clust2sect
ARM GAS  /tmp/cc9KJrYz.s 			page 140


 4419              	.LVL471:
1252:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4420              		.loc 1 1252 14 view .LVU1422
 4421 0156 3861     		str	r0, [r7, #16]
 4422 0158 7AE7     		b	.L327
 4423              	.LVL472:
 4424              	.L332:
1215:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4425              		.loc 1 1215 10 view .LVU1423
 4426 015a 0420     		movs	r0, #4
 4427              	.LVL473:
1215:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4428              		.loc 1 1215 10 view .LVU1424
 4429 015c 89E7     		b	.L326
 4430              	.LVL474:
 4431              	.L333:
1215:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4432              		.loc 1 1215 10 view .LVU1425
 4433 015e 0420     		movs	r0, #4
 4434              	.LVL475:
1215:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4435              		.loc 1 1215 10 view .LVU1426
 4436 0160 87E7     		b	.L326
 4437              	.LVL476:
 4438              	.L344:
1222:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4439              		.loc 1 1222 12 view .LVU1427
 4440 0162 0420     		movs	r0, #4
 4441 0164 85E7     		b	.L326
 4442              	.LVL477:
 4443              	.L335:
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4444              		.loc 1 1227 27 view .LVU1428
 4445 0166 0220     		movs	r0, #2
 4446              	.LVL478:
1227:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4447              		.loc 1 1227 27 view .LVU1429
 4448 0168 83E7     		b	.L326
 4449              	.LVL479:
 4450              	.L336:
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= dp->fs->n_fatent) {					/* If it reached end of dynamic table, */
 4451              		.loc 1 1228 36 view .LVU1430
 4452 016a 0120     		movs	r0, #1
 4453              	.LVL480:
1228:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst >= dp->fs->n_fatent) {					/* If it reached end of dynamic table, */
 4454              		.loc 1 1228 36 view .LVU1431
 4455 016c 81E7     		b	.L326
 4456              	.L337:
1231:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(dp->fs, dp->clust);		/* Stretch cluster chain */
 4457              		.loc 1 1231 27 view .LVU1432
 4458 016e 0420     		movs	r0, #4
 4459 0170 7FE7     		b	.L326
 4460              	.LVL481:
 4461              	.L338:
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;
 4462              		.loc 1 1233 28 view .LVU1433
 4463 0172 0720     		movs	r0, #7
ARM GAS  /tmp/cc9KJrYz.s 			page 141


 4464              	.LVL482:
1233:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) return FR_INT_ERR;
 4465              		.loc 1 1233 28 view .LVU1434
 4466 0174 7DE7     		b	.L326
 4467              	.LVL483:
 4468              	.L339:
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4469              		.loc 1 1234 28 view .LVU1435
 4470 0176 0220     		movs	r0, #2
 4471              	.LVL484:
1234:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) return FR_DISK_ERR;
 4472              		.loc 1 1234 28 view .LVU1436
 4473 0178 7BE7     		b	.L326
 4474              	.LVL485:
 4475              	.L340:
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up stretched table */
 4476              		.loc 1 1235 37 view .LVU1437
 4477 017a 0120     		movs	r0, #1
 4478              	.LVL486:
1235:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Clean-up stretched table */
 4479              		.loc 1 1235 37 view .LVU1438
 4480 017c 79E7     		b	.L326
 4481              	.LVL487:
 4482              	.L342:
1242:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->fs->winsect++;
 4483              		.loc 1 1242 39 view .LVU1439
 4484 017e 0120     		movs	r0, #1
 4485 0180 77E7     		b	.L326
 4486              		.cfi_endproc
 4487              	.LFE91:
 4489              		.section	.text.dir_find,"ax",%progbits
 4490              		.align	1
 4491              		.syntax unified
 4492              		.thumb
 4493              		.thumb_func
 4494              		.fpu softvfp
 4496              	dir_find:
 4497              	.LVL488:
 4498              	.LFB95:
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4499              		.loc 1 1531 1 is_stmt 1 view -0
 4500              		.cfi_startproc
 4501              		@ args = 0, pretend = 0, frame = 0
 4502              		@ frame_needed = 0, uses_anonymous_args = 0
1531:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4503              		.loc 1 1531 1 is_stmt 0 view .LVU1441
 4504 0000 38B5     		push	{r3, r4, r5, lr}
 4505              	.LCFI36:
 4506              		.cfi_def_cfa_offset 16
 4507              		.cfi_offset 3, -16
 4508              		.cfi_offset 4, -12
 4509              		.cfi_offset 5, -8
 4510              		.cfi_offset 14, -4
 4511 0002 0446     		mov	r4, r0
1532:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE c, *dir;
 4512              		.loc 1 1532 2 is_stmt 1 view .LVU1442
1533:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
ARM GAS  /tmp/cc9KJrYz.s 			page 142


 4513              		.loc 1 1533 2 view .LVU1443
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
 4514              		.loc 1 1538 2 view .LVU1444
1538:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) return res;
 4515              		.loc 1 1538 8 is_stmt 0 view .LVU1445
 4516 0004 0021     		movs	r1, #0
 4517 0006 FFF7FEFF 		bl	dir_sdi
 4518              	.LVL489:
1539:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4519              		.loc 1 1539 2 is_stmt 1 view .LVU1446
1539:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4520              		.loc 1 1539 5 is_stmt 0 view .LVU1447
 4521 000a 0546     		mov	r5, r0
 4522 000c 40B1     		cbz	r0, .L350
 4523              	.LVL490:
 4524              	.L348:
1579:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4525              		.loc 1 1579 1 view .LVU1448
 4526 000e 2846     		mov	r0, r5
 4527 0010 38BD     		pop	{r3, r4, r5, pc}
 4528              	.LVL491:
 4529              	.L349:
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
 4530              		.loc 1 1575 3 is_stmt 1 view .LVU1449
1575:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (res == FR_OK);
 4531              		.loc 1 1575 9 is_stmt 0 view .LVU1450
 4532 0012 0021     		movs	r1, #0
 4533 0014 2046     		mov	r0, r4
 4534 0016 FFF7FEFF 		bl	dir_next
 4535              	.LVL492:
1576:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4536              		.loc 1 1576 10 is_stmt 1 view .LVU1451
1576:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4537              		.loc 1 1576 2 is_stmt 0 view .LVU1452
 4538 001a 0546     		mov	r5, r0
 4539 001c 0028     		cmp	r0, #0
 4540 001e F6D1     		bne	.L348
 4541              	.L350:
1544:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4542              		.loc 1 1544 2 is_stmt 1 view .LVU1453
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4543              		.loc 1 1545 3 view .LVU1454
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4544              		.loc 1 1545 9 is_stmt 0 view .LVU1455
 4545 0020 04F58053 		add	r3, r4, #4096
 4546 0024 1969     		ldr	r1, [r3, #16]
 4547 0026 1868     		ldr	r0, [r3]
 4548              	.LVL493:
1545:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 4549              		.loc 1 1545 9 view .LVU1456
 4550 0028 FFF7FEFF 		bl	move_window
 4551              	.LVL494:
1546:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
 4552              		.loc 1 1546 3 is_stmt 1 view .LVU1457
1546:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
 4553              		.loc 1 1546 6 is_stmt 0 view .LVU1458
 4554 002c 0546     		mov	r5, r0
ARM GAS  /tmp/cc9KJrYz.s 			page 143


 4555 002e 0028     		cmp	r0, #0
 4556 0030 EDD1     		bne	.L348
1547:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
 4557              		.loc 1 1547 3 is_stmt 1 view .LVU1459
1547:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
 4558              		.loc 1 1547 7 is_stmt 0 view .LVU1460
 4559 0032 04F58053 		add	r3, r4, #4096
 4560 0036 5869     		ldr	r0, [r3, #20]
 4561              	.LVL495:
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 4562              		.loc 1 1548 3 is_stmt 1 view .LVU1461
1548:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 4563              		.loc 1 1548 5 is_stmt 0 view .LVU1462
 4564 0038 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 4565              	.LVL496:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4566              		.loc 1 1549 3 is_stmt 1 view .LVU1463
1549:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4567              		.loc 1 1549 6 is_stmt 0 view .LVU1464
 4568 003a 63B1     		cbz	r3, .L351
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4569              		.loc 1 1572 3 is_stmt 1 view .LVU1465
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4570              		.loc 1 1572 12 is_stmt 0 view .LVU1466
 4571 003c C37A     		ldrb	r3, [r0, #11]	@ zero_extendqisi2
 4572              	.LVL497:
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4573              		.loc 1 1572 6 view .LVU1467
 4574 003e 13F0080F 		tst	r3, #8
 4575 0042 E6D1     		bne	.L349
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4576              		.loc 1 1572 52 discriminator 1 view .LVU1468
 4577 0044 04F58053 		add	r3, r4, #4096
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4578              		.loc 1 1572 37 discriminator 1 view .LVU1469
 4579 0048 0B22     		movs	r2, #11
 4580 004a 9969     		ldr	r1, [r3, #24]
 4581 004c FFF7FEFF 		bl	mem_cmp
 4582              	.LVL498:
1572:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 4583              		.loc 1 1572 33 discriminator 1 view .LVU1470
 4584 0050 0028     		cmp	r0, #0
 4585 0052 DED1     		bne	.L349
 4586 0054 DBE7     		b	.L348
 4587              	.LVL499:
 4588              	.L351:
1549:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 4589              		.loc 1 1549 21 view .LVU1471
 4590 0056 0425     		movs	r5, #4
 4591 0058 D9E7     		b	.L348
 4592              		.cfi_endproc
 4593              	.LFE95:
 4595              		.section	.text.follow_path,"ax",%progbits
 4596              		.align	1
 4597              		.syntax unified
 4598              		.thumb
 4599              		.thumb_func
ARM GAS  /tmp/cc9KJrYz.s 			page 144


 4600              		.fpu softvfp
 4602              	follow_path:
 4603              	.LVL500:
 4604              	.LFB101:
2129:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4605              		.loc 1 2129 1 is_stmt 1 view -0
 4606              		.cfi_startproc
 4607              		@ args = 0, pretend = 0, frame = 8
 4608              		@ frame_needed = 0, uses_anonymous_args = 0
2129:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4609              		.loc 1 2129 1 is_stmt 0 view .LVU1473
 4610 0000 30B5     		push	{r4, r5, lr}
 4611              	.LCFI37:
 4612              		.cfi_def_cfa_offset 12
 4613              		.cfi_offset 4, -12
 4614              		.cfi_offset 5, -8
 4615              		.cfi_offset 14, -4
 4616 0002 83B0     		sub	sp, sp, #12
 4617              	.LCFI38:
 4618              		.cfi_def_cfa_offset 24
 4619 0004 0446     		mov	r4, r0
 4620 0006 0191     		str	r1, [sp, #4]
2130:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir, ns;
 4621              		.loc 1 2130 2 is_stmt 1 view .LVU1474
2131:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4622              		.loc 1 2131 2 view .LVU1475
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;
 4623              		.loc 1 2141 2 view .LVU1476
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;
 4624              		.loc 1 2141 6 is_stmt 0 view .LVU1477
 4625 0008 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;
 4626              		.loc 1 2141 5 view .LVU1478
 4627 000a 2F2B     		cmp	r3, #47
 4628 000c 01D0     		beq	.L354
2141:Middlewares/Third_Party/FatFs/src/ff.c **** 		path++;
 4629              		.loc 1 2141 19 discriminator 1 view .LVU1479
 4630 000e 5C2B     		cmp	r3, #92
 4631 0010 01D1     		bne	.L355
 4632              	.L354:
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sclust = 0;							/* Always start from the root directory */
 4633              		.loc 1 2142 3 is_stmt 1 view .LVU1480
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sclust = 0;							/* Always start from the root directory */
 4634              		.loc 1 2142 7 is_stmt 0 view .LVU1481
 4635 0012 0131     		adds	r1, r1, #1
 4636              	.LVL501:
2142:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->sclust = 0;							/* Always start from the root directory */
 4637              		.loc 1 2142 7 view .LVU1482
 4638 0014 0191     		str	r1, [sp, #4]
 4639              	.LVL502:
 4640              	.L355:
2143:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4641              		.loc 1 2143 2 is_stmt 1 view .LVU1483
2143:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4642              		.loc 1 2143 13 is_stmt 0 view .LVU1484
 4643 0016 04F58053 		add	r3, r4, #4096
 4644 001a 0022     		movs	r2, #0
ARM GAS  /tmp/cc9KJrYz.s 			page 145


 4645 001c 9A60     		str	r2, [r3, #8]
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 4646              		.loc 1 2146 2 is_stmt 1 view .LVU1485
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 4647              		.loc 1 2146 12 is_stmt 0 view .LVU1486
 4648 001e 019B     		ldr	r3, [sp, #4]
 4649 0020 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
2146:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(dp, 0);
 4650              		.loc 1 2146 5 view .LVU1487
 4651 0022 1F2B     		cmp	r3, #31
 4652 0024 1FD9     		bls	.L362
 4653              	.LVL503:
 4654              	.L356:
2150:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
 4655              		.loc 1 2150 3 is_stmt 1 view .LVU1488
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4656              		.loc 1 2151 4 view .LVU1489
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4657              		.loc 1 2151 10 is_stmt 0 view .LVU1490
 4658 0026 01A9     		add	r1, sp, #4
 4659 0028 2046     		mov	r0, r4
 4660 002a FFF7FEFF 		bl	create_name
 4661              	.LVL504:
2152:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the sagment name */
 4662              		.loc 1 2152 4 is_stmt 1 view .LVU1491
2152:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_find(dp);				/* Find an object with the sagment name */
 4663              		.loc 1 2152 7 is_stmt 0 view .LVU1492
 4664 002e 0346     		mov	r3, r0
 4665 0030 10BB     		cbnz	r0, .L357
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 4666              		.loc 1 2153 4 is_stmt 1 view .LVU1493
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 4667              		.loc 1 2153 10 is_stmt 0 view .LVU1494
 4668 0032 2046     		mov	r0, r4
 4669              	.LVL505:
2153:Middlewares/Third_Party/FatFs/src/ff.c **** 			ns = dp->fn[NSFLAG];
 4670              		.loc 1 2153 10 view .LVU1495
 4671 0034 FFF7FEFF 		bl	dir_find
 4672              	.LVL506:
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 4673              		.loc 1 2154 4 is_stmt 1 view .LVU1496
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 4674              		.loc 1 2154 11 is_stmt 0 view .LVU1497
 4675 0038 04F58053 		add	r3, r4, #4096
 4676 003c 9B69     		ldr	r3, [r3, #24]
2154:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {				/* Failed to find the object */
 4677              		.loc 1 2154 7 view .LVU1498
 4678 003e DA7A     		ldrb	r2, [r3, #11]	@ zero_extendqisi2
 4679              	.LVL507:
2155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 4680              		.loc 1 2155 4 is_stmt 1 view .LVU1499
2155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {	/* Object is not found */
 4681              		.loc 1 2155 7 is_stmt 0 view .LVU1500
 4682 0040 0346     		mov	r3, r0
 4683 0042 E0B9     		cbnz	r0, .L363
2167:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dp->dir;						/* Follow the sub-directory */
 4684              		.loc 1 2167 4 is_stmt 1 view .LVU1501
ARM GAS  /tmp/cc9KJrYz.s 			page 146


2167:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dp->dir;						/* Follow the sub-directory */
 4685              		.loc 1 2167 7 is_stmt 0 view .LVU1502
 4686 0044 12F0040F 		tst	r2, #4
 4687 0048 16D1     		bne	.L357
2168:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dir[DIR_Attr] & AM_DIR)) {	/* It is not a sub-directory and cannot follow */
 4688              		.loc 1 2168 4 is_stmt 1 view .LVU1503
2168:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(dir[DIR_Attr] & AM_DIR)) {	/* It is not a sub-directory and cannot follow */
 4689              		.loc 1 2168 8 is_stmt 0 view .LVU1504
 4690 004a 04F58053 		add	r3, r4, #4096
 4691 004e 5969     		ldr	r1, [r3, #20]
 4692              	.LVL508:
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 4693              		.loc 1 2169 4 is_stmt 1 view .LVU1505
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 4694              		.loc 1 2169 13 is_stmt 0 view .LVU1506
 4695 0050 CB7A     		ldrb	r3, [r1, #11]	@ zero_extendqisi2
2169:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_PATH; break;
 4696              		.loc 1 2169 7 view .LVU1507
 4697 0052 13F0100F 		tst	r3, #16
 4698 0056 19D0     		beq	.L360
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4699              		.loc 1 2172 4 is_stmt 1 view .LVU1508
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4700              		.loc 1 2172 17 is_stmt 0 view .LVU1509
 4701 0058 04F58055 		add	r5, r4, #4096
 4702 005c 2868     		ldr	r0, [r5]
 4703              	.LVL509:
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4704              		.loc 1 2172 17 view .LVU1510
 4705 005e FFF7FEFF 		bl	ld_clust
 4706              	.LVL510:
2172:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4707              		.loc 1 2172 15 view .LVU1511
 4708 0062 A860     		str	r0, [r5, #8]
2150:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = create_name(dp, &path);	/* Get a segment name of the path */
 4709              		.loc 1 2150 9 is_stmt 1 view .LVU1512
2151:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4710              		.loc 1 2151 8 is_stmt 0 view .LVU1513
 4711 0064 DFE7     		b	.L356
 4712              	.LVL511:
 4713              	.L362:
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir = 0;
 4714              		.loc 1 2147 3 is_stmt 1 view .LVU1514
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir = 0;
 4715              		.loc 1 2147 9 is_stmt 0 view .LVU1515
 4716 0066 1146     		mov	r1, r2
 4717 0068 2046     		mov	r0, r4
 4718              	.LVL512:
2147:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->dir = 0;
 4719              		.loc 1 2147 9 view .LVU1516
 4720 006a FFF7FEFF 		bl	dir_sdi
 4721              	.LVL513:
 4722 006e 0346     		mov	r3, r0
 4723              	.LVL514:
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Follow path */
 4724              		.loc 1 2148 3 is_stmt 1 view .LVU1517
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Follow path */
ARM GAS  /tmp/cc9KJrYz.s 			page 147


 4725              		.loc 1 2148 11 is_stmt 0 view .LVU1518
 4726 0070 04F58054 		add	r4, r4, #4096
 4727              	.LVL515:
2148:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {								/* Follow path */
 4728              		.loc 1 2148 11 view .LVU1519
 4729 0074 0022     		movs	r2, #0
 4730 0076 6261     		str	r2, [r4, #20]
 4731              	.LVL516:
 4732              	.L357:
2176:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4733              		.loc 1 2176 2 is_stmt 1 view .LVU1520
2177:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4734              		.loc 1 2177 1 is_stmt 0 view .LVU1521
 4735 0078 1846     		mov	r0, r3
 4736 007a 03B0     		add	sp, sp, #12
 4737              	.LCFI39:
 4738              		.cfi_remember_state
 4739              		.cfi_def_cfa_offset 12
 4740              		@ sp needed
 4741 007c 30BD     		pop	{r4, r5, pc}
 4742              	.LVL517:
 4743              	.L363:
 4744              	.LCFI40:
 4745              		.cfi_restore_state
2156:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, */
 4746              		.loc 1 2156 5 is_stmt 1 view .LVU1522
2156:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (_FS_RPATH && (ns & NS_DOT)) {	/* If dot entry is not exist, */
 4747              		.loc 1 2156 8 is_stmt 0 view .LVU1523
 4748 007e 0428     		cmp	r0, #4
 4749 0080 FAD1     		bne	.L357
2157:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->sclust = 0; dp->dir = 0;	/* it is the root directory and stay there */
 4750              		.loc 1 2157 6 is_stmt 1 view .LVU1524
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4751              		.loc 1 2162 7 view .LVU1525
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4752              		.loc 1 2162 10 is_stmt 0 view .LVU1526
 4753 0082 12F0040F 		tst	r2, #4
 4754 0086 F7D1     		bne	.L357
2162:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 4755              		.loc 1 2162 32 view .LVU1527
 4756 0088 0523     		movs	r3, #5
 4757 008a F5E7     		b	.L357
 4758              	.LVL518:
 4759              	.L360:
2170:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4760              		.loc 1 2170 9 view .LVU1528
 4761 008c 0523     		movs	r3, #5
 4762 008e F3E7     		b	.L357
 4763              		.cfi_endproc
 4764              	.LFE101:
 4766              		.section	.text.dir_alloc,"ax",%progbits
 4767              		.align	1
 4768              		.syntax unified
 4769              		.thumb
 4770              		.thumb_func
 4771              		.fpu softvfp
 4773              	dir_alloc:
ARM GAS  /tmp/cc9KJrYz.s 			page 148


 4774              	.LVL519:
 4775              	.LFB92:
1276:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4776              		.loc 1 1276 1 is_stmt 1 view -0
 4777              		.cfi_startproc
 4778              		@ args = 0, pretend = 0, frame = 0
 4779              		@ frame_needed = 0, uses_anonymous_args = 0
1276:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4780              		.loc 1 1276 1 is_stmt 0 view .LVU1530
 4781 0000 70B5     		push	{r4, r5, r6, lr}
 4782              	.LCFI41:
 4783              		.cfi_def_cfa_offset 16
 4784              		.cfi_offset 4, -16
 4785              		.cfi_offset 5, -12
 4786              		.cfi_offset 6, -8
 4787              		.cfi_offset 14, -4
 4788 0002 0446     		mov	r4, r0
 4789 0004 0E46     		mov	r6, r1
1277:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT n;
 4790              		.loc 1 1277 2 is_stmt 1 view .LVU1531
1278:Middlewares/Third_Party/FatFs/src/ff.c **** 
 4791              		.loc 1 1278 2 view .LVU1532
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4792              		.loc 1 1281 2 view .LVU1533
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4793              		.loc 1 1281 8 is_stmt 0 view .LVU1534
 4794 0006 0021     		movs	r1, #0
 4795              	.LVL520:
1281:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 4796              		.loc 1 1281 8 view .LVU1535
 4797 0008 FFF7FEFF 		bl	dir_sdi
 4798              	.LVL521:
1282:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
 4799              		.loc 1 1282 2 is_stmt 1 view .LVU1536
1282:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = 0;
 4800              		.loc 1 1282 5 is_stmt 0 view .LVU1537
 4801 000c 0246     		mov	r2, r0
 4802 000e E0B9     		cbnz	r0, .L365
1283:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 4803              		.loc 1 1283 5 view .LVU1538
 4804 0010 0025     		movs	r5, #0
 4805 0012 08E0     		b	.L368
 4806              	.LVL522:
 4807              	.L366:
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4808              		.loc 1 1288 5 is_stmt 1 view .LVU1539
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4809              		.loc 1 1288 8 is_stmt 0 view .LVU1540
 4810 0014 0135     		adds	r5, r5, #1
 4811              	.LVL523:
1288:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 4812              		.loc 1 1288 8 view .LVU1541
 4813 0016 B542     		cmp	r5, r6
 4814 0018 17D0     		beq	.L365
 4815              	.LVL524:
 4816              	.L367:
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
ARM GAS  /tmp/cc9KJrYz.s 			page 149


 4817              		.loc 1 1292 4 is_stmt 1 view .LVU1542
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
 4818              		.loc 1 1292 10 is_stmt 0 view .LVU1543
 4819 001a 0121     		movs	r1, #1
 4820 001c 2046     		mov	r0, r4
 4821              	.LVL525:
1292:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (res == FR_OK);
 4822              		.loc 1 1292 10 view .LVU1544
 4823 001e FFF7FEFF 		bl	dir_next
 4824              	.LVL526:
1293:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4825              		.loc 1 1293 11 is_stmt 1 view .LVU1545
1293:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 4826              		.loc 1 1293 3 is_stmt 0 view .LVU1546
 4827 0022 0246     		mov	r2, r0
 4828 0024 88B9     		cbnz	r0, .L365
 4829              	.LVL527:
 4830              	.L368:
1284:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(dp->fs, dp->sect);
 4831              		.loc 1 1284 3 is_stmt 1 view .LVU1547
1285:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4832              		.loc 1 1285 4 view .LVU1548
1285:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4833              		.loc 1 1285 10 is_stmt 0 view .LVU1549
 4834 0026 04F58053 		add	r3, r4, #4096
 4835 002a 1969     		ldr	r1, [r3, #16]
 4836 002c 1868     		ldr	r0, [r3]
 4837              	.LVL528:
1285:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 4838              		.loc 1 1285 10 view .LVU1550
 4839 002e FFF7FEFF 		bl	move_window
 4840              	.LVL529:
1286:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir[0] == DDEM || dp->dir[0] == 0) {	/* Is it a free entry? */
 4841              		.loc 1 1286 4 is_stmt 1 view .LVU1551
1286:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir[0] == DDEM || dp->dir[0] == 0) {	/* Is it a free entry? */
 4842              		.loc 1 1286 7 is_stmt 0 view .LVU1552
 4843 0032 0246     		mov	r2, r0
 4844 0034 48B9     		cbnz	r0, .L365
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
 4845              		.loc 1 1287 4 is_stmt 1 view .LVU1553
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
 4846              		.loc 1 1287 10 is_stmt 0 view .LVU1554
 4847 0036 04F58053 		add	r3, r4, #4096
 4848 003a 5B69     		ldr	r3, [r3, #20]
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
 4849              		.loc 1 1287 15 view .LVU1555
 4850 003c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
 4851              		.loc 1 1287 7 view .LVU1556
 4852 003e E52B     		cmp	r3, #229
 4853 0040 E8D0     		beq	.L366
1287:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (++n == nent) break;	/* A block of contiguous free entries is found */
 4854              		.loc 1 1287 27 discriminator 1 view .LVU1557
 4855 0042 002B     		cmp	r3, #0
 4856 0044 E6D0     		beq	.L366
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4857              		.loc 1 1290 7 view .LVU1558
ARM GAS  /tmp/cc9KJrYz.s 			page 150


 4858 0046 0025     		movs	r5, #0
 4859              	.LVL530:
1290:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 4860              		.loc 1 1290 7 view .LVU1559
 4861 0048 E7E7     		b	.L367
 4862              	.L365:
 4863              	.LVL531:
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4864              		.loc 1 1295 2 is_stmt 1 view .LVU1560
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4865              		.loc 1 1295 5 is_stmt 0 view .LVU1561
 4866 004a 042A     		cmp	r2, #4
 4867 004c 01D0     		beq	.L373
 4868              	.LVL532:
 4869              	.L369:
1296:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4870              		.loc 1 1296 2 is_stmt 1 view .LVU1562
1297:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4871              		.loc 1 1297 1 is_stmt 0 view .LVU1563
 4872 004e 1046     		mov	r0, r2
 4873 0050 70BD     		pop	{r4, r5, r6, pc}
 4874              	.LVL533:
 4875              	.L373:
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4876              		.loc 1 1295 29 view .LVU1564
 4877 0052 0722     		movs	r2, #7
 4878              	.LVL534:
1295:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
 4879              		.loc 1 1295 29 view .LVU1565
 4880 0054 FBE7     		b	.L369
 4881              		.cfi_endproc
 4882              	.LFE92:
 4884              		.section	.text.dir_register,"ax",%progbits
 4885              		.align	1
 4886              		.syntax unified
 4887              		.thumb
 4888              		.thumb_func
 4889              		.fpu softvfp
 4891              	dir_register:
 4892              	.LVL535:
 4893              	.LFB97:
1651:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4894              		.loc 1 1651 1 is_stmt 1 view -0
 4895              		.cfi_startproc
 4896              		@ args = 0, pretend = 0, frame = 0
 4897              		@ frame_needed = 0, uses_anonymous_args = 0
1651:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4898              		.loc 1 1651 1 is_stmt 0 view .LVU1567
 4899 0000 38B5     		push	{r3, r4, r5, lr}
 4900              	.LCFI42:
 4901              		.cfi_def_cfa_offset 16
 4902              		.cfi_offset 3, -16
 4903              		.cfi_offset 4, -12
 4904              		.cfi_offset 5, -8
 4905              		.cfi_offset 14, -4
 4906 0002 0446     		mov	r4, r0
1652:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
ARM GAS  /tmp/cc9KJrYz.s 			page 151


 4907              		.loc 1 1652 2 is_stmt 1 view .LVU1568
1699:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4908              		.loc 1 1699 2 view .LVU1569
1699:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 4909              		.loc 1 1699 8 is_stmt 0 view .LVU1570
 4910 0004 0121     		movs	r1, #1
 4911 0006 FFF7FEFF 		bl	dir_alloc
 4912              	.LVL536:
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4913              		.loc 1 1702 2 is_stmt 1 view .LVU1571
1702:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4914              		.loc 1 1702 5 is_stmt 0 view .LVU1572
 4915 000a 0546     		mov	r5, r0
 4916 000c 08B1     		cbz	r0, .L377
 4917              	.LVL537:
 4918              	.L375:
1714:Middlewares/Third_Party/FatFs/src/ff.c **** }
 4919              		.loc 1 1714 2 is_stmt 1 view .LVU1573
1715:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
 4920              		.loc 1 1715 1 is_stmt 0 view .LVU1574
 4921 000e 2846     		mov	r0, r5
 4922 0010 38BD     		pop	{r3, r4, r5, pc}
 4923              	.LVL538:
 4924              	.L377:
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 4925              		.loc 1 1703 3 is_stmt 1 view .LVU1575
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 4926              		.loc 1 1703 9 is_stmt 0 view .LVU1576
 4927 0012 04F58053 		add	r3, r4, #4096
 4928 0016 1969     		ldr	r1, [r3, #16]
 4929 0018 1868     		ldr	r0, [r3]
 4930              	.LVL539:
1703:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 4931              		.loc 1 1703 9 view .LVU1577
 4932 001a FFF7FEFF 		bl	move_window
 4933              	.LVL540:
1704:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clean the entry */
 4934              		.loc 1 1704 3 is_stmt 1 view .LVU1578
1704:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(dp->dir, 0, SZ_DIRE);	/* Clean the entry */
 4935              		.loc 1 1704 6 is_stmt 0 view .LVU1579
 4936 001e 0546     		mov	r5, r0
 4937 0020 0028     		cmp	r0, #0
 4938 0022 F4D1     		bne	.L375
1705:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir, dp->fn, 11);	/* Put SFN */
 4939              		.loc 1 1705 4 is_stmt 1 view .LVU1580
1705:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir, dp->fn, 11);	/* Put SFN */
 4940              		.loc 1 1705 14 is_stmt 0 view .LVU1581
 4941 0024 04F58054 		add	r4, r4, #4096
 4942              	.LVL541:
1705:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir, dp->fn, 11);	/* Put SFN */
 4943              		.loc 1 1705 4 view .LVU1582
 4944 0028 2022     		movs	r2, #32
 4945 002a 0021     		movs	r1, #0
 4946 002c 6069     		ldr	r0, [r4, #20]
 4947              	.LVL542:
1705:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_cpy(dp->dir, dp->fn, 11);	/* Put SFN */
 4948              		.loc 1 1705 4 view .LVU1583
ARM GAS  /tmp/cc9KJrYz.s 			page 152


 4949 002e FFF7FEFF 		bl	mem_set
 4950              	.LVL543:
1706:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 4951              		.loc 1 1706 4 is_stmt 1 view .LVU1584
 4952 0032 0B22     		movs	r2, #11
 4953 0034 A169     		ldr	r1, [r4, #24]
 4954 0036 6069     		ldr	r0, [r4, #20]
 4955 0038 FFF7FEFF 		bl	mem_cpy
 4956              	.LVL544:
1710:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4957              		.loc 1 1710 4 view .LVU1585
1710:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4958              		.loc 1 1710 6 is_stmt 0 view .LVU1586
 4959 003c 2368     		ldr	r3, [r4]
1710:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 4960              		.loc 1 1710 18 view .LVU1587
 4961 003e 03F58053 		add	r3, r3, #4096
 4962 0042 0122     		movs	r2, #1
 4963 0044 1A71     		strb	r2, [r3, #4]
 4964 0046 E2E7     		b	.L375
 4965              		.cfi_endproc
 4966              	.LFE97:
 4968              		.section	.text.dir_read,"ax",%progbits
 4969              		.align	1
 4970              		.syntax unified
 4971              		.thumb
 4972              		.thumb_func
 4973              		.fpu softvfp
 4975              	dir_read:
 4976              	.LVL545:
 4977              	.LFB96:
1593:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4978              		.loc 1 1593 1 is_stmt 1 view -0
 4979              		.cfi_startproc
 4980              		@ args = 0, pretend = 0, frame = 0
 4981              		@ frame_needed = 0, uses_anonymous_args = 0
1593:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 4982              		.loc 1 1593 1 is_stmt 0 view .LVU1589
 4983 0000 70B5     		push	{r4, r5, r6, lr}
 4984              	.LCFI43:
 4985              		.cfi_def_cfa_offset 16
 4986              		.cfi_offset 4, -16
 4987              		.cfi_offset 5, -12
 4988              		.cfi_offset 6, -8
 4989              		.cfi_offset 14, -4
 4990 0002 0446     		mov	r4, r0
 4991 0004 0D46     		mov	r5, r1
1594:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE a, c, *dir;
 4992              		.loc 1 1594 2 is_stmt 1 view .LVU1590
1595:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
 4993              		.loc 1 1595 2 view .LVU1591
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
 4994              		.loc 1 1600 2 view .LVU1592
 4995              	.LVL546:
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4996              		.loc 1 1601 2 view .LVU1593
1600:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (dp->sect) {
ARM GAS  /tmp/cc9KJrYz.s 			page 153


 4997              		.loc 1 1600 6 is_stmt 0 view .LVU1594
 4998 0006 0426     		movs	r6, #4
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 4999              		.loc 1 1601 8 view .LVU1595
 5000 0008 05E0     		b	.L379
 5001              	.LVL547:
 5002              	.L381:
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 5003              		.loc 1 1630 3 is_stmt 1 view .LVU1596
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 5004              		.loc 1 1630 9 is_stmt 0 view .LVU1597
 5005 000a 0021     		movs	r1, #0
 5006 000c 2046     		mov	r0, r4
 5007              	.LVL548:
1630:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 5008              		.loc 1 1630 9 view .LVU1598
 5009 000e FFF7FEFF 		bl	dir_next
 5010              	.LVL549:
1631:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5011              		.loc 1 1631 3 is_stmt 1 view .LVU1599
1631:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 5012              		.loc 1 1631 6 is_stmt 0 view .LVU1600
 5013 0012 0646     		mov	r6, r0
 5014 0014 10BB     		cbnz	r0, .L380
 5015              	.LVL550:
 5016              	.L379:
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 5017              		.loc 1 1601 8 is_stmt 1 view .LVU1601
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 5018              		.loc 1 1601 11 is_stmt 0 view .LVU1602
 5019 0016 04F58053 		add	r3, r4, #4096
 5020 001a 1969     		ldr	r1, [r3, #16]
1601:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dp->fs, dp->sect);
 5021              		.loc 1 1601 8 view .LVU1603
 5022 001c F1B1     		cbz	r1, .L380
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 5023              		.loc 1 1602 3 is_stmt 1 view .LVU1604
1602:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) break;
 5024              		.loc 1 1602 9 is_stmt 0 view .LVU1605
 5025 001e 04F58053 		add	r3, r4, #4096
 5026 0022 1868     		ldr	r0, [r3]
 5027 0024 FFF7FEFF 		bl	move_window
 5028              	.LVL551:
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
 5029              		.loc 1 1603 3 is_stmt 1 view .LVU1606
1603:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dp->dir;					/* Ptr to the directory entry of current index */
 5030              		.loc 1 1603 6 is_stmt 0 view .LVU1607
 5031 0028 0646     		mov	r6, r0
 5032 002a B8B9     		cbnz	r0, .L380
1604:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
 5033              		.loc 1 1604 3 is_stmt 1 view .LVU1608
1604:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = dir[DIR_Name];
 5034              		.loc 1 1604 7 is_stmt 0 view .LVU1609
 5035 002c 04F58053 		add	r3, r4, #4096
 5036 0030 5B69     		ldr	r3, [r3, #20]
 5037              	.LVL552:
1605:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
ARM GAS  /tmp/cc9KJrYz.s 			page 154


 5038              		.loc 1 1605 3 is_stmt 1 view .LVU1610
1605:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) { res = FR_NO_FILE; break; }	/* Reached to end of table */
 5039              		.loc 1 1605 5 is_stmt 0 view .LVU1611
 5040 0032 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 5041              	.LVL553:
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
 5042              		.loc 1 1606 3 is_stmt 1 view .LVU1612
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
 5043              		.loc 1 1606 6 is_stmt 0 view .LVU1613
 5044 0034 8AB1     		cbz	r2, .L384
1607:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 5045              		.loc 1 1607 3 is_stmt 1 view .LVU1614
1607:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 5046              		.loc 1 1607 10 is_stmt 0 view .LVU1615
 5047 0036 DB7A     		ldrb	r3, [r3, #11]	@ zero_extendqisi2
 5048              	.LVL554:
1607:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN	/* LFN configuration */
 5049              		.loc 1 1607 5 view .LVU1616
 5050 0038 03F03F03 		and	r3, r3, #63
 5051              	.LVL555:
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 5052              		.loc 1 1627 3 is_stmt 1 view .LVU1617
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 5053              		.loc 1 1627 6 is_stmt 0 view .LVU1618
 5054 003c E52A     		cmp	r2, #229
 5055 003e E4D0     		beq	.L381
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 5056              		.loc 1 1627 17 discriminator 1 view .LVU1619
 5057 0040 2E2A     		cmp	r2, #46
 5058 0042 E2D0     		beq	.L381
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 5059              		.loc 1 1627 44 discriminator 2 view .LVU1620
 5060 0044 0F2B     		cmp	r3, #15
 5061 0046 E0D0     		beq	.L381
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 5062              		.loc 1 1627 71 discriminator 3 view .LVU1621
 5063 0048 23F02003 		bic	r3, r3, #32
 5064              	.LVL556:
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 5065              		.loc 1 1627 62 discriminator 3 view .LVU1622
 5066 004c 082B     		cmp	r3, #8
 5067 004e 14BF     		ite	ne
 5068 0050 0023     		movne	r3, #0
 5069 0052 0123     		moveq	r3, #1
1627:Middlewares/Third_Party/FatFs/src/ff.c **** 			break;
 5070              		.loc 1 1627 59 discriminator 3 view .LVU1623
 5071 0054 AB42     		cmp	r3, r5
 5072 0056 D8D1     		bne	.L381
 5073 0058 00E0     		b	.L380
 5074              	.LVL557:
 5075              	.L384:
1606:Middlewares/Third_Party/FatFs/src/ff.c **** 		a = dir[DIR_Attr] & AM_MASK;
 5076              		.loc 1 1606 21 view .LVU1624
 5077 005a 0426     		movs	r6, #4
 5078              	.LVL558:
 5079              	.L380:
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9KJrYz.s 			page 155


 5080              		.loc 1 1634 2 is_stmt 1 view .LVU1625
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5081              		.loc 1 1634 5 is_stmt 0 view .LVU1626
 5082 005c 1EB1     		cbz	r6, .L383
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5083              		.loc 1 1634 20 is_stmt 1 discriminator 1 view .LVU1627
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5084              		.loc 1 1634 29 is_stmt 0 discriminator 1 view .LVU1628
 5085 005e 04F58054 		add	r4, r4, #4096
 5086              	.LVL559:
1634:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5087              		.loc 1 1634 29 discriminator 1 view .LVU1629
 5088 0062 0023     		movs	r3, #0
 5089 0064 2361     		str	r3, [r4, #16]
 5090              	.LVL560:
 5091              	.L383:
1636:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5092              		.loc 1 1636 2 is_stmt 1 view .LVU1630
1637:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2 */
 5093              		.loc 1 1637 1 is_stmt 0 view .LVU1631
 5094 0066 3046     		mov	r0, r6
 5095 0068 70BD     		pop	{r4, r5, r6, pc}
1637:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _FS_MINIMIZE <= 1 || _USE_LABEL || _FS_RPATH >= 2 */
 5096              		.loc 1 1637 1 view .LVU1632
 5097              		.cfi_endproc
 5098              	.LFE96:
 5100              		.section	.text.remove_chain,"ax",%progbits
 5101              		.align	1
 5102              		.syntax unified
 5103              		.thumb
 5104              		.thumb_func
 5105              		.fpu softvfp
 5107              	remove_chain:
 5108              	.LVL561:
 5109              	.LFB87:
1014:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5110              		.loc 1 1014 1 is_stmt 1 view -0
 5111              		.cfi_startproc
 5112              		@ args = 0, pretend = 0, frame = 0
 5113              		@ frame_needed = 0, uses_anonymous_args = 0
1014:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5114              		.loc 1 1014 1 is_stmt 0 view .LVU1634
 5115 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 5116              	.LCFI44:
 5117              		.cfi_def_cfa_offset 24
 5118              		.cfi_offset 3, -24
 5119              		.cfi_offset 4, -20
 5120              		.cfi_offset 5, -16
 5121              		.cfi_offset 6, -12
 5122              		.cfi_offset 7, -8
 5123              		.cfi_offset 14, -4
1015:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD nxt;
 5124              		.loc 1 1015 2 is_stmt 1 view .LVU1635
1016:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
 5125              		.loc 1 1016 2 view .LVU1636
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 5126              		.loc 1 1021 2 view .LVU1637
ARM GAS  /tmp/cc9KJrYz.s 			page 156


1021:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 5127              		.loc 1 1021 5 is_stmt 0 view .LVU1638
 5128 0002 0129     		cmp	r1, #1
 5129 0004 2FD9     		bls	.L391
 5130 0006 0446     		mov	r4, r0
 5131 0008 0D46     		mov	r5, r1
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 5132              		.loc 1 1021 28 discriminator 1 view .LVU1639
 5133 000a 00F58053 		add	r3, r0, #4096
 5134 000e 5B69     		ldr	r3, [r3, #20]
1021:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = FR_INT_ERR;
 5135              		.loc 1 1021 15 discriminator 1 view .LVU1640
 5136 0010 8B42     		cmp	r3, r1
 5137 0012 2BD9     		bls	.L392
1025:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (clst < fs->n_fatent) {			/* Not a last link? */
 5138              		.loc 1 1025 7 view .LVU1641
 5139 0014 0027     		movs	r7, #0
 5140 0016 00E0     		b	.L388
 5141              	.LVL562:
 5142              	.L389:
1014:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5143              		.loc 1 1014 1 view .LVU1642
 5144 0018 3546     		mov	r5, r6
 5145              	.LVL563:
 5146              	.L388:
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 			nxt = get_fat(fs, clst);			/* Get cluster status */
 5147              		.loc 1 1026 9 is_stmt 1 view .LVU1643
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 			nxt = get_fat(fs, clst);			/* Get cluster status */
 5148              		.loc 1 1026 19 is_stmt 0 view .LVU1644
 5149 001a 04F58053 		add	r3, r4, #4096
 5150 001e 5B69     		ldr	r3, [r3, #20]
1026:Middlewares/Third_Party/FatFs/src/ff.c **** 			nxt = get_fat(fs, clst);			/* Get cluster status */
 5151              		.loc 1 1026 9 view .LVU1645
 5152 0020 AB42     		cmp	r3, r5
 5153 0022 21D9     		bls	.L387
1027:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0) break;				/* Empty cluster? */
 5154              		.loc 1 1027 4 is_stmt 1 view .LVU1646
1027:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0) break;				/* Empty cluster? */
 5155              		.loc 1 1027 10 is_stmt 0 view .LVU1647
 5156 0024 2946     		mov	r1, r5
 5157 0026 2046     		mov	r0, r4
 5158 0028 FFF7FEFF 		bl	get_fat
 5159              	.LVL564:
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 1) { res = FR_INT_ERR; break; }	/* Internal error? */
 5160              		.loc 1 1028 4 is_stmt 1 view .LVU1648
1028:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 1) { res = FR_INT_ERR; break; }	/* Internal error? */
 5161              		.loc 1 1028 7 is_stmt 0 view .LVU1649
 5162 002c 0646     		mov	r6, r0
 5163 002e D8B1     		cbz	r0, .L387
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
 5164              		.loc 1 1029 4 is_stmt 1 view .LVU1650
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
 5165              		.loc 1 1029 7 is_stmt 0 view .LVU1651
 5166 0030 0128     		cmp	r0, #1
 5167 0032 1DD0     		beq	.L393
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);			/* Mark the cluster "empty" */
 5168              		.loc 1 1030 4 is_stmt 1 view .LVU1652
ARM GAS  /tmp/cc9KJrYz.s 			page 157


1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);			/* Mark the cluster "empty" */
 5169              		.loc 1 1030 7 is_stmt 0 view .LVU1653
 5170 0034 B0F1FF3F 		cmp	r0, #-1
 5171 0038 1CD0     		beq	.L394
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 5172              		.loc 1 1031 4 is_stmt 1 view .LVU1654
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 5173              		.loc 1 1031 10 is_stmt 0 view .LVU1655
 5174 003a 0022     		movs	r2, #0
 5175 003c 2946     		mov	r1, r5
 5176 003e 2046     		mov	r0, r4
 5177              	.LVL565:
1031:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
 5178              		.loc 1 1031 10 view .LVU1656
 5179 0040 FFF7FEFF 		bl	put_fat
 5180              	.LVL566:
1032:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->free_clust != 0xFFFFFFFF) {	/* Update FSINFO */
 5181              		.loc 1 1032 4 is_stmt 1 view .LVU1657
1032:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fs->free_clust != 0xFFFFFFFF) {	/* Update FSINFO */
 5182              		.loc 1 1032 7 is_stmt 0 view .LVU1658
 5183 0044 0746     		mov	r7, r0
 5184 0046 78B9     		cbnz	r0, .L387
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clust++;
 5185              		.loc 1 1033 4 is_stmt 1 view .LVU1659
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clust++;
 5186              		.loc 1 1033 10 is_stmt 0 view .LVU1660
 5187 0048 04F58053 		add	r3, r4, #4096
 5188 004c 1B69     		ldr	r3, [r3, #16]
1033:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->free_clust++;
 5189              		.loc 1 1033 7 view .LVU1661
 5190 004e B3F1FF3F 		cmp	r3, #-1
 5191 0052 E1D0     		beq	.L389
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->fsi_flag |= 1;
 5192              		.loc 1 1034 5 is_stmt 1 view .LVU1662
1034:Middlewares/Third_Party/FatFs/src/ff.c **** 				fs->fsi_flag |= 1;
 5193              		.loc 1 1034 19 is_stmt 0 view .LVU1663
 5194 0054 04F58052 		add	r2, r4, #4096
 5195 0058 0133     		adds	r3, r3, #1
 5196 005a 1361     		str	r3, [r2, #16]
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5197              		.loc 1 1035 5 is_stmt 1 view .LVU1664
1035:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5198              		.loc 1 1035 18 is_stmt 0 view .LVU1665
 5199 005c 5379     		ldrb	r3, [r2, #5]	@ zero_extendqisi2
 5200 005e 43F00103 		orr	r3, r3, #1
 5201 0062 5371     		strb	r3, [r2, #5]
 5202 0064 D8E7     		b	.L389
 5203              	.LVL567:
 5204              	.L391:
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5205              		.loc 1 1022 7 view .LVU1666
 5206 0066 0227     		movs	r7, #2
 5207              	.LVL568:
 5208              	.L387:
1051:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5209              		.loc 1 1051 2 is_stmt 1 view .LVU1667
1052:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/cc9KJrYz.s 			page 158


 5210              		.loc 1 1052 1 is_stmt 0 view .LVU1668
 5211 0068 3846     		mov	r0, r7
 5212 006a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 5213              	.LVL569:
 5214              	.L392:
1022:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5215              		.loc 1 1022 7 view .LVU1669
 5216 006c 0227     		movs	r7, #2
 5217 006e FBE7     		b	.L387
 5218              	.LVL570:
 5219              	.L393:
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
 5220              		.loc 1 1029 24 view .LVU1670
 5221 0070 0227     		movs	r7, #2
 5222              	.LVL571:
1029:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (nxt == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }	/* Disk error? */
 5223              		.loc 1 1029 24 view .LVU1671
 5224 0072 F9E7     		b	.L387
 5225              	.LVL572:
 5226              	.L394:
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);			/* Mark the cluster "empty" */
 5227              		.loc 1 1030 33 view .LVU1672
 5228 0074 0127     		movs	r7, #1
 5229              	.LVL573:
1030:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = put_fat(fs, clst, 0);			/* Mark the cluster "empty" */
 5230              		.loc 1 1030 33 view .LVU1673
 5231 0076 F7E7     		b	.L387
 5232              		.cfi_endproc
 5233              	.LFE87:
 5235              		.section	.text.f_mount,"ax",%progbits
 5236              		.align	1
 5237              		.global	f_mount
 5238              		.syntax unified
 5239              		.thumb
 5240              		.thumb_func
 5241              		.fpu softvfp
 5243              	f_mount:
 5244              	.LVL574:
 5245              	.LFB106:
2459:Middlewares/Third_Party/FatFs/src/ff.c **** 
2460:Middlewares/Third_Party/FatFs/src/ff.c **** 
2461:Middlewares/Third_Party/FatFs/src/ff.c **** 
2462:Middlewares/Third_Party/FatFs/src/ff.c **** 
2463:Middlewares/Third_Party/FatFs/src/ff.c **** /*--------------------------------------------------------------------------
2464:Middlewares/Third_Party/FatFs/src/ff.c **** 
2465:Middlewares/Third_Party/FatFs/src/ff.c ****    Public Functions
2466:Middlewares/Third_Party/FatFs/src/ff.c **** 
2467:Middlewares/Third_Party/FatFs/src/ff.c **** --------------------------------------------------------------------------*/
2468:Middlewares/Third_Party/FatFs/src/ff.c **** 
2469:Middlewares/Third_Party/FatFs/src/ff.c **** 
2470:Middlewares/Third_Party/FatFs/src/ff.c **** 
2471:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2472:Middlewares/Third_Party/FatFs/src/ff.c **** /* Mount/Unmount a Logical Drive                                         */
2473:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2474:Middlewares/Third_Party/FatFs/src/ff.c **** 
2475:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mount (
2476:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs,			/* Pointer to the file system object (NULL:unmount)*/
ARM GAS  /tmp/cc9KJrYz.s 			page 159


2477:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number to be mounted/unmounted */
2478:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE opt			/* 0:Do not mount (delayed mount), 1:Mount immediately */
2479:Middlewares/Third_Party/FatFs/src/ff.c **** )
2480:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5246              		.loc 1 2480 1 is_stmt 1 view -0
 5247              		.cfi_startproc
 5248              		@ args = 0, pretend = 0, frame = 16
 5249              		@ frame_needed = 0, uses_anonymous_args = 0
 5250              		.loc 1 2480 1 is_stmt 0 view .LVU1675
 5251 0000 70B5     		push	{r4, r5, r6, lr}
 5252              	.LCFI45:
 5253              		.cfi_def_cfa_offset 16
 5254              		.cfi_offset 4, -16
 5255              		.cfi_offset 5, -12
 5256              		.cfi_offset 6, -8
 5257              		.cfi_offset 14, -4
 5258 0002 84B0     		sub	sp, sp, #16
 5259              	.LCFI46:
 5260              		.cfi_def_cfa_offset 32
 5261 0004 0190     		str	r0, [sp, #4]
 5262 0006 0091     		str	r1, [sp]
 5263 0008 1646     		mov	r6, r2
2481:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *cfs;
 5264              		.loc 1 2481 2 is_stmt 1 view .LVU1676
2482:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 5265              		.loc 1 2482 2 view .LVU1677
2483:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5266              		.loc 1 2483 2 view .LVU1678
2484:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR *rp = path;
 5267              		.loc 1 2484 2 view .LVU1679
 5268              		.loc 1 2484 15 is_stmt 0 view .LVU1680
 5269 000a 0391     		str	r1, [sp, #12]
2485:Middlewares/Third_Party/FatFs/src/ff.c **** 
2486:Middlewares/Third_Party/FatFs/src/ff.c **** 
2487:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&rp);
 5270              		.loc 1 2487 2 is_stmt 1 view .LVU1681
 5271              		.loc 1 2487 8 is_stmt 0 view .LVU1682
 5272 000c 03A8     		add	r0, sp, #12
 5273              	.LVL575:
 5274              		.loc 1 2487 8 view .LVU1683
 5275 000e FFF7FEFF 		bl	get_ldnumber
 5276              	.LVL576:
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 5277              		.loc 1 2488 2 is_stmt 1 view .LVU1684
 5278              		.loc 1 2488 5 is_stmt 0 view .LVU1685
 5279 0012 051E     		subs	r5, r0, #0
 5280 0014 1FDB     		blt	.L400
2489:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 5281              		.loc 1 2489 2 is_stmt 1 view .LVU1686
 5282              		.loc 1 2489 6 is_stmt 0 view .LVU1687
 5283 0016 124B     		ldr	r3, .L405
 5284 0018 53F82540 		ldr	r4, [r3, r5, lsl #2]
 5285              	.LVL577:
2490:Middlewares/Third_Party/FatFs/src/ff.c **** 
2491:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (cfs) {
 5286              		.loc 1 2491 2 is_stmt 1 view .LVU1688
 5287              		.loc 1 2491 5 is_stmt 0 view .LVU1689
ARM GAS  /tmp/cc9KJrYz.s 			page 160


 5288 001c 34B1     		cbz	r4, .L398
2492:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2493:Middlewares/Third_Party/FatFs/src/ff.c **** 		clear_lock(cfs);
 5289              		.loc 1 2493 3 is_stmt 1 view .LVU1690
 5290 001e 2046     		mov	r0, r4
 5291              	.LVL578:
 5292              		.loc 1 2493 3 is_stmt 0 view .LVU1691
 5293 0020 FFF7FEFF 		bl	clear_lock
 5294              	.LVL579:
2494:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2495:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Discard sync object of the current volume */
2496:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_del_syncobj(cfs->sobj)) return FR_INT_ERR;
2497:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2498:Middlewares/Third_Party/FatFs/src/ff.c **** 		cfs->fs_type = 0;				/* Clear old fs object */
 5295              		.loc 1 2498 3 is_stmt 1 view .LVU1692
 5296              		.loc 1 2498 16 is_stmt 0 view .LVU1693
 5297 0024 04F58054 		add	r4, r4, #4096
 5298              	.LVL580:
 5299              		.loc 1 2498 16 view .LVU1694
 5300 0028 0023     		movs	r3, #0
 5301 002a 2370     		strb	r3, [r4]
 5302              	.LVL581:
 5303              	.L398:
2499:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2500:Middlewares/Third_Party/FatFs/src/ff.c **** 
2501:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fs) {
 5304              		.loc 1 2501 2 is_stmt 1 view .LVU1695
 5305              		.loc 1 2501 6 is_stmt 0 view .LVU1696
 5306 002c 019B     		ldr	r3, [sp, #4]
 5307              		.loc 1 2501 5 view .LVU1697
 5308 002e 1BB1     		cbz	r3, .L399
2502:Middlewares/Third_Party/FatFs/src/ff.c **** 		fs->fs_type = 0;				/* Clear new fs object */
 5309              		.loc 1 2502 3 is_stmt 1 view .LVU1698
 5310              		.loc 1 2502 15 is_stmt 0 view .LVU1699
 5311 0030 03F58052 		add	r2, r3, #4096
 5312 0034 0021     		movs	r1, #0
 5313 0036 1170     		strb	r1, [r2]
 5314              	.L399:
2503:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT						/* Create sync object for the new volume */
2504:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!ff_cre_syncobj((BYTE)vol, &fs->sobj)) return FR_INT_ERR;
2505:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2506:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2507:Middlewares/Third_Party/FatFs/src/ff.c **** 	FatFs[vol] = fs;					/* Register new fs object */
 5315              		.loc 1 2507 2 is_stmt 1 view .LVU1700
 5316              		.loc 1 2507 13 is_stmt 0 view .LVU1701
 5317 0038 094A     		ldr	r2, .L405
 5318 003a 42F82530 		str	r3, [r2, r5, lsl #2]
2508:Middlewares/Third_Party/FatFs/src/ff.c **** 
2509:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs || opt != 1) return FR_OK;	/* Do not mount now, it will be mounted later */
 5319              		.loc 1 2509 2 is_stmt 1 view .LVU1702
 5320              		.loc 1 2509 5 is_stmt 0 view .LVU1703
 5321 003e 63B1     		cbz	r3, .L401
 5322              		.loc 1 2509 10 discriminator 2 view .LVU1704
 5323 0040 012E     		cmp	r6, #1
 5324 0042 02D0     		beq	.L404
 5325              		.loc 1 2509 30 view .LVU1705
 5326 0044 0020     		movs	r0, #0
ARM GAS  /tmp/cc9KJrYz.s 			page 161


 5327              	.L397:
2510:Middlewares/Third_Party/FatFs/src/ff.c **** 
2511:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&fs, &path, 0);	/* Force mounted the volume */
2512:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
2513:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5328              		.loc 1 2513 1 view .LVU1706
 5329 0046 04B0     		add	sp, sp, #16
 5330              	.LCFI47:
 5331              		.cfi_remember_state
 5332              		.cfi_def_cfa_offset 16
 5333              		@ sp needed
 5334 0048 70BD     		pop	{r4, r5, r6, pc}
 5335              	.LVL582:
 5336              	.L404:
 5337              	.LCFI48:
 5338              		.cfi_restore_state
2511:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 5339              		.loc 1 2511 2 is_stmt 1 view .LVU1707
2511:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
 5340              		.loc 1 2511 8 is_stmt 0 view .LVU1708
 5341 004a 0022     		movs	r2, #0
 5342 004c 6946     		mov	r1, sp
 5343 004e 01A8     		add	r0, sp, #4
 5344 0050 FFF7FEFF 		bl	find_volume
 5345              	.LVL583:
2512:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5346              		.loc 1 2512 2 is_stmt 1 view .LVU1709
 5347 0054 F7E7     		b	.L397
 5348              	.LVL584:
 5349              	.L400:
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 5350              		.loc 1 2488 22 is_stmt 0 view .LVU1710
 5351 0056 0B20     		movs	r0, #11
 5352              	.LVL585:
2488:Middlewares/Third_Party/FatFs/src/ff.c **** 	cfs = FatFs[vol];					/* Pointer to fs object */
 5353              		.loc 1 2488 22 view .LVU1711
 5354 0058 F5E7     		b	.L397
 5355              	.L401:
2509:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5356              		.loc 1 2509 30 view .LVU1712
 5357 005a 0020     		movs	r0, #0
 5358 005c F3E7     		b	.L397
 5359              	.L406:
 5360 005e 00BF     		.align	2
 5361              	.L405:
 5362 0060 00000000 		.word	.LANCHOR2
 5363              		.cfi_endproc
 5364              	.LFE106:
 5366              		.section	.text.f_open,"ax",%progbits
 5367              		.align	1
 5368              		.global	f_open
 5369              		.syntax unified
 5370              		.thumb
 5371              		.thumb_func
 5372              		.fpu softvfp
 5374              	f_open:
 5375              	.LVL586:
ARM GAS  /tmp/cc9KJrYz.s 			page 162


 5376              	.LFB107:
2514:Middlewares/Third_Party/FatFs/src/ff.c **** 
2515:Middlewares/Third_Party/FatFs/src/ff.c **** 
2516:Middlewares/Third_Party/FatFs/src/ff.c **** 
2517:Middlewares/Third_Party/FatFs/src/ff.c **** 
2518:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2519:Middlewares/Third_Party/FatFs/src/ff.c **** /* Open or Create a File                                                 */
2520:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2521:Middlewares/Third_Party/FatFs/src/ff.c **** 
2522:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_open (
2523:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the blank file object */
2524:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file name */
2525:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mode			/* Access mode and file open mode flags */
2526:Middlewares/Third_Party/FatFs/src/ff.c **** )
2527:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5377              		.loc 1 2527 1 is_stmt 1 view -0
 5378              		.cfi_startproc
 5379              		@ args = 0, pretend = 0, frame = 4152
 5380              		@ frame_needed = 0, uses_anonymous_args = 0
 5381              		.loc 1 2527 1 is_stmt 0 view .LVU1714
 5382 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 5383              	.LCFI49:
 5384              		.cfi_def_cfa_offset 32
 5385              		.cfi_offset 4, -32
 5386              		.cfi_offset 5, -28
 5387              		.cfi_offset 6, -24
 5388              		.cfi_offset 7, -20
 5389              		.cfi_offset 8, -16
 5390              		.cfi_offset 9, -12
 5391              		.cfi_offset 10, -8
 5392              		.cfi_offset 14, -4
 5393 0004 ADF5815D 		sub	sp, sp, #4128
 5394              	.LCFI50:
 5395              		.cfi_def_cfa_offset 4160
 5396 0008 86B0     		sub	sp, sp, #24
 5397              	.LCFI51:
 5398              		.cfi_def_cfa_offset 4184
 5399 000a 0191     		str	r1, [sp, #4]
2528:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5400              		.loc 1 2528 2 is_stmt 1 view .LVU1715
2529:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 5401              		.loc 1 2529 2 view .LVU1716
2530:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 5402              		.loc 1 2530 2 view .LVU1717
2531:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 5403              		.loc 1 2531 2 view .LVU1718
2532:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2533:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw, cl;
 5404              		.loc 1 2533 2 view .LVU1719
2534:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2535:Middlewares/Third_Party/FatFs/src/ff.c **** 
2536:Middlewares/Third_Party/FatFs/src/ff.c **** 
2537:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fp) return FR_INVALID_OBJECT;
 5405              		.loc 1 2537 2 view .LVU1720
 5406              		.loc 1 2537 5 is_stmt 0 view .LVU1721
 5407 000c 0028     		cmp	r0, #0
 5408 000e 00F0FB80 		beq	.L417
ARM GAS  /tmp/cc9KJrYz.s 			page 163


 5409 0012 1446     		mov	r4, r2
 5410 0014 0646     		mov	r6, r0
2538:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->fs = 0;			/* Clear file object */
 5411              		.loc 1 2538 2 is_stmt 1 view .LVU1722
 5412              		.loc 1 2538 9 is_stmt 0 view .LVU1723
 5413 0016 00F58053 		add	r3, r0, #4096
 5414 001a 0022     		movs	r2, #0
 5415              	.LVL587:
 5416              		.loc 1 2538 9 view .LVU1724
 5417 001c 1A60     		str	r2, [r3]
2539:Middlewares/Third_Party/FatFs/src/ff.c **** 
2540:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
2541:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2542:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= FA_READ | FA_WRITE | FA_CREATE_ALWAYS | FA_OPEN_ALWAYS | FA_CREATE_NEW;
 5418              		.loc 1 2542 2 is_stmt 1 view .LVU1725
 5419              		.loc 1 2542 7 is_stmt 0 view .LVU1726
 5420 001e 04F01F07 		and	r7, r4, #31
 5421              	.LVL588:
2543:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, (BYTE)(mode & ~FA_READ));
 5422              		.loc 1 2543 2 is_stmt 1 view .LVU1727
 5423              		.loc 1 2543 8 is_stmt 0 view .LVU1728
 5424 0022 04F01E02 		and	r2, r4, #30
 5425 0026 01A9     		add	r1, sp, #4
 5426              	.LVL589:
 5427              		.loc 1 2543 8 view .LVU1729
 5428 0028 0DF58050 		add	r0, sp, #4096
 5429              	.LVL590:
 5430              		.loc 1 2543 8 view .LVU1730
 5431 002c 1830     		adds	r0, r0, #24
 5432 002e FFF7FEFF 		bl	find_volume
 5433              	.LVL591:
2544:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2545:Middlewares/Third_Party/FatFs/src/ff.c **** 	mode &= FA_READ;
2546:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 0);
2547:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2548:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 5434              		.loc 1 2548 2 is_stmt 1 view .LVU1731
 5435              		.loc 1 2548 5 is_stmt 0 view .LVU1732
 5436 0032 0546     		mov	r5, r0
 5437 0034 28B1     		cbz	r0, .L426
 5438              	.LVL592:
 5439              	.L408:
2549:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
2550:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
2551:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dj.dir;
2552:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
2553:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2554:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir)	/* Default directory itself */
2555:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
2556:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2557:Middlewares/Third_Party/FatFs/src/ff.c **** 			else
2558:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = chk_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
2559:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2560:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2561:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create or Open a file */
2562:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (mode & (FA_CREATE_ALWAYS | FA_OPEN_ALWAYS | FA_CREATE_NEW)) {
2563:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
ARM GAS  /tmp/cc9KJrYz.s 			page 164


2564:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE)			/* There is no file to open, create a new entry */
2565:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2566:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = enq_lock() ? dir_register(&dj) : FR_TOO_MANY_OPEN_FILES;
2567:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2568:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&dj);
2569:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2570:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA_CREATE_ALWAYS;		/* File is created */
2571:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.dir;					/* New entry */
2572:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2573:Middlewares/Third_Party/FatFs/src/ff.c **** 			else {								/* Any object is already existing */
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & (AM_RDO | AM_DIR)) {	/* Cannot overwrite it (R/O or DIR) */
2575:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
2576:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2577:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (mode & FA_CREATE_NEW)	/* Cannot create as new file */
2578:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_EXIST;
2579:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2580:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && (mode & FA_CREATE_ALWAYS)) {	/* Truncate it if overwrite mode */
2582:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();				/* Created time */
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_CrtTime, dw);
2584:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, 0);/* size = 0 */
2586:Middlewares/Third_Party/FatFs/src/ff.c **** 				cl = ld_clust(dj.fs, dir);		/* Get start cluster */
2587:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, 0);				/* cluster = 0 */
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
2589:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (cl) {						/* Remove the cluster chain if exist */
2590:Middlewares/Third_Party/FatFs/src/ff.c **** 					dw = dj.fs->winsect;
2591:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, cl);
2592:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.fs->last_clust = cl - 1;	/* Reuse the cluster hole */
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(dj.fs, dw);
2595:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
2596:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2597:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2598:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2599:Middlewares/Third_Party/FatFs/src/ff.c **** 		else {	/* Open an existing file */
2600:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Follow succeeded */
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_DIR) {	/* It is a directory */
2602:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
2603:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 					if ((mode & FA_WRITE) && (dir[DIR_Attr] & AM_RDO)) /* R/O violation */
2605:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
2606:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2607:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2608:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2609:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2610:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
2611:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA__WRITTEN;
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = dj.fs->winsect;		/* Pointer to the directory entry */
2613:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dir;
2614:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2615:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->lockid = inc_lock(&dj, (mode & ~FA_READ) ? 1 : 0);
2616:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->lockid) res = FR_INT_ERR;
2617:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2618:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2619:Middlewares/Third_Party/FatFs/src/ff.c **** 
2620:Middlewares/Third_Party/FatFs/src/ff.c **** #else				/* R/O configuration */
ARM GAS  /tmp/cc9KJrYz.s 			page 165


2621:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* Follow succeeded */
2622:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
2623:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {						/* Current directory itself */
2624:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
2625:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
2626:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_DIR)	/* It is a directory */
2627:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
2628:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2629:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2630:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2631:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
2632:Middlewares/Third_Party/FatFs/src/ff.c **** 
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;					/* File access mode */
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;						/* Clear error flag */
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sclust = ld_clust(dj.fs, dir);	/* File start cluster */
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = LD_DWORD(dir + DIR_FileSize);	/* File size */
2638:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;						/* File pointer */
2639:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = 0;
2640:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
2641:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->cltbl = 0;						/* Normal seek mode */
2642:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2643:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fs = dj.fs;	 					/* Validate file object */
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->id = fp->fs->id;
2645:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2646:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2647:Middlewares/Third_Party/FatFs/src/ff.c **** 
2648:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
2649:Middlewares/Third_Party/FatFs/src/ff.c **** }
 5440              		.loc 1 2649 1 view .LVU1733
 5441 0036 2846     		mov	r0, r5
 5442 0038 0DF5815D 		add	sp, sp, #4128
 5443 003c 06B0     		add	sp, sp, #24
 5444              	.LCFI52:
 5445              		.cfi_remember_state
 5446              		.cfi_def_cfa_offset 32
 5447              		@ sp needed
 5448 003e BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 5449              	.LVL593:
 5450              	.L426:
 5451              	.LCFI53:
 5452              		.cfi_restore_state
2549:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 5453              		.loc 1 2549 3 is_stmt 1 view .LVU1734
 5454 0042 0EAD     		add	r5, sp, #56
 5455 0044 03AB     		add	r3, sp, #12
 5456 0046 C5F8F83F 		str	r3, [r5, #4088]
2550:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dj.dir;
 5457              		.loc 1 2550 3 view .LVU1735
2550:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dj.dir;
 5458              		.loc 1 2550 9 is_stmt 0 view .LVU1736
 5459 004a 0199     		ldr	r1, [sp, #4]
 5460 004c 06A8     		add	r0, sp, #24
 5461              	.LVL594:
2550:Middlewares/Third_Party/FatFs/src/ff.c **** 		dir = dj.dir;
 5462              		.loc 1 2550 9 view .LVU1737
 5463 004e FFF7FEFF 		bl	follow_path
ARM GAS  /tmp/cc9KJrYz.s 			page 166


 5464              	.LVL595:
2551:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 5465              		.loc 1 2551 3 is_stmt 1 view .LVU1738
2551:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY	/* R/W configuration */
 5466              		.loc 1 2551 7 is_stmt 0 view .LVU1739
 5467 0052 D5F8F48F 		ldr	r8, [r5, #4084]
 5468              	.LVL596:
2553:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir)	/* Default directory itself */
 5469              		.loc 1 2553 3 is_stmt 1 view .LVU1740
2553:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir)	/* Default directory itself */
 5470              		.loc 1 2553 6 is_stmt 0 view .LVU1741
 5471 0056 0546     		mov	r5, r0
 5472 0058 58B9     		cbnz	r0, .L409
2554:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 5473              		.loc 1 2554 4 is_stmt 1 view .LVU1742
2554:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 5474              		.loc 1 2554 7 is_stmt 0 view .LVU1743
 5475 005a B8F1000F 		cmp	r8, #0
 5476 005e 61D0     		beq	.L418
2558:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5477              		.loc 1 2558 5 is_stmt 1 view .LVU1744
2558:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5478              		.loc 1 2558 11 is_stmt 0 view .LVU1745
 5479 0060 37F00103 		bics	r3, r7, #1
 5480 0064 14BF     		ite	ne
 5481 0066 0121     		movne	r1, #1
 5482 0068 0021     		moveq	r1, #0
 5483 006a 06A8     		add	r0, sp, #24
 5484              	.LVL597:
2558:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5485              		.loc 1 2558 11 view .LVU1746
 5486 006c FFF7FEFF 		bl	chk_lock
 5487              	.LVL598:
 5488 0070 0546     		mov	r5, r0
 5489              	.LVL599:
 5490              	.L409:
2562:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 5491              		.loc 1 2562 3 is_stmt 1 view .LVU1747
2562:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {					/* No file, create new */
 5492              		.loc 1 2562 6 is_stmt 0 view .LVU1748
 5493 0072 14F01C0F 		tst	r4, #28
 5494 0076 00F0B380 		beq	.L410
2563:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE)			/* There is no file to open, create a new entry */
 5495              		.loc 1 2563 4 is_stmt 1 view .LVU1749
2563:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE)			/* There is no file to open, create a new entry */
 5496              		.loc 1 2563 7 is_stmt 0 view .LVU1750
 5497 007a 002D     		cmp	r5, #0
 5498 007c 5ED0     		beq	.L411
2564:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 5499              		.loc 1 2564 5 is_stmt 1 view .LVU1751
2564:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 5500              		.loc 1 2564 8 is_stmt 0 view .LVU1752
 5501 007e 042D     		cmp	r5, #4
 5502 0080 52D0     		beq	.L427
 5503              	.LVL600:
 5504              	.L412:
2570:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.dir;					/* New entry */
ARM GAS  /tmp/cc9KJrYz.s 			page 167


 5505              		.loc 1 2570 5 is_stmt 1 view .LVU1753
2570:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.dir;					/* New entry */
 5506              		.loc 1 2570 10 is_stmt 0 view .LVU1754
 5507 0082 47F00807 		orr	r7, r7, #8
 5508              	.LVL601:
2571:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5509              		.loc 1 2571 5 is_stmt 1 view .LVU1755
2571:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 5510              		.loc 1 2571 9 is_stmt 0 view .LVU1756
 5511 0086 0DF58153 		add	r3, sp, #4128
 5512 008a 0C33     		adds	r3, r3, #12
 5513 008c D3F80080 		ldr	r8, [r3]
 5514              	.LVL602:
 5515              	.L413:
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();				/* Created time */
 5516              		.loc 1 2581 4 is_stmt 1 view .LVU1757
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();				/* Created time */
 5517              		.loc 1 2581 7 is_stmt 0 view .LVU1758
 5518 0090 15B9     		cbnz	r5, .L414
2581:Middlewares/Third_Party/FatFs/src/ff.c **** 				dw = GET_FATTIME();				/* Created time */
 5519              		.loc 1 2581 21 discriminator 1 view .LVU1759
 5520 0092 17F0080F 		tst	r7, #8
 5521 0096 5DD1     		bne	.L428
 5522              	.LVL603:
 5523              	.L414:
2609:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
 5524              		.loc 1 2609 3 is_stmt 1 view .LVU1760
2609:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (mode & FA_CREATE_ALWAYS)		/* Set file change flag if created or overwritten */
 5525              		.loc 1 2609 6 is_stmt 0 view .LVU1761
 5526 0098 E5B9     		cbnz	r5, .L415
2610:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA__WRITTEN;
 5527              		.loc 1 2610 4 is_stmt 1 view .LVU1762
2610:Middlewares/Third_Party/FatFs/src/ff.c **** 				mode |= FA__WRITTEN;
 5528              		.loc 1 2610 7 is_stmt 0 view .LVU1763
 5529 009a 17F0080F 		tst	r7, #8
 5530 009e 01D0     		beq	.L416
2611:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = dj.fs->winsect;		/* Pointer to the directory entry */
 5531              		.loc 1 2611 5 is_stmt 1 view .LVU1764
2611:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_sect = dj.fs->winsect;		/* Pointer to the directory entry */
 5532              		.loc 1 2611 10 is_stmt 0 view .LVU1765
 5533 00a0 47F02007 		orr	r7, r7, #32
 5534              	.LVL604:
 5535              	.L416:
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dir;
 5536              		.loc 1 2612 4 is_stmt 1 view .LVU1766
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dir;
 5537              		.loc 1 2612 21 is_stmt 0 view .LVU1767
 5538 00a4 0DF58053 		add	r3, sp, #4096
 5539 00a8 1833     		adds	r3, r3, #24
 5540 00aa 1B68     		ldr	r3, [r3]
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dir;
 5541              		.loc 1 2612 24 view .LVU1768
 5542 00ac 03F58053 		add	r3, r3, #4096
 5543 00b0 DB6A     		ldr	r3, [r3, #44]
2612:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dir_ptr = dir;
 5544              		.loc 1 2612 17 view .LVU1769
 5545 00b2 06F58054 		add	r4, r6, #4096
ARM GAS  /tmp/cc9KJrYz.s 			page 168


 5546 00b6 E361     		str	r3, [r4, #28]
2613:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 5547              		.loc 1 2613 4 is_stmt 1 view .LVU1770
2613:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 5548              		.loc 1 2613 16 is_stmt 0 view .LVU1771
 5549 00b8 C4F82080 		str	r8, [r4, #32]
2615:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->lockid) res = FR_INT_ERR;
 5550              		.loc 1 2615 4 is_stmt 1 view .LVU1772
2615:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->lockid) res = FR_INT_ERR;
 5551              		.loc 1 2615 17 is_stmt 0 view .LVU1773
 5552 00bc 37F00103 		bics	r3, r7, #1
 5553 00c0 14BF     		ite	ne
 5554 00c2 0121     		movne	r1, #1
 5555 00c4 0021     		moveq	r1, #0
 5556 00c6 06A8     		add	r0, sp, #24
 5557 00c8 FFF7FEFF 		bl	inc_lock
 5558              	.LVL605:
2615:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!fp->lockid) res = FR_INT_ERR;
 5559              		.loc 1 2615 15 view .LVU1774
 5560 00cc A062     		str	r0, [r4, #40]
2616:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5561              		.loc 1 2616 4 is_stmt 1 view .LVU1775
2616:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5562              		.loc 1 2616 7 is_stmt 0 view .LVU1776
 5563 00ce 0028     		cmp	r0, #0
 5564 00d0 00F09C80 		beq	.L424
 5565              	.L415:
2631:Middlewares/Third_Party/FatFs/src/ff.c **** 
 5566              		.loc 1 2631 13 is_stmt 1 view .LVU1777
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;					/* File access mode */
 5567              		.loc 1 2633 3 view .LVU1778
2633:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag = mode;					/* File access mode */
 5568              		.loc 1 2633 6 is_stmt 0 view .LVU1779
 5569 00d4 002D     		cmp	r5, #0
 5570 00d6 AED1     		bne	.L408
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;						/* Clear error flag */
 5571              		.loc 1 2634 4 is_stmt 1 view .LVU1780
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;						/* Clear error flag */
 5572              		.loc 1 2634 13 is_stmt 0 view .LVU1781
 5573 00d8 06F58056 		add	r6, r6, #4096
 5574              	.LVL606:
2634:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->err = 0;						/* Clear error flag */
 5575              		.loc 1 2634 13 view .LVU1782
 5576 00dc B771     		strb	r7, [r6, #6]
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sclust = ld_clust(dj.fs, dir);	/* File start cluster */
 5577              		.loc 1 2635 4 is_stmt 1 view .LVU1783
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sclust = ld_clust(dj.fs, dir);	/* File start cluster */
 5578              		.loc 1 2635 12 is_stmt 0 view .LVU1784
 5579 00de 0027     		movs	r7, #0
 5580              	.LVL607:
2635:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->sclust = ld_clust(dj.fs, dir);	/* File start cluster */
 5581              		.loc 1 2635 12 view .LVU1785
 5582 00e0 F771     		strb	r7, [r6, #7]
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = LD_DWORD(dir + DIR_FileSize);	/* File size */
 5583              		.loc 1 2636 4 is_stmt 1 view .LVU1786
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = LD_DWORD(dir + DIR_FileSize);	/* File size */
 5584              		.loc 1 2636 17 is_stmt 0 view .LVU1787
ARM GAS  /tmp/cc9KJrYz.s 			page 169


 5585 00e2 0DF58053 		add	r3, sp, #4096
 5586 00e6 1833     		adds	r3, r3, #24
 5587 00e8 1C68     		ldr	r4, [r3]
 5588 00ea 4146     		mov	r1, r8
 5589 00ec 2046     		mov	r0, r4
 5590 00ee FFF7FEFF 		bl	ld_clust
 5591              	.LVL608:
2636:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = LD_DWORD(dir + DIR_FileSize);	/* File size */
 5592              		.loc 1 2636 15 view .LVU1788
 5593 00f2 3061     		str	r0, [r6, #16]
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;						/* File pointer */
 5594              		.loc 1 2637 4 is_stmt 1 view .LVU1789
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;						/* File pointer */
 5595              		.loc 1 2637 16 is_stmt 0 view .LVU1790
 5596 00f4 98F81F20 		ldrb	r2, [r8, #31]	@ zero_extendqisi2
 5597 00f8 98F81E30 		ldrb	r3, [r8, #30]	@ zero_extendqisi2
 5598 00fc 1B04     		lsls	r3, r3, #16
 5599 00fe 43EA0263 		orr	r3, r3, r2, lsl #24
 5600 0102 98F81D20 		ldrb	r2, [r8, #29]	@ zero_extendqisi2
 5601 0106 43EA0223 		orr	r3, r3, r2, lsl #8
 5602 010a 98F81C20 		ldrb	r2, [r8, #28]	@ zero_extendqisi2
 5603 010e 1343     		orrs	r3, r3, r2
2637:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = 0;						/* File pointer */
 5604              		.loc 1 2637 14 view .LVU1791
 5605 0110 F360     		str	r3, [r6, #12]
2638:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = 0;
 5606              		.loc 1 2638 4 is_stmt 1 view .LVU1792
2638:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = 0;
 5607              		.loc 1 2638 13 is_stmt 0 view .LVU1793
 5608 0112 B760     		str	r7, [r6, #8]
2639:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
 5609              		.loc 1 2639 4 is_stmt 1 view .LVU1794
2639:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
 5610              		.loc 1 2639 14 is_stmt 0 view .LVU1795
 5611 0114 B761     		str	r7, [r6, #24]
2641:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5612              		.loc 1 2641 4 is_stmt 1 view .LVU1796
2641:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5613              		.loc 1 2641 14 is_stmt 0 view .LVU1797
 5614 0116 7762     		str	r7, [r6, #36]
2643:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->id = fp->fs->id;
 5615              		.loc 1 2643 4 is_stmt 1 view .LVU1798
2643:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->id = fp->fs->id;
 5616              		.loc 1 2643 11 is_stmt 0 view .LVU1799
 5617 0118 3460     		str	r4, [r6]
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5618              		.loc 1 2644 4 is_stmt 1 view .LVU1800
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5619              		.loc 1 2644 19 is_stmt 0 view .LVU1801
 5620 011a 04F58054 		add	r4, r4, #4096
 5621 011e E388     		ldrh	r3, [r4, #6]
2644:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 5622              		.loc 1 2644 11 view .LVU1802
 5623 0120 B380     		strh	r3, [r6, #4]	@ movhi
 5624 0122 88E7     		b	.L408
 5625              	.LVL609:
 5626              	.L418:
ARM GAS  /tmp/cc9KJrYz.s 			page 170


2555:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 5627              		.loc 1 2555 9 view .LVU1803
 5628 0124 0625     		movs	r5, #6
 5629 0126 A4E7     		b	.L409
 5630              	.LVL610:
 5631              	.L427:
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5632              		.loc 1 2566 6 is_stmt 1 view .LVU1804
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5633              		.loc 1 2566 12 is_stmt 0 view .LVU1805
 5634 0128 FFF7FEFF 		bl	enq_lock
 5635              	.LVL611:
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5636              		.loc 1 2566 43 view .LVU1806
 5637 012c 08B9     		cbnz	r0, .L429
 5638 012e 1225     		movs	r5, #18
 5639              	.LVL612:
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5640              		.loc 1 2566 43 view .LVU1807
 5641 0130 A7E7     		b	.L412
 5642              	.LVL613:
 5643              	.L429:
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5644              		.loc 1 2566 25 discriminator 1 view .LVU1808
 5645 0132 06A8     		add	r0, sp, #24
 5646 0134 FFF7FEFF 		bl	dir_register
 5647              	.LVL614:
 5648 0138 0546     		mov	r5, r0
 5649              	.LVL615:
2566:Middlewares/Third_Party/FatFs/src/ff.c **** #else
 5650              		.loc 1 2566 25 discriminator 1 view .LVU1809
 5651 013a A2E7     		b	.L412
 5652              	.LVL616:
 5653              	.L411:
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 5654              		.loc 1 2574 5 is_stmt 1 view .LVU1810
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 5655              		.loc 1 2574 12 is_stmt 0 view .LVU1811
 5656 013c 98F80B30 		ldrb	r3, [r8, #11]	@ zero_extendqisi2
2574:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;
 5657              		.loc 1 2574 8 view .LVU1812
 5658 0140 13F0110F 		tst	r3, #17
 5659 0144 04D1     		bne	.L420
2577:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_EXIST;
 5660              		.loc 1 2577 6 is_stmt 1 view .LVU1813
2577:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_EXIST;
 5661              		.loc 1 2577 9 is_stmt 0 view .LVU1814
 5662 0146 14F0040F 		tst	r4, #4
 5663 014a A1D0     		beq	.L413
2578:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5664              		.loc 1 2578 11 view .LVU1815
 5665 014c 0825     		movs	r5, #8
 5666              	.LVL617:
2578:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5667              		.loc 1 2578 11 view .LVU1816
 5668 014e 9FE7     		b	.L413
 5669              	.LVL618:
ARM GAS  /tmp/cc9KJrYz.s 			page 171


 5670              	.L420:
2575:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5671              		.loc 1 2575 10 view .LVU1817
 5672 0150 0725     		movs	r5, #7
 5673              	.LVL619:
2575:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5674              		.loc 1 2575 10 view .LVU1818
 5675 0152 9DE7     		b	.L413
 5676              	.LVL620:
 5677              	.L428:
2582:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_CrtTime, dw);
 5678              		.loc 1 2582 5 is_stmt 1 view .LVU1819
2582:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_CrtTime, dw);
 5679              		.loc 1 2582 10 is_stmt 0 view .LVU1820
 5680 0154 FFF7FEFF 		bl	get_fattime
 5681              	.LVL621:
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
 5682              		.loc 1 2583 5 is_stmt 1 view .LVU1821
 5683 0158 88F80E00 		strb	r0, [r8, #14]
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
 5684              		.loc 1 2583 5 view .LVU1822
 5685 015c C0F30723 		ubfx	r3, r0, #8, #8
 5686 0160 88F80F30 		strb	r3, [r8, #15]
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
 5687              		.loc 1 2583 5 view .LVU1823
 5688 0164 C0F30743 		ubfx	r3, r0, #16, #8
 5689 0168 88F81030 		strb	r3, [r8, #16]
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
 5690              		.loc 1 2583 5 view .LVU1824
 5691 016c 000E     		lsrs	r0, r0, #24
 5692              	.LVL622:
2583:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = 0;				/* Reset attribute */
 5693              		.loc 1 2583 5 is_stmt 0 view .LVU1825
 5694 016e 88F81100 		strb	r0, [r8, #17]
2584:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, 0);/* size = 0 */
 5695              		.loc 1 2584 5 is_stmt 1 view .LVU1826
2584:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, 0);/* size = 0 */
 5696              		.loc 1 2584 19 is_stmt 0 view .LVU1827
 5697 0172 0024     		movs	r4, #0
 5698 0174 88F80B40 		strb	r4, [r8, #11]
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 				cl = ld_clust(dj.fs, dir);		/* Get start cluster */
 5699              		.loc 1 2585 5 is_stmt 1 view .LVU1828
 5700 0178 88F81C40 		strb	r4, [r8, #28]
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 				cl = ld_clust(dj.fs, dir);		/* Get start cluster */
 5701              		.loc 1 2585 5 view .LVU1829
 5702 017c 88F81D40 		strb	r4, [r8, #29]
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 				cl = ld_clust(dj.fs, dir);		/* Get start cluster */
 5703              		.loc 1 2585 5 view .LVU1830
 5704 0180 88F81E40 		strb	r4, [r8, #30]
2585:Middlewares/Third_Party/FatFs/src/ff.c **** 				cl = ld_clust(dj.fs, dir);		/* Get start cluster */
 5705              		.loc 1 2585 5 view .LVU1831
 5706 0184 88F81F40 		strb	r4, [r8, #31]
2586:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, 0);				/* cluster = 0 */
 5707              		.loc 1 2586 5 view .LVU1832
2586:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, 0);				/* cluster = 0 */
 5708              		.loc 1 2586 10 is_stmt 0 view .LVU1833
 5709 0188 0DF1380A 		add	r10, sp, #56
ARM GAS  /tmp/cc9KJrYz.s 			page 172


 5710 018c 4146     		mov	r1, r8
 5711 018e DAF8E00F 		ldr	r0, [r10, #4064]
 5712 0192 FFF7FEFF 		bl	ld_clust
 5713              	.LVL623:
 5714 0196 8146     		mov	r9, r0
 5715              	.LVL624:
2587:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 5716              		.loc 1 2587 5 is_stmt 1 view .LVU1834
 5717 0198 2146     		mov	r1, r4
 5718 019a 4046     		mov	r0, r8
 5719              	.LVL625:
2587:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 5720              		.loc 1 2587 5 is_stmt 0 view .LVU1835
 5721 019c FFF7FEFF 		bl	st_clust
 5722              	.LVL626:
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (cl) {						/* Remove the cluster chain if exist */
 5723              		.loc 1 2588 5 is_stmt 1 view .LVU1836
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (cl) {						/* Remove the cluster chain if exist */
 5724              		.loc 1 2588 7 is_stmt 0 view .LVU1837
 5725 01a0 DAF8E00F 		ldr	r0, [r10, #4064]
2588:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (cl) {						/* Remove the cluster chain if exist */
 5726              		.loc 1 2588 18 view .LVU1838
 5727 01a4 00F58053 		add	r3, r0, #4096
 5728 01a8 0122     		movs	r2, #1
 5729 01aa 1A71     		strb	r2, [r3, #4]
2589:Middlewares/Third_Party/FatFs/src/ff.c **** 					dw = dj.fs->winsect;
 5730              		.loc 1 2589 5 is_stmt 1 view .LVU1839
2589:Middlewares/Third_Party/FatFs/src/ff.c **** 					dw = dj.fs->winsect;
 5731              		.loc 1 2589 8 is_stmt 0 view .LVU1840
 5732 01ac B9F1000F 		cmp	r9, #0
 5733 01b0 3FF472AF 		beq	.L414
2590:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, cl);
 5734              		.loc 1 2590 6 is_stmt 1 view .LVU1841
2590:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, cl);
 5735              		.loc 1 2590 9 is_stmt 0 view .LVU1842
 5736 01b4 DC6A     		ldr	r4, [r3, #44]
 5737              	.LVL627:
2591:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 5738              		.loc 1 2591 6 is_stmt 1 view .LVU1843
2591:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 5739              		.loc 1 2591 12 is_stmt 0 view .LVU1844
 5740 01b6 4946     		mov	r1, r9
 5741 01b8 FFF7FEFF 		bl	remove_chain
 5742              	.LVL628:
2592:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.fs->last_clust = cl - 1;	/* Reuse the cluster hole */
 5743              		.loc 1 2592 6 is_stmt 1 view .LVU1845
2592:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.fs->last_clust = cl - 1;	/* Reuse the cluster hole */
 5744              		.loc 1 2592 9 is_stmt 0 view .LVU1846
 5745 01bc 0546     		mov	r5, r0
 5746 01be 0028     		cmp	r0, #0
 5747 01c0 7FF46AAF 		bne	.L414
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(dj.fs, dw);
 5748              		.loc 1 2593 7 is_stmt 1 view .LVU1847
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(dj.fs, dw);
 5749              		.loc 1 2593 9 is_stmt 0 view .LVU1848
 5750 01c4 0DF58053 		add	r3, sp, #4096
 5751 01c8 1833     		adds	r3, r3, #24
ARM GAS  /tmp/cc9KJrYz.s 			page 173


 5752 01ca 1868     		ldr	r0, [r3]
 5753              	.LVL629:
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(dj.fs, dw);
 5754              		.loc 1 2593 30 view .LVU1849
 5755 01cc 09F1FF33 		add	r3, r9, #-1
2593:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(dj.fs, dw);
 5756              		.loc 1 2593 25 view .LVU1850
 5757 01d0 00F58052 		add	r2, r0, #4096
 5758 01d4 D360     		str	r3, [r2, #12]
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5759              		.loc 1 2594 7 is_stmt 1 view .LVU1851
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5760              		.loc 1 2594 13 is_stmt 0 view .LVU1852
 5761 01d6 2146     		mov	r1, r4
 5762 01d8 FFF7FEFF 		bl	move_window
 5763              	.LVL630:
 5764 01dc 0546     		mov	r5, r0
 5765              	.LVL631:
2594:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 5766              		.loc 1 2594 13 view .LVU1853
 5767 01de 5BE7     		b	.L414
 5768              	.LVL632:
 5769              	.L410:
2600:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_DIR) {	/* It is a directory */
 5770              		.loc 1 2600 4 is_stmt 1 view .LVU1854
2600:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_DIR) {	/* It is a directory */
 5771              		.loc 1 2600 7 is_stmt 0 view .LVU1855
 5772 01e0 002D     		cmp	r5, #0
 5773 01e2 7FF459AF 		bne	.L414
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 5774              		.loc 1 2601 5 is_stmt 1 view .LVU1856
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 5775              		.loc 1 2601 12 is_stmt 0 view .LVU1857
 5776 01e6 98F80B30 		ldrb	r3, [r8, #11]	@ zero_extendqisi2
2601:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_FILE;
 5777              		.loc 1 2601 8 view .LVU1858
 5778 01ea 13F0100F 		tst	r3, #16
 5779 01ee 09D1     		bne	.L422
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 5780              		.loc 1 2604 6 is_stmt 1 view .LVU1859
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 5781              		.loc 1 2604 9 is_stmt 0 view .LVU1860
 5782 01f0 14F0020F 		tst	r4, #2
 5783 01f4 3FF450AF 		beq	.L414
2604:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
 5784              		.loc 1 2604 28 discriminator 1 view .LVU1861
 5785 01f8 13F0010F 		tst	r3, #1
 5786 01fc 3FF44CAF 		beq	.L414
2605:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5787              		.loc 1 2605 11 view .LVU1862
 5788 0200 0725     		movs	r5, #7
 5789              	.LVL633:
2605:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 5790              		.loc 1 2605 11 view .LVU1863
 5791 0202 49E7     		b	.L414
 5792              	.LVL634:
 5793              	.L422:
ARM GAS  /tmp/cc9KJrYz.s 			page 174


2602:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5794              		.loc 1 2602 10 view .LVU1864
 5795 0204 0425     		movs	r5, #4
 5796              	.LVL635:
2602:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {
 5797              		.loc 1 2602 10 view .LVU1865
 5798 0206 47E7     		b	.L414
 5799              	.LVL636:
 5800              	.L417:
2537:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->fs = 0;			/* Clear file object */
 5801              		.loc 1 2537 18 view .LVU1866
 5802 0208 0925     		movs	r5, #9
 5803 020a 14E7     		b	.L408
 5804              	.LVL637:
 5805              	.L424:
2616:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5806              		.loc 1 2616 25 view .LVU1867
 5807 020c 0225     		movs	r5, #2
 5808              	.LVL638:
2616:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 5809              		.loc 1 2616 25 view .LVU1868
 5810 020e 12E7     		b	.L408
 5811              		.cfi_endproc
 5812              	.LFE107:
 5814              		.section	.text.f_read,"ax",%progbits
 5815              		.align	1
 5816              		.global	f_read
 5817              		.syntax unified
 5818              		.thumb
 5819              		.thumb_func
 5820              		.fpu softvfp
 5822              	f_read:
 5823              	.LVL639:
 5824              	.LFB108:
2650:Middlewares/Third_Party/FatFs/src/ff.c **** 
2651:Middlewares/Third_Party/FatFs/src/ff.c **** 
2652:Middlewares/Third_Party/FatFs/src/ff.c **** 
2653:Middlewares/Third_Party/FatFs/src/ff.c **** 
2654:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2655:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read File                                                             */
2656:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2657:Middlewares/Third_Party/FatFs/src/ff.c **** 
2658:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_read (
2659:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 		/* Pointer to the file object */
2660:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* buff,		/* Pointer to data buffer */
2661:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btr,		/* Number of bytes to read */
2662:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* br		/* Pointer to number of bytes read */
2663:Middlewares/Third_Party/FatFs/src/ff.c **** )
2664:Middlewares/Third_Party/FatFs/src/ff.c **** {
 5825              		.loc 1 2664 1 is_stmt 1 view -0
 5826              		.cfi_startproc
 5827              		@ args = 0, pretend = 0, frame = 8
 5828              		@ frame_needed = 0, uses_anonymous_args = 0
 5829              		.loc 1 2664 1 is_stmt 0 view .LVU1870
 5830 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 5831              	.LCFI54:
 5832              		.cfi_def_cfa_offset 36
ARM GAS  /tmp/cc9KJrYz.s 			page 175


 5833              		.cfi_offset 4, -36
 5834              		.cfi_offset 5, -32
 5835              		.cfi_offset 6, -28
 5836              		.cfi_offset 7, -24
 5837              		.cfi_offset 8, -20
 5838              		.cfi_offset 9, -16
 5839              		.cfi_offset 10, -12
 5840              		.cfi_offset 11, -8
 5841              		.cfi_offset 14, -4
 5842 0004 83B0     		sub	sp, sp, #12
 5843              	.LCFI55:
 5844              		.cfi_def_cfa_offset 48
 5845 0006 0446     		mov	r4, r0
 5846 0008 0F46     		mov	r7, r1
 5847 000a 1546     		mov	r5, r2
 5848 000c 9846     		mov	r8, r3
2665:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 5849              		.loc 1 2665 2 is_stmt 1 view .LVU1871
2666:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect, remain;
 5850              		.loc 1 2666 2 view .LVU1872
2667:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt, cc;
 5851              		.loc 1 2667 2 view .LVU1873
2668:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE csect, *rbuff = (BYTE*)buff;
 5852              		.loc 1 2668 2 view .LVU1874
 5853              	.LVL640:
2669:Middlewares/Third_Party/FatFs/src/ff.c **** 
2670:Middlewares/Third_Party/FatFs/src/ff.c **** 
2671:Middlewares/Third_Party/FatFs/src/ff.c **** 	*br = 0;	/* Clear read byte counter */
 5854              		.loc 1 2671 2 view .LVU1875
 5855              		.loc 1 2671 6 is_stmt 0 view .LVU1876
 5856 000e 0023     		movs	r3, #0
 5857              	.LVL641:
 5858              		.loc 1 2671 6 view .LVU1877
 5859 0010 C8F80030 		str	r3, [r8]
2672:Middlewares/Third_Party/FatFs/src/ff.c **** 
2673:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);							/* Check validity */
 5860              		.loc 1 2673 2 is_stmt 1 view .LVU1878
 5861              		.loc 1 2673 8 is_stmt 0 view .LVU1879
 5862 0014 FFF7FEFF 		bl	validate
 5863              	.LVL642:
2674:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
 5864              		.loc 1 2674 2 is_stmt 1 view .LVU1880
 5865              		.loc 1 2674 5 is_stmt 0 view .LVU1881
 5866 0018 0190     		str	r0, [sp, #4]
 5867 001a 0028     		cmp	r0, #0
 5868 001c 40F00781 		bne	.L431
2675:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)								/* Check error */
 5869              		.loc 1 2675 2 is_stmt 1 view .LVU1882
 5870              		.loc 1 2675 8 is_stmt 0 view .LVU1883
 5871 0020 04F58053 		add	r3, r4, #4096
 5872 0024 DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 5873 0026 0193     		str	r3, [sp, #4]
 5874              		.loc 1 2675 5 view .LVU1884
 5875 0028 002B     		cmp	r3, #0
 5876 002a 40F00081 		bne	.L431
2676:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
2677:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ)) 					/* Check access mode */
ARM GAS  /tmp/cc9KJrYz.s 			page 176


 5877              		.loc 1 2677 2 is_stmt 1 view .LVU1885
 5878              		.loc 1 2677 10 is_stmt 0 view .LVU1886
 5879 002e 04F58053 		add	r3, r4, #4096
 5880 0032 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 5881              		.loc 1 2677 5 view .LVU1887
 5882 0034 13F0010F 		tst	r3, #1
 5883 0038 00F00F81 		beq	.L453
2678:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, FR_DENIED);
2679:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->fsize - fp->fptr;
 5884              		.loc 1 2679 2 is_stmt 1 view .LVU1888
 5885              		.loc 1 2679 13 is_stmt 0 view .LVU1889
 5886 003c 04F58053 		add	r3, r4, #4096
 5887 0040 DE68     		ldr	r6, [r3, #12]
 5888              		.loc 1 2679 25 view .LVU1890
 5889 0042 9B68     		ldr	r3, [r3, #8]
 5890              		.loc 1 2679 9 view .LVU1891
 5891 0044 F61A     		subs	r6, r6, r3
 5892              	.LVL643:
2680:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btr > remain) btr = (UINT)remain;		/* Truncate btr by remaining bytes */
 5893              		.loc 1 2680 2 is_stmt 1 view .LVU1892
 5894              		.loc 1 2680 5 is_stmt 0 view .LVU1893
 5895 0046 AE42     		cmp	r6, r5
 5896 0048 C0F09780 		bcc	.L451
 5897 004c 2E46     		mov	r6, r5
 5898              	.LVL644:
 5899              		.loc 1 2680 5 view .LVU1894
 5900 004e 94E0     		b	.L451
 5901              	.LVL645:
 5902              	.L436:
2681:Middlewares/Third_Party/FatFs/src/ff.c **** 
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btr;								/* Repeat until all data read */
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {						/* On the cluster boundary? */
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;			/* Follow from the origin */
2689:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
2690:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
2691:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl)
 5903              		.loc 1 2691 6 is_stmt 1 view .LVU1895
 5904              		.loc 1 2691 12 is_stmt 0 view .LVU1896
 5905 0050 04F58053 		add	r3, r4, #4096
 5906 0054 5B6A     		ldr	r3, [r3, #36]
 5907              		.loc 1 2691 9 view .LVU1897
 5908 0056 1BB1     		cbz	r3, .L438
2692:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 5909              		.loc 1 2692 7 is_stmt 1 view .LVU1898
 5910              		.loc 1 2692 14 is_stmt 0 view .LVU1899
 5911 0058 2046     		mov	r0, r4
 5912 005a FFF7FEFF 		bl	clmt_clust
 5913              	.LVL646:
 5914              		.loc 1 2692 14 view .LVU1900
 5915 005e AAE0     		b	.L437
 5916              	.LVL647:
 5917              	.L438:
2693:Middlewares/Third_Party/FatFs/src/ff.c **** 					else
ARM GAS  /tmp/cc9KJrYz.s 			page 177


2694:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2695:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(fp->fs, fp->clust);	/* Follow cluster chain on the FAT */
 5918              		.loc 1 2695 7 is_stmt 1 view .LVU1901
 5919              		.loc 1 2695 14 is_stmt 0 view .LVU1902
 5920 0060 04F58053 		add	r3, r4, #4096
 5921 0064 5969     		ldr	r1, [r3, #20]
 5922 0066 FFF7FEFF 		bl	get_fat
 5923              	.LVL648:
 5924              		.loc 1 2695 14 view .LVU1903
 5925 006a A4E0     		b	.L437
 5926              	.L460:
2696:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst < 2) ABORT(fp->fs, FR_INT_ERR);
 5927              		.loc 1 2697 19 is_stmt 1 discriminator 1 view .LVU1904
 5928 006c 04F58054 		add	r4, r4, #4096
 5929              	.LVL649:
 5930              		.loc 1 2697 19 is_stmt 0 discriminator 1 view .LVU1905
 5931 0070 4FF0020B 		mov	fp, #2
 5932 0074 84F807B0 		strb	fp, [r4, #7]
 5933              		.loc 1 2697 19 is_stmt 1 discriminator 1 view .LVU1906
 5934 0078 CDF804B0 		str	fp, [sp, #4]
 5935 007c D7E0     		b	.L431
 5936              	.LVL650:
 5937              	.L461:
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 5938              		.loc 1 2698 29 discriminator 1 view .LVU1907
 5939 007e 04F58054 		add	r4, r4, #4096
 5940              	.LVL651:
 5941              		.loc 1 2698 29 is_stmt 0 discriminator 1 view .LVU1908
 5942 0082 4FF0010B 		mov	fp, #1
 5943 0086 84F807B0 		strb	fp, [r4, #7]
 5944              		.loc 1 2698 29 is_stmt 1 discriminator 1 view .LVU1909
 5945 008a CDF804B0 		str	fp, [sp, #4]
 5946 008e CEE0     		b	.L431
 5947              	.LVL652:
 5948              	.L462:
2699:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
2700:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2701:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fp->fs, fp->clust);	/* Get current sector */
2702:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fp->fs, FR_INT_ERR);
 5949              		.loc 1 2702 15 discriminator 1 view .LVU1910
 5950 0090 04F58054 		add	r4, r4, #4096
 5951              	.LVL653:
 5952              		.loc 1 2702 15 is_stmt 0 discriminator 1 view .LVU1911
 5953 0094 4FF0020B 		mov	fp, #2
 5954 0098 84F807B0 		strb	fp, [r4, #7]
 5955              		.loc 1 2702 15 is_stmt 1 discriminator 1 view .LVU1912
 5956 009c CDF804B0 		str	fp, [sp, #4]
 5957 00a0 C5E0     		b	.L431
 5958              	.LVL654:
 5959              	.L444:
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
2704:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fp->fs);				/* When remaining bytes >= sector size, */
2705:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fp->fs->csize)	/* Clip at cluster boundary */
2707:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fp->fs->drv, rbuff, sect, cc) != RES_OK)
ARM GAS  /tmp/cc9KJrYz.s 			page 178


2709:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 5960              		.loc 1 2709 32 view .LVU1913
2710:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
2711:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2712:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fs->wflag && fp->fs->winsect - sect < cc)
2713:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->fs->winsect - sect) * SS(fp->fs)), fp->fs->win.d8, SS(fp->fs));
2714:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2715:Middlewares/Third_Party/FatFs/src/ff.c **** 				if ((fp->flag & FA__DIRTY) && fp->dsect - sect < cc)
 5961              		.loc 1 2715 5 view .LVU1914
 5962              		.loc 1 2715 12 is_stmt 0 view .LVU1915
 5963 00a2 04F58053 		add	r3, r4, #4096
 5964 00a6 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 5965              		.loc 1 2715 8 view .LVU1916
 5966 00a8 13F0400F 		tst	r3, #64
 5967 00ac 06D0     		beq	.L445
 5968              		.loc 1 2715 37 discriminator 1 view .LVU1917
 5969 00ae 04F58053 		add	r3, r4, #4096
 5970 00b2 9869     		ldr	r0, [r3, #24]
 5971              		.loc 1 2715 45 discriminator 1 view .LVU1918
 5972 00b4 A0EB0A00 		sub	r0, r0, r10
 5973              		.loc 1 2715 32 discriminator 1 view .LVU1919
 5974 00b8 5845     		cmp	r0, fp
 5975 00ba 08D3     		bcc	.L457
 5976              	.L445:
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->dsect - sect) * SS(fp->fs)), fp->buf.d8, SS(fp->fs));
2717:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2718:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2719:Middlewares/Third_Party/FatFs/src/ff.c **** 				rcnt = SS(fp->fs) * cc;			/* Number of bytes transferred */
 5977              		.loc 1 2719 5 is_stmt 1 view .LVU1920
 5978              		.loc 1 2719 12 is_stmt 0 view .LVU1921
 5979 00bc 04F58053 		add	r3, r4, #4096
 5980 00c0 1B68     		ldr	r3, [r3]
 5981 00c2 03F58053 		add	r3, r3, #4096
 5982 00c6 5D89     		ldrh	r5, [r3, #10]
 5983              	.LVL655:
 5984              		.loc 1 2719 10 view .LVU1922
 5985 00c8 0BFB05F5 		mul	r5, fp, r5
 5986              	.LVL656:
2720:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 5987              		.loc 1 2720 5 is_stmt 1 view .LVU1923
 5988 00cc 49E0     		b	.L446
 5989              	.LVL657:
 5990              	.L457:
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->dsect - sect) * SS(fp->fs)), fp->buf.d8, SS(fp->fs));
 5991              		.loc 1 2716 6 view .LVU1924
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->dsect - sect) * SS(fp->fs)), fp->buf.d8, SS(fp->fs));
 5992              		.loc 1 2716 44 is_stmt 0 view .LVU1925
 5993 00ce 1B68     		ldr	r3, [r3]
 5994 00d0 03F58053 		add	r3, r3, #4096
 5995 00d4 5A89     		ldrh	r2, [r3, #10]
2716:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(rbuff + ((fp->dsect - sect) * SS(fp->fs)), fp->buf.d8, SS(fp->fs));
 5996              		.loc 1 2716 6 view .LVU1926
 5997 00d6 2146     		mov	r1, r4
 5998 00d8 02FB0070 		mla	r0, r2, r0, r7
 5999 00dc FFF7FEFF 		bl	mem_cpy
 6000              	.LVL658:
 6001 00e0 ECE7     		b	.L445
ARM GAS  /tmp/cc9KJrYz.s 			page 179


 6002              	.L442:
2721:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2722:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
2723:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->dsect != sect) {			/* Load data sector if not in cache */
 6003              		.loc 1 2723 4 is_stmt 1 view .LVU1927
 6004              		.loc 1 2723 10 is_stmt 0 view .LVU1928
 6005 00e2 04F58053 		add	r3, r4, #4096
 6006 00e6 9A69     		ldr	r2, [r3, #24]
 6007              		.loc 1 2723 7 view .LVU1929
 6008 00e8 5245     		cmp	r2, r10
 6009 00ea 22D0     		beq	.L447
2724:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2725:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->flag & FA__DIRTY) {		/* Write-back dirty sector cache */
 6010              		.loc 1 2725 5 is_stmt 1 view .LVU1930
 6011              		.loc 1 2725 11 is_stmt 0 view .LVU1931
 6012 00ec 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 6013              		.loc 1 2725 8 view .LVU1932
 6014 00ee 13F0400F 		tst	r3, #64
 6015 00f2 10D0     		beq	.L448
2726:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 6016              		.loc 1 2726 6 is_stmt 1 view .LVU1933
 6017              		.loc 1 2726 10 is_stmt 0 view .LVU1934
 6018 00f4 09F58059 		add	r9, r9, #4096
 6019 00f8 0123     		movs	r3, #1
 6020 00fa 2146     		mov	r1, r4
 6021 00fc 99F80100 		ldrb	r0, [r9, #1]	@ zero_extendqisi2
 6022 0100 FFF7FEFF 		bl	disk_write
 6023              	.LVL659:
 6024              		.loc 1 2726 9 view .LVU1935
 6025 0104 0028     		cmp	r0, #0
 6026 0106 40F09680 		bne	.L458
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 6027              		.loc 1 2727 33 is_stmt 1 view .LVU1936
2728:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 6028              		.loc 1 2728 6 view .LVU1937
 6029              		.loc 1 2728 15 is_stmt 0 view .LVU1938
 6030 010a 04F58052 		add	r2, r4, #4096
 6031 010e 9379     		ldrb	r3, [r2, #6]	@ zero_extendqisi2
 6032 0110 23F04003 		bic	r3, r3, #64
 6033 0114 9371     		strb	r3, [r2, #6]
 6034              	.L448:
2729:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2730:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2731:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)	/* Fill sector cache */
 6035              		.loc 1 2731 5 is_stmt 1 view .LVU1939
 6036              		.loc 1 2731 21 is_stmt 0 view .LVU1940
 6037 0116 04F58053 		add	r3, r4, #4096
 6038 011a 1868     		ldr	r0, [r3]
 6039              		.loc 1 2731 9 view .LVU1941
 6040 011c 00F58050 		add	r0, r0, #4096
 6041 0120 0123     		movs	r3, #1
 6042 0122 5246     		mov	r2, r10
 6043 0124 2146     		mov	r1, r4
 6044 0126 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 6045 0128 FFF7FEFF 		bl	disk_read
 6046              	.LVL660:
 6047              		.loc 1 2731 8 view .LVU1942
ARM GAS  /tmp/cc9KJrYz.s 			page 180


 6048 012c 0028     		cmp	r0, #0
 6049 012e 40F08B80 		bne	.L459
 6050              	.L447:
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6051              		.loc 1 2732 32 is_stmt 1 view .LVU1943
2733:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2734:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2735:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = sect;
 6052              		.loc 1 2735 4 view .LVU1944
 6053              		.loc 1 2735 14 is_stmt 0 view .LVU1945
 6054 0132 04F58053 		add	r3, r4, #4096
 6055 0136 C3F818A0 		str	r10, [r3, #24]
 6056              	.LVL661:
 6057              	.L434:
2736:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2737:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fp->fs) - ((UINT)fp->fptr % SS(fp->fs));	/* Get partial sector data from sector buffer 
 6058              		.loc 1 2737 3 is_stmt 1 view .LVU1946
 6059              		.loc 1 2737 10 is_stmt 0 view .LVU1947
 6060 013a 04F58052 		add	r2, r4, #4096
 6061 013e 1368     		ldr	r3, [r2]
 6062 0140 03F58053 		add	r3, r3, #4096
 6063 0144 5D89     		ldrh	r5, [r3, #10]
 6064              		.loc 1 2737 32 view .LVU1948
 6065 0146 9168     		ldr	r1, [r2, #8]
 6066              		.loc 1 2737 39 view .LVU1949
 6067 0148 B1FBF5F3 		udiv	r3, r1, r5
 6068 014c 05FB1311 		mls	r1, r5, r3, r1
 6069              		.loc 1 2737 8 view .LVU1950
 6070 0150 6D1A     		subs	r5, r5, r1
 6071              	.LVL662:
2738:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btr) rcnt = btr;
 6072              		.loc 1 2738 3 is_stmt 1 view .LVU1951
 6073              		.loc 1 2738 6 is_stmt 0 view .LVU1952
 6074 0152 AE42     		cmp	r6, r5
 6075 0154 00D2     		bcs	.L450
 6076              		.loc 1 2738 24 view .LVU1953
 6077 0156 3546     		mov	r5, r6
 6078              	.LVL663:
 6079              	.L450:
2739:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2740:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fp->fs, fp->dsect) != FR_OK)		/* Move sector window */
2741:Middlewares/Third_Party/FatFs/src/ff.c **** 			ABORT(fp->fs, FR_DISK_ERR);
2742:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, &fp->fs->win.d8[fp->fptr % SS(fp->fs)], rcnt);	/* Pick partial sector */
2743:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2744:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(rbuff, &fp->buf.d8[fp->fptr % SS(fp->fs)], rcnt);	/* Pick partial sector */
 6080              		.loc 1 2744 3 is_stmt 1 view .LVU1954
 6081 0158 2A46     		mov	r2, r5
 6082 015a 2144     		add	r1, r1, r4
 6083 015c 3846     		mov	r0, r7
 6084 015e FFF7FEFF 		bl	mem_cpy
 6085              	.LVL664:
 6086              	.L446:
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 6087              		.loc 1 2683 3 view .LVU1955
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 6088              		.loc 1 2683 9 is_stmt 0 view .LVU1956
 6089 0162 2F44     		add	r7, r7, r5
ARM GAS  /tmp/cc9KJrYz.s 			page 181


 6090              	.LVL665:
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 6091              		.loc 1 2683 27 view .LVU1957
 6092 0164 04F58052 		add	r2, r4, #4096
 6093 0168 9368     		ldr	r3, [r2, #8]
 6094 016a 2B44     		add	r3, r3, r5
 6095 016c 9360     		str	r3, [r2, #8]
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 6096              		.loc 1 2683 40 view .LVU1958
 6097 016e D8F80030 		ldr	r3, [r8]
 6098 0172 2B44     		add	r3, r3, r5
 6099 0174 C8F80030 		str	r3, [r8]
2683:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {		/* On the sector boundary? */
 6100              		.loc 1 2683 53 view .LVU1959
 6101 0178 761B     		subs	r6, r6, r5
 6102              	.LVL666:
 6103              	.L451:
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
 6104              		.loc 1 2682 11 is_stmt 1 view .LVU1960
2682:Middlewares/Third_Party/FatFs/src/ff.c **** 		rbuff += rcnt, fp->fptr += rcnt, *br += rcnt, btr -= rcnt) {
 6105              		.loc 1 2682 2 is_stmt 0 view .LVU1961
 6106 017a 002E     		cmp	r6, #0
 6107 017c 57D0     		beq	.L431
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6108              		.loc 1 2684 3 is_stmt 1 view .LVU1962
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6109              		.loc 1 2684 10 is_stmt 0 view .LVU1963
 6110 017e 04F58053 		add	r3, r4, #4096
 6111 0182 9968     		ldr	r1, [r3, #8]
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6112              		.loc 1 2684 19 view .LVU1964
 6113 0184 1868     		ldr	r0, [r3]
 6114 0186 00F58053 		add	r3, r0, #4096
 6115 018a 5D89     		ldrh	r5, [r3, #10]
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6116              		.loc 1 2684 17 view .LVU1965
 6117 018c B1FBF5F3 		udiv	r3, r1, r5
 6118 0190 05FB1313 		mls	r3, r5, r3, r1
2684:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6119              		.loc 1 2684 6 view .LVU1966
 6120 0194 002B     		cmp	r3, #0
 6121 0196 D0D1     		bne	.L434
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {						/* On the cluster boundary? */
 6122              		.loc 1 2685 4 is_stmt 1 view .LVU1967
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {						/* On the cluster boundary? */
 6123              		.loc 1 2685 28 is_stmt 0 view .LVU1968
 6124 0198 B1FBF5F5 		udiv	r5, r1, r5
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {						/* On the cluster boundary? */
 6125              		.loc 1 2685 50 view .LVU1969
 6126 019c 00F58053 		add	r3, r0, #4096
 6127 01a0 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
2685:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {						/* On the cluster boundary? */
 6128              		.loc 1 2685 58 view .LVU1970
 6129 01a2 013B     		subs	r3, r3, #1
 6130 01a4 DBB2     		uxtb	r3, r3
 6131              	.LVL667:
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
ARM GAS  /tmp/cc9KJrYz.s 			page 182


 6132              		.loc 1 2686 4 is_stmt 1 view .LVU1971
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 6133              		.loc 1 2686 7 is_stmt 0 view .LVU1972
 6134 01a6 1D40     		ands	r5, r5, r3
 6135              	.LVL668:
2686:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {			/* On the top of the file? */
 6136              		.loc 1 2686 7 view .LVU1973
 6137 01a8 0FD1     		bne	.L435
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;			/* Follow from the origin */
 6138              		.loc 1 2687 5 is_stmt 1 view .LVU1974
2687:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;			/* Follow from the origin */
 6139              		.loc 1 2687 8 is_stmt 0 view .LVU1975
 6140 01aa 0029     		cmp	r1, #0
 6141 01ac 7FF450AF 		bne	.L436
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
 6142              		.loc 1 2688 6 is_stmt 1 view .LVU1976
2688:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {						/* Middle or end of the file */
 6143              		.loc 1 2688 11 is_stmt 0 view .LVU1977
 6144 01b0 04F58053 		add	r3, r4, #4096
 6145 01b4 1869     		ldr	r0, [r3, #16]
 6146              	.LVL669:
 6147              	.L437:
2697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6148              		.loc 1 2697 5 is_stmt 1 view .LVU1978
2697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6149              		.loc 1 2697 8 is_stmt 0 view .LVU1979
 6150 01b6 0128     		cmp	r0, #1
 6151 01b8 7FF658AF 		bls	.L460
2697:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6152              		.loc 1 2697 44 is_stmt 1 discriminator 2 view .LVU1980
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 6153              		.loc 1 2698 5 discriminator 2 view .LVU1981
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 6154              		.loc 1 2698 8 is_stmt 0 discriminator 2 view .LVU1982
 6155 01bc B0F1FF3F 		cmp	r0, #-1
 6156 01c0 3FF45DAF 		beq	.L461
2698:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;				/* Update current cluster */
 6157              		.loc 1 2698 55 is_stmt 1 discriminator 2 view .LVU1983
2699:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6158              		.loc 1 2699 5 discriminator 2 view .LVU1984
2699:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6159              		.loc 1 2699 15 is_stmt 0 discriminator 2 view .LVU1985
 6160 01c4 04F58053 		add	r3, r4, #4096
 6161 01c8 5861     		str	r0, [r3, #20]
 6162              	.LVL670:
 6163              	.L435:
2701:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fp->fs, FR_INT_ERR);
 6164              		.loc 1 2701 4 is_stmt 1 view .LVU1986
2701:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fp->fs, FR_INT_ERR);
 6165              		.loc 1 2701 11 is_stmt 0 view .LVU1987
 6166 01ca 04F58053 		add	r3, r4, #4096
 6167 01ce D3F80090 		ldr	r9, [r3]
 6168 01d2 5969     		ldr	r1, [r3, #20]
 6169 01d4 4846     		mov	r0, r9
 6170 01d6 FFF7FEFF 		bl	clust2sect
 6171              	.LVL671:
2702:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
ARM GAS  /tmp/cc9KJrYz.s 			page 183


 6172              		.loc 1 2702 4 is_stmt 1 view .LVU1988
2702:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6173              		.loc 1 2702 7 is_stmt 0 view .LVU1989
 6174 01da 8246     		mov	r10, r0
 6175 01dc 0028     		cmp	r0, #0
 6176 01de 3FF457AF 		beq	.L462
2702:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6177              		.loc 1 2702 40 is_stmt 1 discriminator 2 view .LVU1990
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fp->fs);				/* When remaining bytes >= sector size, */
 6178              		.loc 1 2703 4 discriminator 2 view .LVU1991
2703:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btr / SS(fp->fs);				/* When remaining bytes >= sector size, */
 6179              		.loc 1 2703 9 is_stmt 0 discriminator 2 view .LVU1992
 6180 01e2 AA44     		add	r10, r10, r5
 6181              	.LVL672:
2704:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 6182              		.loc 1 2704 4 is_stmt 1 discriminator 2 view .LVU1993
2704:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 6183              		.loc 1 2704 15 is_stmt 0 discriminator 2 view .LVU1994
 6184 01e4 09F58053 		add	r3, r9, #4096
 6185 01e8 5B89     		ldrh	r3, [r3, #10]
2704:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {							/* Read maximum contiguous sectors directly */
 6186              		.loc 1 2704 7 discriminator 2 view .LVU1995
 6187 01ea B6FBF3FB 		udiv	fp, r6, r3
 6188              	.LVL673:
2705:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fp->fs->csize)	/* Clip at cluster boundary */
 6189              		.loc 1 2705 4 is_stmt 1 discriminator 2 view .LVU1996
2705:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fp->fs->csize)	/* Clip at cluster boundary */
 6190              		.loc 1 2705 7 is_stmt 0 discriminator 2 view .LVU1997
 6191 01ee B342     		cmp	r3, r6
 6192 01f0 3FF677AF 		bhi	.L442
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
 6193              		.loc 1 2706 5 is_stmt 1 view .LVU1998
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
 6194              		.loc 1 2706 15 is_stmt 0 view .LVU1999
 6195 01f4 05EB0B03 		add	r3, r5, fp
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
 6196              		.loc 1 2706 28 view .LVU2000
 6197 01f8 09F58052 		add	r2, r9, #4096
 6198 01fc 9278     		ldrb	r2, [r2, #2]	@ zero_extendqisi2
2706:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
 6199              		.loc 1 2706 8 view .LVU2001
 6200 01fe 9342     		cmp	r3, r2
 6201 0200 01D9     		bls	.L443
2707:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fp->fs->drv, rbuff, sect, cc) != RES_OK)
 6202              		.loc 1 2707 6 is_stmt 1 view .LVU2002
2707:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_read(fp->fs->drv, rbuff, sect, cc) != RES_OK)
 6203              		.loc 1 2707 25 is_stmt 0 view .LVU2003
 6204 0202 A2EB050B 		sub	fp, r2, r5
 6205              	.LVL674:
 6206              	.L443:
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6207              		.loc 1 2708 5 is_stmt 1 view .LVU2004
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6208              		.loc 1 2708 9 is_stmt 0 view .LVU2005
 6209 0206 09F58059 		add	r9, r9, #4096
 6210 020a 5B46     		mov	r3, fp
 6211 020c 5246     		mov	r2, r10
ARM GAS  /tmp/cc9KJrYz.s 			page 184


 6212 020e 3946     		mov	r1, r7
 6213 0210 99F80100 		ldrb	r0, [r9, #1]	@ zero_extendqisi2
 6214 0214 FFF7FEFF 		bl	disk_read
 6215              	.LVL675:
2708:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6216              		.loc 1 2708 8 view .LVU2006
 6217 0218 0028     		cmp	r0, #0
 6218 021a 3FF442AF 		beq	.L444
2709:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 6219              		.loc 1 2709 6 is_stmt 1 view .LVU2007
 6220 021e 04F58054 		add	r4, r4, #4096
 6221              	.LVL676:
2709:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 6222              		.loc 1 2709 6 is_stmt 0 view .LVU2008
 6223 0222 4FF0010B 		mov	fp, #1
 6224              	.LVL677:
2709:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 6225              		.loc 1 2709 6 view .LVU2009
 6226 0226 84F807B0 		strb	fp, [r4, #7]
2709:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY && _FS_MINIMIZE <= 2			/* Replace one of the read sectors with cached data if it 
 6227              		.loc 1 2709 6 is_stmt 1 view .LVU2010
 6228 022a CDF804B0 		str	fp, [sp, #4]
 6229              	.LVL678:
 6230              	.L431:
2745:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2746:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2747:Middlewares/Third_Party/FatFs/src/ff.c **** 
2748:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, FR_OK);
2749:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6231              		.loc 1 2749 1 is_stmt 0 view .LVU2011
 6232 022e 0198     		ldr	r0, [sp, #4]
 6233 0230 03B0     		add	sp, sp, #12
 6234              	.LCFI56:
 6235              		.cfi_remember_state
 6236              		.cfi_def_cfa_offset 36
 6237              		@ sp needed
 6238 0232 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 6239              	.LVL679:
 6240              	.L458:
 6241              	.LCFI57:
 6242              		.cfi_restore_state
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 6243              		.loc 1 2727 7 is_stmt 1 view .LVU2012
 6244 0236 04F58054 		add	r4, r4, #4096
 6245              	.LVL680:
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 6246              		.loc 1 2727 7 is_stmt 0 view .LVU2013
 6247 023a 4FF0010B 		mov	fp, #1
 6248              	.LVL681:
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 6249              		.loc 1 2727 7 view .LVU2014
 6250 023e 84F807B0 		strb	fp, [r4, #7]
2727:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 6251              		.loc 1 2727 7 is_stmt 1 view .LVU2015
 6252 0242 CDF804B0 		str	fp, [sp, #4]
 6253 0246 F2E7     		b	.L431
 6254              	.LVL682:
ARM GAS  /tmp/cc9KJrYz.s 			page 185


 6255              	.L459:
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6256              		.loc 1 2732 6 view .LVU2016
 6257 0248 04F58054 		add	r4, r4, #4096
 6258              	.LVL683:
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6259              		.loc 1 2732 6 is_stmt 0 view .LVU2017
 6260 024c 4FF0010B 		mov	fp, #1
 6261              	.LVL684:
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6262              		.loc 1 2732 6 view .LVU2018
 6263 0250 84F807B0 		strb	fp, [r4, #7]
2732:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6264              		.loc 1 2732 6 is_stmt 1 view .LVU2019
 6265 0254 CDF804B0 		str	fp, [sp, #4]
 6266 0258 E9E7     		b	.L431
 6267              	.LVL685:
 6268              	.L453:
2678:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->fsize - fp->fptr;
 6269              		.loc 1 2678 3 is_stmt 0 view .LVU2020
 6270 025a 0723     		movs	r3, #7
 6271 025c 0193     		str	r3, [sp, #4]
 6272 025e E6E7     		b	.L431
 6273              		.cfi_endproc
 6274              	.LFE108:
 6276              		.section	.text.f_write,"ax",%progbits
 6277              		.align	1
 6278              		.global	f_write
 6279              		.syntax unified
 6280              		.thumb
 6281              		.thumb_func
 6282              		.fpu softvfp
 6284              	f_write:
 6285              	.LVL686:
 6286              	.LFB109:
2750:Middlewares/Third_Party/FatFs/src/ff.c **** 
2751:Middlewares/Third_Party/FatFs/src/ff.c **** 
2752:Middlewares/Third_Party/FatFs/src/ff.c **** 
2753:Middlewares/Third_Party/FatFs/src/ff.c **** 
2754:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2755:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2756:Middlewares/Third_Party/FatFs/src/ff.c **** /* Write File                                                            */
2757:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2758:Middlewares/Third_Party/FatFs/src/ff.c **** 
2759:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_write (
2760:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
2761:Middlewares/Third_Party/FatFs/src/ff.c **** 	const void *buff,	/* Pointer to the data to be written */
2762:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btw,			/* Number of bytes to write */
2763:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bw			/* Pointer to number of bytes written */
2764:Middlewares/Third_Party/FatFs/src/ff.c **** )
2765:Middlewares/Third_Party/FatFs/src/ff.c **** {
 6287              		.loc 1 2765 1 is_stmt 1 view -0
 6288              		.cfi_startproc
 6289              		@ args = 0, pretend = 0, frame = 8
 6290              		@ frame_needed = 0, uses_anonymous_args = 0
 6291              		.loc 1 2765 1 is_stmt 0 view .LVU2022
 6292 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
ARM GAS  /tmp/cc9KJrYz.s 			page 186


 6293              	.LCFI58:
 6294              		.cfi_def_cfa_offset 36
 6295              		.cfi_offset 4, -36
 6296              		.cfi_offset 5, -32
 6297              		.cfi_offset 6, -28
 6298              		.cfi_offset 7, -24
 6299              		.cfi_offset 8, -20
 6300              		.cfi_offset 9, -16
 6301              		.cfi_offset 10, -12
 6302              		.cfi_offset 11, -8
 6303              		.cfi_offset 14, -4
 6304 0004 83B0     		sub	sp, sp, #12
 6305              	.LCFI59:
 6306              		.cfi_def_cfa_offset 48
 6307 0006 0446     		mov	r4, r0
 6308 0008 0F46     		mov	r7, r1
 6309 000a 1546     		mov	r5, r2
 6310 000c 9846     		mov	r8, r3
2766:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6311              		.loc 1 2766 2 is_stmt 1 view .LVU2023
2767:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, sect;
 6312              		.loc 1 2767 2 view .LVU2024
2768:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT wcnt, cc;
 6313              		.loc 1 2768 2 view .LVU2025
2769:Middlewares/Third_Party/FatFs/src/ff.c **** 	const BYTE *wbuff = (const BYTE*)buff;
 6314              		.loc 1 2769 2 view .LVU2026
 6315              	.LVL687:
2770:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE csect;
 6316              		.loc 1 2770 2 view .LVU2027
2771:Middlewares/Third_Party/FatFs/src/ff.c **** 
2772:Middlewares/Third_Party/FatFs/src/ff.c **** 
2773:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bw = 0;	/* Clear write byte counter */
 6317              		.loc 1 2773 2 view .LVU2028
 6318              		.loc 1 2773 6 is_stmt 0 view .LVU2029
 6319 000e 0023     		movs	r3, #0
 6320              	.LVL688:
 6321              		.loc 1 2773 6 view .LVU2030
 6322 0010 C8F80030 		str	r3, [r8]
2774:Middlewares/Third_Party/FatFs/src/ff.c **** 
2775:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);						/* Check validity */
 6323              		.loc 1 2775 2 is_stmt 1 view .LVU2031
 6324              		.loc 1 2775 8 is_stmt 0 view .LVU2032
 6325 0014 FFF7FEFF 		bl	validate
 6326              	.LVL689:
2776:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
 6327              		.loc 1 2776 2 is_stmt 1 view .LVU2033
 6328              		.loc 1 2776 5 is_stmt 0 view .LVU2034
 6329 0018 0190     		str	r0, [sp, #4]
 6330 001a 0028     		cmp	r0, #0
 6331 001c 62D1     		bne	.L464
2777:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)							/* Check error */
 6332              		.loc 1 2777 2 is_stmt 1 view .LVU2035
 6333              		.loc 1 2777 8 is_stmt 0 view .LVU2036
 6334 001e 04F58053 		add	r3, r4, #4096
 6335 0022 DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
 6336 0024 0193     		str	r3, [sp, #4]
 6337              		.loc 1 2777 5 view .LVU2037
ARM GAS  /tmp/cc9KJrYz.s 			page 187


 6338 0026 002B     		cmp	r3, #0
 6339 0028 5CD1     		bne	.L464
2778:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
2779:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_WRITE))				/* Check access mode */
 6340              		.loc 1 2779 2 is_stmt 1 view .LVU2038
 6341              		.loc 1 2779 10 is_stmt 0 view .LVU2039
 6342 002a 04F58053 		add	r3, r4, #4096
 6343 002e 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 6344              		.loc 1 2779 5 view .LVU2040
 6345 0030 13F0020F 		tst	r3, #2
 6346 0034 00F03681 		beq	.L488
2780:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, FR_DENIED);
2781:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->fptr + btw < fp->fptr) btw = 0;	/* File size cannot reach 4GB */
 6347              		.loc 1 2781 2 is_stmt 1 view .LVU2041
 6348              		.loc 1 2781 8 is_stmt 0 view .LVU2042
 6349 0038 04F58053 		add	r3, r4, #4096
 6350 003c 9B68     		ldr	r3, [r3, #8]
 6351              		.loc 1 2781 5 view .LVU2043
 6352 003e EB42     		cmn	r3, r5
 6353 0040 C0F0E680 		bcc	.L485
 6354              		.loc 1 2781 37 view .LVU2044
 6355 0044 0025     		movs	r5, #0
 6356              	.LVL690:
 6357              		.loc 1 2781 37 view .LVU2045
 6358 0046 E3E0     		b	.L485
 6359              	.LVL691:
 6360              	.L469:
2782:Middlewares/Third_Party/FatFs/src/ff.c **** 
2783:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btw;							/* Repeat until all data written */
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, *bw += wcnt, btw -= wcnt) {
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {					/* On the cluster boundary? */
2788:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
2789:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;		/* Follow from the origin */
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0)			/* When no cluster is allocated, */
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, 0);	/* Create a new cluster chain */
2792:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* Middle or end of the file */
2793:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
2794:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->cltbl)
 6361              		.loc 1 2794 6 is_stmt 1 view .LVU2046
 6362              		.loc 1 2794 12 is_stmt 0 view .LVU2047
 6363 0048 04F58053 		add	r3, r4, #4096
 6364 004c 5B6A     		ldr	r3, [r3, #36]
 6365              		.loc 1 2794 9 view .LVU2048
 6366 004e 002B     		cmp	r3, #0
 6367 0050 4CD0     		beq	.L471
2795:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = clmt_clust(fp, fp->fptr);	/* Get cluster# from the CLMT */
 6368              		.loc 1 2795 7 is_stmt 1 view .LVU2049
 6369              		.loc 1 2795 14 is_stmt 0 view .LVU2050
 6370 0052 2046     		mov	r0, r4
 6371 0054 FFF7FEFF 		bl	clmt_clust
 6372              	.LVL692:
 6373 0058 0346     		mov	r3, r0
 6374              	.LVL693:
 6375              	.L470:
2796:Middlewares/Third_Party/FatFs/src/ff.c **** 					else
ARM GAS  /tmp/cc9KJrYz.s 			page 188


2797:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, fp->clust);	/* Follow or stretch cluster chain on the FAT */
2799:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2800:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) break;		/* Could not allocate a new cluster (disk full) */
 6376              		.loc 1 2800 5 is_stmt 1 view .LVU2051
 6377              		.loc 1 2800 8 is_stmt 0 view .LVU2052
 6378 005a 002B     		cmp	r3, #0
 6379 005c 00F01281 		beq	.L472
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
 6380              		.loc 1 2801 5 is_stmt 1 view .LVU2053
 6381              		.loc 1 2801 8 is_stmt 0 view .LVU2054
 6382 0060 012B     		cmp	r3, #1
 6383 0062 4AD0     		beq	.L492
 6384              		.loc 1 2801 45 is_stmt 1 discriminator 2 view .LVU2055
2802:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6385              		.loc 1 2802 5 discriminator 2 view .LVU2056
 6386              		.loc 1 2802 8 is_stmt 0 discriminator 2 view .LVU2057
 6387 0064 B3F1FF3F 		cmp	r3, #-1
 6388 0068 50D0     		beq	.L493
 6389              		.loc 1 2802 55 is_stmt 1 discriminator 2 view .LVU2058
2803:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6390              		.loc 1 2803 5 discriminator 2 view .LVU2059
 6391              		.loc 1 2803 15 is_stmt 0 discriminator 2 view .LVU2060
 6392 006a 04F58052 		add	r2, r4, #4096
 6393 006e 5361     		str	r3, [r2, #20]
2804:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->sclust == 0) fp->sclust = clst;	/* Set start cluster if the first write */
 6394              		.loc 1 2804 5 is_stmt 1 discriminator 2 view .LVU2061
 6395              		.loc 1 2804 11 is_stmt 0 discriminator 2 view .LVU2062
 6396 0070 1269     		ldr	r2, [r2, #16]
 6397              		.loc 1 2804 8 discriminator 2 view .LVU2063
 6398 0072 12B9     		cbnz	r2, .L468
 6399              		.loc 1 2804 26 is_stmt 1 discriminator 1 view .LVU2064
 6400              		.loc 1 2804 37 is_stmt 0 discriminator 1 view .LVU2065
 6401 0074 04F58052 		add	r2, r4, #4096
 6402 0078 1361     		str	r3, [r2, #16]
 6403              	.LVL694:
 6404              	.L468:
2805:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2806:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2807:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fs->winsect == fp->dsect && sync_window(fp->fs))	/* Write-back sector cache */
2808:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
2809:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2810:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA__DIRTY) {		/* Write-back sector cache */
 6405              		.loc 1 2810 4 is_stmt 1 view .LVU2066
 6406              		.loc 1 2810 10 is_stmt 0 view .LVU2067
 6407 007a 04F58053 		add	r3, r4, #4096
 6408 007e 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
 6409              		.loc 1 2810 7 view .LVU2068
 6410 0080 13F0400F 		tst	r3, #64
 6411 0084 4BD1     		bne	.L494
 6412              	.L475:
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
2812:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
2813:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
2814:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2815:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2816:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect = clust2sect(fp->fs, fp->clust);	/* Get current sector */
ARM GAS  /tmp/cc9KJrYz.s 			page 189


 6413              		.loc 1 2816 4 is_stmt 1 view .LVU2069
 6414              		.loc 1 2816 11 is_stmt 0 view .LVU2070
 6415 0086 04F58053 		add	r3, r4, #4096
 6416 008a D3F80090 		ldr	r9, [r3]
 6417 008e 5969     		ldr	r1, [r3, #20]
 6418 0090 4846     		mov	r0, r9
 6419 0092 FFF7FEFF 		bl	clust2sect
 6420              	.LVL695:
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!sect) ABORT(fp->fs, FR_INT_ERR);
 6421              		.loc 1 2817 4 is_stmt 1 view .LVU2071
 6422              		.loc 1 2817 7 is_stmt 0 view .LVU2072
 6423 0096 8246     		mov	r10, r0
 6424 0098 0028     		cmp	r0, #0
 6425 009a 5CD0     		beq	.L495
 6426              		.loc 1 2817 40 is_stmt 1 discriminator 2 view .LVU2073
2818:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6427              		.loc 1 2818 4 discriminator 2 view .LVU2074
 6428              		.loc 1 2818 9 is_stmt 0 discriminator 2 view .LVU2075
 6429 009c B244     		add	r10, r10, r6
 6430              	.LVL696:
2819:Middlewares/Third_Party/FatFs/src/ff.c **** 			cc = btw / SS(fp->fs);			/* When remaining bytes >= sector size, */
 6431              		.loc 1 2819 4 is_stmt 1 discriminator 2 view .LVU2076
 6432              		.loc 1 2819 15 is_stmt 0 discriminator 2 view .LVU2077
 6433 009e 09F58053 		add	r3, r9, #4096
 6434 00a2 5B89     		ldrh	r3, [r3, #10]
 6435              		.loc 1 2819 7 discriminator 2 view .LVU2078
 6436 00a4 B5FBF3FB 		udiv	fp, r5, r3
 6437              	.LVL697:
2820:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cc) {						/* Write maximum contiguous sectors directly */
 6438              		.loc 1 2820 4 is_stmt 1 discriminator 2 view .LVU2079
 6439              		.loc 1 2820 7 is_stmt 0 discriminator 2 view .LVU2080
 6440 00a8 AB42     		cmp	r3, r5
 6441 00aa 7CD8     		bhi	.L478
2821:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (csect + cc > fp->fs->csize)	/* Clip at cluster boundary */
 6442              		.loc 1 2821 5 is_stmt 1 view .LVU2081
 6443              		.loc 1 2821 15 is_stmt 0 view .LVU2082
 6444 00ac 06EB0B03 		add	r3, r6, fp
 6445              		.loc 1 2821 28 view .LVU2083
 6446 00b0 09F58052 		add	r2, r9, #4096
 6447 00b4 9278     		ldrb	r2, [r2, #2]	@ zero_extendqisi2
 6448              		.loc 1 2821 8 view .LVU2084
 6449 00b6 9342     		cmp	r3, r2
 6450 00b8 01D9     		bls	.L479
2822:Middlewares/Third_Party/FatFs/src/ff.c **** 					cc = fp->fs->csize - csect;
 6451              		.loc 1 2822 6 is_stmt 1 view .LVU2085
 6452              		.loc 1 2822 25 is_stmt 0 view .LVU2086
 6453 00ba A2EB060B 		sub	fp, r2, r6
 6454              	.LVL698:
 6455              	.L479:
2823:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, wbuff, sect, cc) != RES_OK)
 6456              		.loc 1 2823 5 is_stmt 1 view .LVU2087
 6457              		.loc 1 2823 9 is_stmt 0 view .LVU2088
 6458 00be 09F58059 		add	r9, r9, #4096
 6459 00c2 5B46     		mov	r3, fp
 6460 00c4 5246     		mov	r2, r10
 6461 00c6 3946     		mov	r1, r7
 6462 00c8 99F80100 		ldrb	r0, [r9, #1]	@ zero_extendqisi2
ARM GAS  /tmp/cc9KJrYz.s 			page 190


 6463 00cc FFF7FEFF 		bl	disk_write
 6464              	.LVL699:
 6465              		.loc 1 2823 8 view .LVU2089
 6466 00d0 0028     		cmp	r0, #0
 6467 00d2 49D0     		beq	.L480
2824:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6468              		.loc 1 2824 6 is_stmt 1 view .LVU2090
 6469 00d4 04F58054 		add	r4, r4, #4096
 6470              	.LVL700:
 6471              		.loc 1 2824 6 is_stmt 0 view .LVU2091
 6472 00d8 4FF0010B 		mov	fp, #1
 6473              	.LVL701:
 6474              		.loc 1 2824 6 view .LVU2092
 6475 00dc 84F807B0 		strb	fp, [r4, #7]
 6476              		.loc 1 2824 6 is_stmt 1 view .LVU2093
 6477 00e0 CDF804B0 		str	fp, [sp, #4]
 6478              	.LVL702:
 6479              	.L464:
2825:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
2826:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2827:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fs->winsect - sect < cc) {	/* Refill sector cache if it gets invalidated by the direct 
2828:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->fs->win.d8, wbuff + ((fp->fs->winsect - sect) * SS(fp->fs)), SS(fp->fs));
2829:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->fs->wflag = 0;
2830:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2831:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->dsect - sect < cc) { /* Refill sector cache if it gets invalidated by the direct write 
2833:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf.d8, wbuff + ((fp->dsect - sect) * SS(fp->fs)), SS(fp->fs));
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
2835:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
2836:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2837:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 				wcnt = SS(fp->fs) * cc;		/* Number of bytes transferred */
2839:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
2840:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2841:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2842:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr >= fp->fsize) {	/* Avoid silly cache filling at growing edge */
2843:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (sync_window(fp->fs)) ABORT(fp->fs, FR_DISK_ERR);
2844:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs->winsect = sect;
2845:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2846:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2847:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->dsect != sect) {		/* Fill sector cache with file data */
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr < fp->fsize &&
2849:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
2851:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2852:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2853:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = sect;
2854:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		wcnt = SS(fp->fs) - ((UINT)fp->fptr % SS(fp->fs));/* Put partial sector into file I/O buffer */
2856:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
2857:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
2858:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fp->fs, fp->dsect) != FR_OK)	/* Move sector window */
2859:Middlewares/Third_Party/FatFs/src/ff.c **** 			ABORT(fp->fs, FR_DISK_ERR);
2860:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(&fp->fs->win.d8[fp->fptr % SS(fp->fs)], wbuff, wcnt);	/* Fit partial sector */
2861:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fs->wflag = 1;
2862:Middlewares/Third_Party/FatFs/src/ff.c **** #else
2863:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(&fp->buf.d8[fp->fptr % SS(fp->fs)], wbuff, wcnt);	/* Fit partial sector */
ARM GAS  /tmp/cc9KJrYz.s 			page 191


2864:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA__DIRTY;
2865:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2866:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2867:Middlewares/Third_Party/FatFs/src/ff.c **** 
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->fptr > fp->fsize) fp->fsize = fp->fptr;	/* Update file size if needed */
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
2870:Middlewares/Third_Party/FatFs/src/ff.c **** 
2871:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, FR_OK);
2872:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6480              		.loc 1 2872 1 is_stmt 0 view .LVU2094
 6481 00e4 0198     		ldr	r0, [sp, #4]
 6482 00e6 03B0     		add	sp, sp, #12
 6483              	.LCFI60:
 6484              		.cfi_remember_state
 6485              		.cfi_def_cfa_offset 36
 6486              		@ sp needed
 6487 00e8 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 6488              	.LVL703:
 6489              	.L471:
 6490              	.LCFI61:
 6491              		.cfi_restore_state
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6492              		.loc 1 2798 7 is_stmt 1 view .LVU2095
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6493              		.loc 1 2798 14 is_stmt 0 view .LVU2096
 6494 00ec 04F58053 		add	r3, r4, #4096
 6495 00f0 5969     		ldr	r1, [r3, #20]
 6496 00f2 FFF7FEFF 		bl	create_chain
 6497              	.LVL704:
 6498 00f6 0346     		mov	r3, r0
 6499              	.LVL705:
2798:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6500              		.loc 1 2798 14 view .LVU2097
 6501 00f8 AFE7     		b	.L470
 6502              	.LVL706:
 6503              	.L492:
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6504              		.loc 1 2801 20 is_stmt 1 discriminator 1 view .LVU2098
 6505 00fa 04F58054 		add	r4, r4, #4096
 6506              	.LVL707:
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6507              		.loc 1 2801 20 is_stmt 0 discriminator 1 view .LVU2099
 6508 00fe 4FF0020B 		mov	fp, #2
 6509 0102 84F807B0 		strb	fp, [r4, #7]
2801:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 6510              		.loc 1 2801 20 is_stmt 1 discriminator 1 view .LVU2100
 6511 0106 CDF804B0 		str	fp, [sp, #4]
 6512 010a EBE7     		b	.L464
 6513              	.LVL708:
 6514              	.L493:
2802:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6515              		.loc 1 2802 29 discriminator 1 view .LVU2101
 6516 010c 04F58054 		add	r4, r4, #4096
 6517              	.LVL709:
2802:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6518              		.loc 1 2802 29 is_stmt 0 discriminator 1 view .LVU2102
 6519 0110 4FF0010B 		mov	fp, #1
ARM GAS  /tmp/cc9KJrYz.s 			page 192


 6520 0114 84F807B0 		strb	fp, [r4, #7]
2802:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;			/* Update current cluster */
 6521              		.loc 1 2802 29 is_stmt 1 discriminator 1 view .LVU2103
 6522 0118 CDF804B0 		str	fp, [sp, #4]
 6523 011c E2E7     		b	.L464
 6524              	.LVL710:
 6525              	.L494:
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6526              		.loc 1 2811 5 view .LVU2104
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6527              		.loc 1 2811 22 is_stmt 0 view .LVU2105
 6528 011e 04F58052 		add	r2, r4, #4096
 6529 0122 1368     		ldr	r3, [r2]
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6530              		.loc 1 2811 9 view .LVU2106
 6531 0124 03F58050 		add	r0, r3, #4096
 6532 0128 0123     		movs	r3, #1
 6533 012a 9269     		ldr	r2, [r2, #24]
 6534 012c 2146     		mov	r1, r4
 6535 012e 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 6536 0130 FFF7FEFF 		bl	disk_write
 6537              	.LVL711:
2811:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 6538              		.loc 1 2811 8 view .LVU2107
 6539 0134 30B9     		cbnz	r0, .L496
2812:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 6540              		.loc 1 2812 32 is_stmt 1 view .LVU2108
2813:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6541              		.loc 1 2813 5 view .LVU2109
2813:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6542              		.loc 1 2813 14 is_stmt 0 view .LVU2110
 6543 0136 04F58052 		add	r2, r4, #4096
 6544 013a 9379     		ldrb	r3, [r2, #6]	@ zero_extendqisi2
 6545 013c 23F04003 		bic	r3, r3, #64
 6546 0140 9371     		strb	r3, [r2, #6]
 6547 0142 A0E7     		b	.L475
 6548              	.L496:
2812:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 6549              		.loc 1 2812 6 is_stmt 1 view .LVU2111
 6550 0144 04F58054 		add	r4, r4, #4096
 6551              	.LVL712:
2812:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 6552              		.loc 1 2812 6 is_stmt 0 view .LVU2112
 6553 0148 4FF0010B 		mov	fp, #1
 6554 014c 84F807B0 		strb	fp, [r4, #7]
2812:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 6555              		.loc 1 2812 6 is_stmt 1 view .LVU2113
 6556 0150 CDF804B0 		str	fp, [sp, #4]
 6557 0154 C6E7     		b	.L464
 6558              	.LVL713:
 6559              	.L495:
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6560              		.loc 1 2817 15 discriminator 1 view .LVU2114
 6561 0156 04F58054 		add	r4, r4, #4096
 6562              	.LVL714:
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6563              		.loc 1 2817 15 is_stmt 0 discriminator 1 view .LVU2115
ARM GAS  /tmp/cc9KJrYz.s 			page 193


 6564 015a 4FF0020B 		mov	fp, #2
 6565 015e 84F807B0 		strb	fp, [r4, #7]
2817:Middlewares/Third_Party/FatFs/src/ff.c **** 			sect += csect;
 6566              		.loc 1 2817 15 is_stmt 1 discriminator 1 view .LVU2116
 6567 0162 CDF804B0 		str	fp, [sp, #4]
 6568 0166 BDE7     		b	.L464
 6569              	.LVL715:
 6570              	.L480:
2824:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
 6571              		.loc 1 2824 32 view .LVU2117
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf.d8, wbuff + ((fp->dsect - sect) * SS(fp->fs)), SS(fp->fs));
 6572              		.loc 1 2832 5 view .LVU2118
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf.d8, wbuff + ((fp->dsect - sect) * SS(fp->fs)), SS(fp->fs));
 6573              		.loc 1 2832 11 is_stmt 0 view .LVU2119
 6574 0168 04F58053 		add	r3, r4, #4096
 6575 016c 9969     		ldr	r1, [r3, #24]
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf.d8, wbuff + ((fp->dsect - sect) * SS(fp->fs)), SS(fp->fs));
 6576              		.loc 1 2832 19 view .LVU2120
 6577 016e A1EB0A01 		sub	r1, r1, r10
2832:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_cpy(fp->buf.d8, wbuff + ((fp->dsect - sect) * SS(fp->fs)), SS(fp->fs));
 6578              		.loc 1 2832 8 view .LVU2121
 6579 0172 5945     		cmp	r1, fp
 6580 0174 08D3     		bcc	.L497
 6581              	.LVL716:
 6582              	.L481:
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 6583              		.loc 1 2838 5 is_stmt 1 view .LVU2122
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 6584              		.loc 1 2838 12 is_stmt 0 view .LVU2123
 6585 0176 04F58053 		add	r3, r4, #4096
 6586 017a 1B68     		ldr	r3, [r3]
 6587 017c 03F58053 		add	r3, r3, #4096
 6588 0180 5E89     		ldrh	r6, [r3, #10]
2838:Middlewares/Third_Party/FatFs/src/ff.c **** 				continue;
 6589              		.loc 1 2838 10 view .LVU2124
 6590 0182 0BFB06F6 		mul	r6, fp, r6
 6591              	.LVL717:
2839:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6592              		.loc 1 2839 5 is_stmt 1 view .LVU2125
 6593 0186 37E0     		b	.L482
 6594              	.LVL718:
 6595              	.L497:
2833:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 6596              		.loc 1 2833 6 view .LVU2126
2833:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 6597              		.loc 1 2833 56 is_stmt 0 view .LVU2127
 6598 0188 1E46     		mov	r6, r3
 6599              	.LVL719:
2833:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 6600              		.loc 1 2833 56 view .LVU2128
 6601 018a 1B68     		ldr	r3, [r3]
 6602 018c 03F58053 		add	r3, r3, #4096
 6603 0190 5A89     		ldrh	r2, [r3, #10]
2833:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
 6604              		.loc 1 2833 6 view .LVU2129
 6605 0192 02FB0171 		mla	r1, r2, r1, r7
 6606 0196 2046     		mov	r0, r4
ARM GAS  /tmp/cc9KJrYz.s 			page 194


 6607 0198 FFF7FEFF 		bl	mem_cpy
 6608              	.LVL720:
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6609              		.loc 1 2834 6 is_stmt 1 view .LVU2130
2834:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 6610              		.loc 1 2834 15 is_stmt 0 view .LVU2131
 6611 019c B379     		ldrb	r3, [r6, #6]	@ zero_extendqisi2
 6612 019e 23F04003 		bic	r3, r3, #64
 6613 01a2 B371     		strb	r3, [r6, #6]
 6614 01a4 E7E7     		b	.L481
 6615              	.LVL721:
 6616              	.L478:
2847:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr < fp->fsize &&
 6617              		.loc 1 2847 4 is_stmt 1 view .LVU2132
2847:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr < fp->fsize &&
 6618              		.loc 1 2847 10 is_stmt 0 view .LVU2133
 6619 01a6 04F58053 		add	r3, r4, #4096
 6620 01aa 9B69     		ldr	r3, [r3, #24]
2847:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr < fp->fsize &&
 6621              		.loc 1 2847 7 view .LVU2134
 6622 01ac 5345     		cmp	r3, r10
 6623 01ae 05D0     		beq	.L483
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
 6624              		.loc 1 2848 5 is_stmt 1 view .LVU2135
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
 6625              		.loc 1 2848 11 is_stmt 0 view .LVU2136
 6626 01b0 04F58053 		add	r3, r4, #4096
 6627 01b4 9A68     		ldr	r2, [r3, #8]
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
 6628              		.loc 1 2848 22 view .LVU2137
 6629 01b6 DB68     		ldr	r3, [r3, #12]
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
 6630              		.loc 1 2848 8 view .LVU2138
 6631 01b8 9A42     		cmp	r2, r3
 6632 01ba 4FD3     		bcc	.L498
 6633              	.L483:
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6634              		.loc 1 2850 33 is_stmt 1 view .LVU2139
2853:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6635              		.loc 1 2853 4 view .LVU2140
2853:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 6636              		.loc 1 2853 14 is_stmt 0 view .LVU2141
 6637 01bc 04F58053 		add	r3, r4, #4096
 6638 01c0 C3F818A0 		str	r10, [r3, #24]
 6639              	.LVL722:
 6640              	.L467:
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
 6641              		.loc 1 2855 3 is_stmt 1 view .LVU2142
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
 6642              		.loc 1 2855 10 is_stmt 0 view .LVU2143
 6643 01c4 04F58052 		add	r2, r4, #4096
 6644 01c8 1368     		ldr	r3, [r2]
 6645 01ca 03F58053 		add	r3, r3, #4096
 6646 01ce 5E89     		ldrh	r6, [r3, #10]
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
 6647              		.loc 1 2855 32 view .LVU2144
 6648 01d0 9068     		ldr	r0, [r2, #8]
ARM GAS  /tmp/cc9KJrYz.s 			page 195


2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
 6649              		.loc 1 2855 39 view .LVU2145
 6650 01d2 B0FBF6F3 		udiv	r3, r0, r6
 6651 01d6 06FB1300 		mls	r0, r6, r3, r0
2855:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (wcnt > btw) wcnt = btw;
 6652              		.loc 1 2855 8 view .LVU2146
 6653 01da 361A     		subs	r6, r6, r0
 6654              	.LVL723:
2856:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 6655              		.loc 1 2856 3 is_stmt 1 view .LVU2147
2856:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 6656              		.loc 1 2856 6 is_stmt 0 view .LVU2148
 6657 01dc B542     		cmp	r5, r6
 6658 01de 00D2     		bcs	.L484
2856:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_TINY
 6659              		.loc 1 2856 24 view .LVU2149
 6660 01e0 2E46     		mov	r6, r5
 6661              	.LVL724:
 6662              	.L484:
2863:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->flag |= FA__DIRTY;
 6663              		.loc 1 2863 3 is_stmt 1 view .LVU2150
 6664 01e2 3246     		mov	r2, r6
 6665 01e4 3946     		mov	r1, r7
 6666 01e6 2044     		add	r0, r0, r4
 6667 01e8 FFF7FEFF 		bl	mem_cpy
 6668              	.LVL725:
2864:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6669              		.loc 1 2864 3 view .LVU2151
2864:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 6670              		.loc 1 2864 12 is_stmt 0 view .LVU2152
 6671 01ec 04F58052 		add	r2, r4, #4096
 6672 01f0 9379     		ldrb	r3, [r2, #6]	@ zero_extendqisi2
 6673 01f2 43F04003 		orr	r3, r3, #64
 6674 01f6 9371     		strb	r3, [r2, #6]
 6675              	.L482:
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6676              		.loc 1 2784 3 is_stmt 1 view .LVU2153
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6677              		.loc 1 2784 9 is_stmt 0 view .LVU2154
 6678 01f8 3744     		add	r7, r7, r6
 6679              	.LVL726:
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6680              		.loc 1 2784 27 view .LVU2155
 6681 01fa 04F58052 		add	r2, r4, #4096
 6682 01fe 9368     		ldr	r3, [r2, #8]
 6683 0200 3344     		add	r3, r3, r6
 6684 0202 9360     		str	r3, [r2, #8]
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6685              		.loc 1 2784 40 view .LVU2156
 6686 0204 D8F80030 		ldr	r3, [r8]
 6687 0208 3344     		add	r3, r3, r6
 6688 020a C8F80030 		str	r3, [r8]
2784:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {	/* On the sector boundary? */
 6689              		.loc 1 2784 53 view .LVU2157
 6690 020e AD1B     		subs	r5, r5, r6
 6691              	.LVL727:
 6692              	.L485:
ARM GAS  /tmp/cc9KJrYz.s 			page 196


2783:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, *bw += wcnt, btw -= wcnt) {
 6693              		.loc 1 2783 11 is_stmt 1 view .LVU2158
2783:Middlewares/Third_Party/FatFs/src/ff.c **** 		wbuff += wcnt, fp->fptr += wcnt, *bw += wcnt, btw -= wcnt) {
 6694              		.loc 1 2783 2 is_stmt 0 view .LVU2159
 6695 0210 002D     		cmp	r5, #0
 6696 0212 37D0     		beq	.L472
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6697              		.loc 1 2785 3 is_stmt 1 view .LVU2160
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6698              		.loc 1 2785 10 is_stmt 0 view .LVU2161
 6699 0214 04F58053 		add	r3, r4, #4096
 6700 0218 9968     		ldr	r1, [r3, #8]
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6701              		.loc 1 2785 19 view .LVU2162
 6702 021a 1868     		ldr	r0, [r3]
 6703 021c 00F58053 		add	r3, r0, #4096
 6704 0220 5E89     		ldrh	r6, [r3, #10]
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6705              		.loc 1 2785 17 view .LVU2163
 6706 0222 B1FBF6F3 		udiv	r3, r1, r6
 6707 0226 06FB1313 		mls	r3, r6, r3, r1
2785:Middlewares/Third_Party/FatFs/src/ff.c **** 			csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
 6708              		.loc 1 2785 6 view .LVU2164
 6709 022a 002B     		cmp	r3, #0
 6710 022c CAD1     		bne	.L467
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {					/* On the cluster boundary? */
 6711              		.loc 1 2786 4 is_stmt 1 view .LVU2165
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {					/* On the cluster boundary? */
 6712              		.loc 1 2786 28 is_stmt 0 view .LVU2166
 6713 022e B1FBF6F6 		udiv	r6, r1, r6
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {					/* On the cluster boundary? */
 6714              		.loc 1 2786 50 view .LVU2167
 6715 0232 00F58053 		add	r3, r0, #4096
 6716 0236 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
2786:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {					/* On the cluster boundary? */
 6717              		.loc 1 2786 58 view .LVU2168
 6718 0238 013B     		subs	r3, r3, #1
 6719 023a DBB2     		uxtb	r3, r3
 6720              	.LVL728:
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 6721              		.loc 1 2787 4 is_stmt 1 view .LVU2169
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 6722              		.loc 1 2787 7 is_stmt 0 view .LVU2170
 6723 023c 1E40     		ands	r6, r6, r3
 6724              	.LVL729:
2787:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr == 0) {		/* On the top of the file? */
 6725              		.loc 1 2787 7 view .LVU2171
 6726 023e 7FF41CAF 		bne	.L468
2788:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;		/* Follow from the origin */
 6727              		.loc 1 2788 5 is_stmt 1 view .LVU2172
2788:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = fp->sclust;		/* Follow from the origin */
 6728              		.loc 1 2788 8 is_stmt 0 view .LVU2173
 6729 0242 0029     		cmp	r1, #0
 6730 0244 7FF400AF 		bne	.L469
2789:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0)			/* When no cluster is allocated, */
 6731              		.loc 1 2789 6 is_stmt 1 view .LVU2174
2789:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0)			/* When no cluster is allocated, */
ARM GAS  /tmp/cc9KJrYz.s 			page 197


 6732              		.loc 1 2789 11 is_stmt 0 view .LVU2175
 6733 0248 04F58053 		add	r3, r4, #4096
 6734 024c 1B69     		ldr	r3, [r3, #16]
 6735              	.LVL730:
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, 0);	/* Create a new cluster chain */
 6736              		.loc 1 2790 6 is_stmt 1 view .LVU2176
2790:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, 0);	/* Create a new cluster chain */
 6737              		.loc 1 2790 9 is_stmt 0 view .LVU2177
 6738 024e 002B     		cmp	r3, #0
 6739 0250 7FF403AF 		bne	.L470
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* Middle or end of the file */
 6740              		.loc 1 2791 7 is_stmt 1 view .LVU2178
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* Middle or end of the file */
 6741              		.loc 1 2791 14 is_stmt 0 view .LVU2179
 6742 0254 FFF7FEFF 		bl	create_chain
 6743              	.LVL731:
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* Middle or end of the file */
 6744              		.loc 1 2791 14 view .LVU2180
 6745 0258 0346     		mov	r3, r0
 6746              	.LVL732:
2791:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {					/* Middle or end of the file */
 6747              		.loc 1 2791 14 view .LVU2181
 6748 025a FEE6     		b	.L470
 6749              	.LVL733:
 6750              	.L498:
2849:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 6751              		.loc 1 2849 6 discriminator 1 view .LVU2182
 6752 025c 09F58059 		add	r9, r9, #4096
 6753 0260 0123     		movs	r3, #1
 6754 0262 5246     		mov	r2, r10
 6755 0264 2146     		mov	r1, r4
 6756 0266 99F80100 		ldrb	r0, [r9, #1]	@ zero_extendqisi2
 6757 026a FFF7FEFF 		bl	disk_read
 6758              	.LVL734:
2848:Middlewares/Third_Party/FatFs/src/ff.c **** 					disk_read(fp->fs->drv, fp->buf.d8, sect, 1) != RES_OK)
 6759              		.loc 1 2848 30 discriminator 1 view .LVU2183
 6760 026e 0028     		cmp	r0, #0
 6761 0270 A4D0     		beq	.L483
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6762              		.loc 1 2850 7 is_stmt 1 view .LVU2184
 6763 0272 04F58054 		add	r4, r4, #4096
 6764              	.LVL735:
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6765              		.loc 1 2850 7 is_stmt 0 view .LVU2185
 6766 0276 4FF0010B 		mov	fp, #1
 6767              	.LVL736:
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6768              		.loc 1 2850 7 view .LVU2186
 6769 027a 84F807B0 		strb	fp, [r4, #7]
2850:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6770              		.loc 1 2850 7 is_stmt 1 view .LVU2187
 6771 027e CDF804B0 		str	fp, [sp, #4]
 6772 0282 2FE7     		b	.L464
 6773              	.LVL737:
 6774              	.L472:
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6775              		.loc 1 2868 2 view .LVU2188
ARM GAS  /tmp/cc9KJrYz.s 			page 198


2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6776              		.loc 1 2868 8 is_stmt 0 view .LVU2189
 6777 0284 04F58053 		add	r3, r4, #4096
 6778 0288 9A68     		ldr	r2, [r3, #8]
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6779              		.loc 1 2868 19 view .LVU2190
 6780 028a DB68     		ldr	r3, [r3, #12]
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6781              		.loc 1 2868 5 view .LVU2191
 6782 028c 9A42     		cmp	r2, r3
 6783 028e 02D9     		bls	.L487
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6784              		.loc 1 2868 28 is_stmt 1 discriminator 1 view .LVU2192
2868:Middlewares/Third_Party/FatFs/src/ff.c **** 	fp->flag |= FA__WRITTEN;						/* Set file change flag */
 6785              		.loc 1 2868 38 is_stmt 0 discriminator 1 view .LVU2193
 6786 0290 04F58053 		add	r3, r4, #4096
 6787 0294 DA60     		str	r2, [r3, #12]
 6788              	.L487:
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6789              		.loc 1 2869 2 is_stmt 1 view .LVU2194
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6790              		.loc 1 2869 11 is_stmt 0 view .LVU2195
 6791 0296 04F58054 		add	r4, r4, #4096
 6792              	.LVL738:
2869:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6793              		.loc 1 2869 11 view .LVU2196
 6794 029a A379     		ldrb	r3, [r4, #6]	@ zero_extendqisi2
 6795 029c 43F02003 		orr	r3, r3, #32
 6796 02a0 A371     		strb	r3, [r4, #6]
2871:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6797              		.loc 1 2871 2 is_stmt 1 view .LVU2197
 6798 02a2 1FE7     		b	.L464
 6799              	.LVL739:
 6800              	.L488:
2780:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->fptr + btw < fp->fptr) btw = 0;	/* File size cannot reach 4GB */
 6801              		.loc 1 2780 3 is_stmt 0 view .LVU2198
 6802 02a4 0723     		movs	r3, #7
 6803 02a6 0193     		str	r3, [sp, #4]
 6804 02a8 1CE7     		b	.L464
 6805              		.cfi_endproc
 6806              	.LFE109:
 6808              		.section	.text.putc_bfd,"ax",%progbits
 6809              		.align	1
 6810              		.syntax unified
 6811              		.thumb
 6812              		.thumb_func
 6813              		.fpu softvfp
 6815              	putc_bfd:
 6816              	.LVL740:
 6817              	.LFB126:
2873:Middlewares/Third_Party/FatFs/src/ff.c **** 
2874:Middlewares/Third_Party/FatFs/src/ff.c **** 
2875:Middlewares/Third_Party/FatFs/src/ff.c **** 
2876:Middlewares/Third_Party/FatFs/src/ff.c **** 
2877:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2878:Middlewares/Third_Party/FatFs/src/ff.c **** /* Synchronize the File                                                  */
2879:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/cc9KJrYz.s 			page 199


2880:Middlewares/Third_Party/FatFs/src/ff.c **** 
2881:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_sync (
2882:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
2883:Middlewares/Third_Party/FatFs/src/ff.c **** )
2884:Middlewares/Third_Party/FatFs/src/ff.c **** {
2885:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2886:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
2887:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
2888:Middlewares/Third_Party/FatFs/src/ff.c **** 
2889:Middlewares/Third_Party/FatFs/src/ff.c **** 
2890:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);					/* Check validity of the object */
2891:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA__WRITTEN) {	/* Has the file been written? */
2893:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write-back dirty buffer */
2894:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
2895:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA__DIRTY) {
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
2897:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fp->fs, FR_DISK_ERR);
2898:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
2899:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2900:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2901:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Update the directory entry */
2902:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = move_window(fp->fs, fp->dir_sect);
2903:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
2904:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fp->dir_ptr;
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] |= AM_ARC;					/* Set archive bit */
2906:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, fp->fsize);	/* Update file size */
2907:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, fp->sclust);					/* Update start cluster */
2908:Middlewares/Third_Party/FatFs/src/ff.c **** 				tm = GET_FATTIME();							/* Update updated time */
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
2911:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__WRITTEN;
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs->wflag = 1;
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fp->fs);
2914:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
2915:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2916:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2917:Middlewares/Third_Party/FatFs/src/ff.c **** 
2918:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, res);
2919:Middlewares/Third_Party/FatFs/src/ff.c **** }
2920:Middlewares/Third_Party/FatFs/src/ff.c **** 
2921:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
2922:Middlewares/Third_Party/FatFs/src/ff.c **** 
2923:Middlewares/Third_Party/FatFs/src/ff.c **** 
2924:Middlewares/Third_Party/FatFs/src/ff.c **** 
2925:Middlewares/Third_Party/FatFs/src/ff.c **** 
2926:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2927:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close File                                                            */
2928:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2929:Middlewares/Third_Party/FatFs/src/ff.c **** 
2930:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_close (
2931:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL *fp		/* Pointer to the file object to be closed */
2932:Middlewares/Third_Party/FatFs/src/ff.c **** )
2933:Middlewares/Third_Party/FatFs/src/ff.c **** {
2934:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2935:Middlewares/Third_Party/FatFs/src/ff.c **** 
2936:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9KJrYz.s 			page 200


2937:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
2938:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_sync(fp);					/* Flush cached data */
2939:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
2940:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2941:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
2942:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = validate(fp);				/* Lock volume */
2943:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
2944:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
2945:Middlewares/Third_Party/FatFs/src/ff.c **** 			FATFS *fs = fp->fs;
2946:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2947:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
2948:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(fp->lockid);	/* Decrement file open counter */
2949:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
2950:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2951:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs = 0;				/* Invalidate file object */
2952:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
2953:Middlewares/Third_Party/FatFs/src/ff.c **** 			unlock_fs(fs, FR_OK);		/* Unlock volume */
2954:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2955:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
2956:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
2957:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
2958:Middlewares/Third_Party/FatFs/src/ff.c **** }
2959:Middlewares/Third_Party/FatFs/src/ff.c **** 
2960:Middlewares/Third_Party/FatFs/src/ff.c **** 
2961:Middlewares/Third_Party/FatFs/src/ff.c **** 
2962:Middlewares/Third_Party/FatFs/src/ff.c **** 
2963:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2964:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Current Directory or Current Drive, Get Current Directory      */
2965:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
2966:Middlewares/Third_Party/FatFs/src/ff.c **** 
2967:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 1
2968:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
2969:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdrive (
2970:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Drive number */
2971:Middlewares/Third_Party/FatFs/src/ff.c **** )
2972:Middlewares/Third_Party/FatFs/src/ff.c **** {
2973:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
2974:Middlewares/Third_Party/FatFs/src/ff.c **** 
2975:Middlewares/Third_Party/FatFs/src/ff.c **** 
2976:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
2977:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
2978:Middlewares/Third_Party/FatFs/src/ff.c **** 
2979:Middlewares/Third_Party/FatFs/src/ff.c **** 	CurrVol = (BYTE)vol;
2980:Middlewares/Third_Party/FatFs/src/ff.c **** 
2981:Middlewares/Third_Party/FatFs/src/ff.c **** 	return FR_OK;
2982:Middlewares/Third_Party/FatFs/src/ff.c **** }
2983:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
2984:Middlewares/Third_Party/FatFs/src/ff.c **** 
2985:Middlewares/Third_Party/FatFs/src/ff.c **** 
2986:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chdir (
2987:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
2988:Middlewares/Third_Party/FatFs/src/ff.c **** )
2989:Middlewares/Third_Party/FatFs/src/ff.c **** {
2990:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
2991:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
2992:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
2993:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9KJrYz.s 			page 201


2994:Middlewares/Third_Party/FatFs/src/ff.c **** 
2995:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
2996:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 0);
2997:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
2998:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
2999:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the path */
3000:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3001:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* Follow completed */
3002:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dj.dir) {
3003:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->cdir = dj.sclust;	/* Start directory itself */
3004:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3005:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.dir[DIR_Attr] & AM_DIR)	/* Reached to the directory */
3006:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->cdir = ld_clust(dj.fs, dj.dir);
3007:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
3008:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;		/* Reached but a file */
3009:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3010:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3011:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
3012:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3013:Middlewares/Third_Party/FatFs/src/ff.c **** 
3014:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3015:Middlewares/Third_Party/FatFs/src/ff.c **** }
3016:Middlewares/Third_Party/FatFs/src/ff.c **** 
3017:Middlewares/Third_Party/FatFs/src/ff.c **** 
3018:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH >= 2
3019:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getcwd (
3020:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the directory path */
3021:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT len		/* Size of path */
3022:Middlewares/Third_Party/FatFs/src/ff.c **** )
3023:Middlewares/Third_Party/FatFs/src/ff.c **** {
3024:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3025:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3026:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n;
3027:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ccl;
3028:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR *tp;
3029:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO fno;
3030:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3031:Middlewares/Third_Party/FatFs/src/ff.c **** 
3032:Middlewares/Third_Party/FatFs/src/ff.c **** 
3033:Middlewares/Third_Party/FatFs/src/ff.c **** 	*buff = 0;
3034:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3035:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, (const TCHAR**)&buff, 0);	/* Get current volume */
3036:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3037:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3038:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = len;			/* Bottom of buffer (directory stack base) */
3039:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.sclust = dj.fs->cdir;			/* Start to follow upper directory from current directory */
3040:Middlewares/Third_Party/FatFs/src/ff.c **** 		while ((ccl = dj.sclust) != 0) {	/* Repeat while current directory is a sub-directory */
3041:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(&dj, 1);			/* Get parent directory */
3042:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
3043:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(&dj, 0);
3044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
3045:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.sclust = ld_clust(dj.fs, dj.dir);	/* Goto parent directory */
3046:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(&dj, 0);
3047:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
3048:Middlewares/Third_Party/FatFs/src/ff.c **** 			do {							/* Find the entry links to the child directory */
3049:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_read(&dj, 0);
3050:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res != FR_OK) break;
ARM GAS  /tmp/cc9KJrYz.s 			page 202


3051:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ccl == ld_clust(dj.fs, dj.dir)) break;	/* Found the entry */
3052:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(&dj, 0);	
3053:Middlewares/Third_Party/FatFs/src/ff.c **** 			} while (res == FR_OK);
3054:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) res = FR_INT_ERR;/* It cannot be 'not found'. */
3055:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) break;
3056:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
3057:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno.lfname = buff;
3058:Middlewares/Third_Party/FatFs/src/ff.c **** 			fno.lfsize = i;
3059:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3060:Middlewares/Third_Party/FatFs/src/ff.c **** 			get_fileinfo(&dj, &fno);		/* Get the directory name and push it to the buffer */
3061:Middlewares/Third_Party/FatFs/src/ff.c **** 			tp = fno.fname;
3062:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
3063:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (*buff) tp = buff;
3064:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3065:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (n = 0; tp[n]; n++) ;
3066:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i < n + 3) {
3067:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NOT_ENOUGH_CORE; break;
3068:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3069:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (n) buff[--i] = tp[--n];
3070:Middlewares/Third_Party/FatFs/src/ff.c **** 			buff[--i] = '/';
3071:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3072:Middlewares/Third_Party/FatFs/src/ff.c **** 		tp = buff;
3073:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3074:Middlewares/Third_Party/FatFs/src/ff.c **** #if _VOLUMES >= 2
3075:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = '0' + CurrVol;			/* Put drive number */
3076:Middlewares/Third_Party/FatFs/src/ff.c **** 			*tp++ = ':';
3077:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3078:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (i == len) {					/* Root-directory */
3079:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tp++ = '/';
3080:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* Sub-directroy */
3081:Middlewares/Third_Party/FatFs/src/ff.c **** 				do		/* Add stacked path str */
3082:Middlewares/Third_Party/FatFs/src/ff.c **** 					*tp++ = buff[i++];
3083:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (i < len);
3084:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3085:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3086:Middlewares/Third_Party/FatFs/src/ff.c **** 		*tp = 0;
3087:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3088:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3089:Middlewares/Third_Party/FatFs/src/ff.c **** 
3090:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3091:Middlewares/Third_Party/FatFs/src/ff.c **** }
3092:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 2 */
3093:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_RPATH >= 1 */
3094:Middlewares/Third_Party/FatFs/src/ff.c **** 
3095:Middlewares/Third_Party/FatFs/src/ff.c **** 
3096:Middlewares/Third_Party/FatFs/src/ff.c **** 
3097:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 2
3098:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3099:Middlewares/Third_Party/FatFs/src/ff.c **** /* Seek File R/W Pointer                                                 */
3100:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3101:Middlewares/Third_Party/FatFs/src/ff.c **** 
3102:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_lseek (
3103:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,		/* Pointer to the file object */
3104:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ofs		/* File pointer from top of file */
3105:Middlewares/Third_Party/FatFs/src/ff.c **** )
3106:Middlewares/Third_Party/FatFs/src/ff.c **** {
3107:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
ARM GAS  /tmp/cc9KJrYz.s 			page 203


3108:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, bcs, nsect, ifptr;
3109:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3110:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD cl, pcl, ncl, tcl, dsc, tlen, ulen, *tbl;
3111:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3112:Middlewares/Third_Party/FatFs/src/ff.c **** 
3113:Middlewares/Third_Party/FatFs/src/ff.c **** 
3114:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);					/* Check validity of the object */
3115:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)						/* Check error */
3117:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
3118:Middlewares/Third_Party/FatFs/src/ff.c **** 
3119:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->cltbl) {	/* Fast seek */
3121:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
3125:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3127:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get a fragment */
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					tcl = cl; ncl = 0; ulen += 2;	/* Top, length and used items */
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(fp->fs, cl);
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
3137:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (cl < fp->fs->n_fatent);	/* Repeat until end of chain */
3139:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 			*fp->cltbl = ulen;	/* Number of items used */
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen)
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
3143:Middlewares/Third_Party/FatFs/src/ff.c **** 			else
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NOT_ENOUGH_CORE;	/* Given table size is smaller than required */
3145:Middlewares/Third_Party/FatFs/src/ff.c **** 
3146:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {						/* Fast seek */
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs > fp->fsize)		/* Clip offset at the file size */
3148:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs = fp->fsize;
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fptr = ofs;				/* Set file pointer */
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fp->fs, FR_INT_ERR);
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
3155:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
3156:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3157:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA__DIRTY) {		/* Write-back dirty sector cache */
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 							ABORT(fp->fs, FR_DISK_ERR);
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= ~FA__DIRTY;
3162:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3163:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (disk_read(fp->fs->drv, fp->buf.d8, dsc, 1) != RES_OK)	/* Load current sector */
ARM GAS  /tmp/cc9KJrYz.s 			page 204


3165:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
3166:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->dsect = dsc;
3168:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3169:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3170:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3171:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else
3172:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3173:Middlewares/Third_Party/FatFs/src/ff.c **** 
3174:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Normal Seek */
3175:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
3176:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs > fp->fsize					/* In read-only mode, clip offset with the file size */
3177:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3178:Middlewares/Third_Party/FatFs/src/ff.c **** 			 && !(fp->flag & FA_WRITE)
3179:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3180:Middlewares/Third_Party/FatFs/src/ff.c **** 			) ofs = fp->fsize;
3181:Middlewares/Third_Party/FatFs/src/ff.c **** 
3182:Middlewares/Third_Party/FatFs/src/ff.c **** 		ifptr = fp->fptr;
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
3184:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fp->fs->csize * SS(fp->fs);	/* Cluster size (byte) */
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
3187:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
3188:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
3189:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
3191:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
3192:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->sclust;						/* start from the first cluster */
3193:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3194:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0) {						/* If no cluster chain, create a new chain */
3195:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(fp->fs, 0);
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
3198:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
3199:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3200:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3201:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;
3202:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3203:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (clst != 0) {
3204:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
3205:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fp->flag & FA_WRITE) {			/* Check if in write mode or not */
3207:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, clst);	/* Force stretch if in write mode */
3208:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* When disk gets full, clip file size */
3209:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = bcs; break;
3210:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3211:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3212:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3213:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = get_fat(fp->fs, clst);	/* Follow cluster chain if not in write mode */
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
3216:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
3217:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->fptr += bcs;
3218:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs;
3219:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr += ofs;
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fp->fs)) {
ARM GAS  /tmp/cc9KJrYz.s 			page 205


3222:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fp->fs, clst);	/* Current sector */
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fp->fs, FR_INT_ERR);
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
3225:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3226:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3227:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3228:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr % SS(fp->fs) && nsect != fp->dsect) {	/* Fill sector cache if needed */
3229:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3230:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->flag & FA__DIRTY) {			/* Write-back dirty sector cache */
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
3235:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3236:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_read(fp->fs->drv, fp->buf.d8, nsect, 1) != RES_OK)	/* Fill sector cache */
3238:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
3239:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3240:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->dsect = nsect;
3241:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3242:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fptr > fp->fsize) {			/* Set file change flag if the file size is extended */
3244:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
3246:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3247:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3248:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3249:Middlewares/Third_Party/FatFs/src/ff.c **** 
3250:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, res);
3251:Middlewares/Third_Party/FatFs/src/ff.c **** }
3252:Middlewares/Third_Party/FatFs/src/ff.c **** 
3253:Middlewares/Third_Party/FatFs/src/ff.c **** 
3254:Middlewares/Third_Party/FatFs/src/ff.c **** 
3255:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE <= 1
3256:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3257:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory Object                                             */
3258:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3259:Middlewares/Third_Party/FatFs/src/ff.c **** 
3260:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_opendir (
3261:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to directory object to create */
3262:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path	/* Pointer to the directory path */
3263:Middlewares/Third_Party/FatFs/src/ff.c **** )
3264:Middlewares/Third_Party/FatFs/src/ff.c **** {
3265:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3266:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs;
3267:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3268:Middlewares/Third_Party/FatFs/src/ff.c **** 
3269:Middlewares/Third_Party/FatFs/src/ff.c **** 
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!dp) return FR_INVALID_OBJECT;
3271:Middlewares/Third_Party/FatFs/src/ff.c **** 
3272:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&fs, &path, 0);
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fs = fs;
3276:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(*dp);
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
3278:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
ARM GAS  /tmp/cc9KJrYz.s 			page 206


3279:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
3280:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir) {						/* It is not the origin directory itself */
3281:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->dir[DIR_Attr] & AM_DIR)	/* The object is a sub directory */
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sclust = ld_clust(fs, dp->dir);
3283:Middlewares/Third_Party/FatFs/src/ff.c **** 				else							/* The object is a file */
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_NO_PATH;
3285:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3286:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->id = fs->id;
3288:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
3289:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
3290:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) {
3291:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dp->sclust) {
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!dp->lockid)
3294:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = FR_TOO_MANY_OPEN_FILES;
3295:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
3296:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = 0;	/* Root directory need not to be locked */
3297:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3298:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3299:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3300:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3301:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) res = FR_NO_PATH;
3303:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) dp->fs = 0;		/* Invalidate the directory object if function faild */
3305:Middlewares/Third_Party/FatFs/src/ff.c **** 
3306:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3307:Middlewares/Third_Party/FatFs/src/ff.c **** }
3308:Middlewares/Third_Party/FatFs/src/ff.c **** 
3309:Middlewares/Third_Party/FatFs/src/ff.c **** 
3310:Middlewares/Third_Party/FatFs/src/ff.c **** 
3311:Middlewares/Third_Party/FatFs/src/ff.c **** 
3312:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3313:Middlewares/Third_Party/FatFs/src/ff.c **** /* Close Directory                                                       */
3314:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3315:Middlewares/Third_Party/FatFs/src/ff.c **** 
3316:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_closedir (
3317:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR *dp		/* Pointer to the directory object to be closed */
3318:Middlewares/Third_Party/FatFs/src/ff.c **** )
3319:Middlewares/Third_Party/FatFs/src/ff.c **** {
3320:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3321:Middlewares/Third_Party/FatFs/src/ff.c **** 
3322:Middlewares/Third_Party/FatFs/src/ff.c **** 
3323:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(dp);
3324:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3325:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3326:Middlewares/Third_Party/FatFs/src/ff.c **** 		FATFS *fs = dp->fs;
3327:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3328:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (dp->lockid)				/* Decrement sub-directory open counter */
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->lockid);
3331:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
3332:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3333:Middlewares/Third_Party/FatFs/src/ff.c **** 			dp->fs = 0;				/* Invalidate directory object */
3334:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
3335:Middlewares/Third_Party/FatFs/src/ff.c **** 		unlock_fs(fs, FR_OK);		/* Unlock volume */
ARM GAS  /tmp/cc9KJrYz.s 			page 207


3336:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3337:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3338:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3339:Middlewares/Third_Party/FatFs/src/ff.c **** }
3340:Middlewares/Third_Party/FatFs/src/ff.c **** 
3341:Middlewares/Third_Party/FatFs/src/ff.c **** 
3342:Middlewares/Third_Party/FatFs/src/ff.c **** 
3343:Middlewares/Third_Party/FatFs/src/ff.c **** 
3344:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3345:Middlewares/Third_Party/FatFs/src/ff.c **** /* Read Directory Entries in Sequence                                    */
3346:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3347:Middlewares/Third_Party/FatFs/src/ff.c **** 
3348:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_readdir (
3349:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,			/* Pointer to the open directory object */
3350:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
3351:Middlewares/Third_Party/FatFs/src/ff.c **** )
3352:Middlewares/Third_Party/FatFs/src/ff.c **** {
3353:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3355:Middlewares/Third_Party/FatFs/src/ff.c **** 
3356:Middlewares/Third_Party/FatFs/src/ff.c **** 
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(dp);						/* Check validity of the object */
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3359:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
3361:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3362:Middlewares/Third_Party/FatFs/src/ff.c **** 			INIT_BUF(*dp);
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
3364:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {		/* Reached end of directory */
3365:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0;
3366:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
3367:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {				/* A valid entry is found */
3369:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
3371:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {
3372:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sect = 0;
3373:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_OK;
3374:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3375:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3376:Middlewares/Third_Party/FatFs/src/ff.c **** 			FREE_BUF();
3377:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3378:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3379:Middlewares/Third_Party/FatFs/src/ff.c **** 
3380:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dp->fs, res);
3381:Middlewares/Third_Party/FatFs/src/ff.c **** }
3382:Middlewares/Third_Party/FatFs/src/ff.c **** 
3383:Middlewares/Third_Party/FatFs/src/ff.c **** 
3384:Middlewares/Third_Party/FatFs/src/ff.c **** 
3385:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FIND
3386:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3387:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find next file                                                        */
3388:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3389:Middlewares/Third_Party/FatFs/src/ff.c **** 
3390:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findnext (
3391:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,		/* Pointer to the open directory object */
3392:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno	/* Pointer to the file information structure */
ARM GAS  /tmp/cc9KJrYz.s 			page 208


3393:Middlewares/Third_Party/FatFs/src/ff.c **** )
3394:Middlewares/Third_Party/FatFs/src/ff.c **** {
3395:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3396:Middlewares/Third_Party/FatFs/src/ff.c **** 
3397:Middlewares/Third_Party/FatFs/src/ff.c **** 
3398:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
3399:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_readdir(dp, fno);		/* Get a directory item */
3400:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK || !fno || !fno->fname[0]) break;	/* Terminate if any error or end of directory 
3401:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
3402:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fno->lfname && pattern_matching(dp->pat, fno->lfname, 0, 0)) break;	/* Test for LFN if exist 
3403:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3404:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (pattern_matching(dp->pat, fno->fname, 0, 0)) break;	/* Test for SFN */
3405:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3406:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3407:Middlewares/Third_Party/FatFs/src/ff.c **** 
3408:Middlewares/Third_Party/FatFs/src/ff.c **** }
3409:Middlewares/Third_Party/FatFs/src/ff.c **** 
3410:Middlewares/Third_Party/FatFs/src/ff.c **** 
3411:Middlewares/Third_Party/FatFs/src/ff.c **** 
3412:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3413:Middlewares/Third_Party/FatFs/src/ff.c **** /* Find first file                                                       */
3414:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3415:Middlewares/Third_Party/FatFs/src/ff.c **** 
3416:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_findfirst (
3417:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR* dp,				/* Pointer to the blank directory object */
3418:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno,			/* Pointer to the file information structure */
3419:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,		/* Pointer to the directory to open */
3420:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* pattern	/* Pointer to the matching pattern */
3421:Middlewares/Third_Party/FatFs/src/ff.c **** )
3422:Middlewares/Third_Party/FatFs/src/ff.c **** {
3423:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3424:Middlewares/Third_Party/FatFs/src/ff.c **** 
3425:Middlewares/Third_Party/FatFs/src/ff.c **** 
3426:Middlewares/Third_Party/FatFs/src/ff.c **** 	dp->pat = pattern;		/* Save pointer to pattern string */
3427:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = f_opendir(dp, path);		/* Open the target directory */
3428:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
3429:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = f_findnext(dp, fno);	/* Find the first item */
3430:Middlewares/Third_Party/FatFs/src/ff.c **** 	return res;
3431:Middlewares/Third_Party/FatFs/src/ff.c **** }
3432:Middlewares/Third_Party/FatFs/src/ff.c **** 
3433:Middlewares/Third_Party/FatFs/src/ff.c **** #endif	/* _USE_FIND */
3434:Middlewares/Third_Party/FatFs/src/ff.c **** 
3435:Middlewares/Third_Party/FatFs/src/ff.c **** 
3436:Middlewares/Third_Party/FatFs/src/ff.c **** 
3437:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_MINIMIZE == 0
3438:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3439:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get File Status                                                       */
3440:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3441:Middlewares/Third_Party/FatFs/src/ff.c **** 
3442:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_stat (
3443:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
3444:Middlewares/Third_Party/FatFs/src/ff.c **** 	FILINFO* fno		/* Pointer to file information to return */
3445:Middlewares/Third_Party/FatFs/src/ff.c **** )
3446:Middlewares/Third_Party/FatFs/src/ff.c **** {
3447:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3448:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3449:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
ARM GAS  /tmp/cc9KJrYz.s 			page 209


3450:Middlewares/Third_Party/FatFs/src/ff.c **** 
3451:Middlewares/Third_Party/FatFs/src/ff.c **** 
3452:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 0);
3454:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3455:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.dir) {		/* Found an object */
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
3460:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {			/* It is root directory */
3461:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3462:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3463:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3465:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3466:Middlewares/Third_Party/FatFs/src/ff.c **** 
3467:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3468:Middlewares/Third_Party/FatFs/src/ff.c **** }
3469:Middlewares/Third_Party/FatFs/src/ff.c **** 
3470:Middlewares/Third_Party/FatFs/src/ff.c **** 
3471:Middlewares/Third_Party/FatFs/src/ff.c **** 
3472:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3473:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3474:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get Number of Free Clusters                                           */
3475:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3476:Middlewares/Third_Party/FatFs/src/ff.c **** 
3477:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getfree (
3478:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
3479:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* nclst,		/* Pointer to a variable to return number of free clusters */
3480:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS** fatfs		/* Pointer to return pointer to corresponding file system object */
3481:Middlewares/Third_Party/FatFs/src/ff.c **** )
3482:Middlewares/Third_Party/FatFs/src/ff.c **** {
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
3485:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n, clst, sect, stat;
3486:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
3487:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fat, *p;
3488:Middlewares/Third_Party/FatFs/src/ff.c **** 
3489:Middlewares/Third_Party/FatFs/src/ff.c **** 
3490:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(fatfs, &path, 0);
3492:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
3493:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3494:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clust is valid, return it without full cluster scan */
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fs->free_clust <= fs->n_fatent - 2) {
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
3497:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3498:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Get number of free clusters */
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 			fat = fs->fs_type;
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = 0;
3501:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fat == FS_FAT12) {
3502:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2;
3503:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3504:Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(fs, clst);
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
ARM GAS  /tmp/cc9KJrYz.s 			page 210


3507:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) n++;
3508:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
3509:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3510:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fs->n_fatent;
3511:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect = fs->fatbase;
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; p = 0;
3513:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3514:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!i) {
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(fs, sect++);
3516:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 						p = fs->win.d8;
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 						i = SS(fs);
3519:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (fat == FS_FAT16) {
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (LD_WORD(p) == 0) n++;
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
3523:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((LD_DWORD(p) & 0x0FFFFFFF) == 0) n++;
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
3526:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (--clst);
3528:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->free_clust = n;
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = n;
3532:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3533:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3534:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fs, res);
3535:Middlewares/Third_Party/FatFs/src/ff.c **** }
3536:Middlewares/Third_Party/FatFs/src/ff.c **** 
3537:Middlewares/Third_Party/FatFs/src/ff.c **** 
3538:Middlewares/Third_Party/FatFs/src/ff.c **** 
3539:Middlewares/Third_Party/FatFs/src/ff.c **** 
3540:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3541:Middlewares/Third_Party/FatFs/src/ff.c **** /* Truncate File                                                         */
3542:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3543:Middlewares/Third_Party/FatFs/src/ff.c **** 
3544:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_truncate (
3545:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
3546:Middlewares/Third_Party/FatFs/src/ff.c **** )
3547:Middlewares/Third_Party/FatFs/src/ff.c **** {
3548:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3549:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl;
3550:Middlewares/Third_Party/FatFs/src/ff.c **** 
3551:Middlewares/Third_Party/FatFs/src/ff.c **** 
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);						/* Check validity of the object */
3553:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->err) {						/* Check error */
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = (FRESULT)fp->err;
3556:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(fp->flag & FA_WRITE))		/* Check access mode */
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DENIED;
3559:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3560:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3561:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fsize > fp->fptr) {
3563:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;	/* Set file size to current R/W point */
ARM GAS  /tmp/cc9KJrYz.s 			page 211


3564:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
3565:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
3566:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(fp->fs, fp->sclust);
3567:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->sclust = 0;
3568:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* When truncate a part of the file, remove remaining clusters */
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 				ncl = get_fat(fp->fs, fp->clust);
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
3572:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 1) res = FR_INT_ERR;
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ncl < fp->fs->n_fatent) {
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) res = remove_chain(fp->fs, ncl);
3576:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3577:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3578:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
3579:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK && (fp->flag & FA__DIRTY)) {
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DISK_ERR;
3582:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
3583:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->flag &= ~FA__DIRTY;
3584:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3585:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3586:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res != FR_OK) fp->err = (FRESULT)res;
3588:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3589:Middlewares/Third_Party/FatFs/src/ff.c **** 
3590:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, res);
3591:Middlewares/Third_Party/FatFs/src/ff.c **** }
3592:Middlewares/Third_Party/FatFs/src/ff.c **** 
3593:Middlewares/Third_Party/FatFs/src/ff.c **** 
3594:Middlewares/Third_Party/FatFs/src/ff.c **** 
3595:Middlewares/Third_Party/FatFs/src/ff.c **** 
3596:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3597:Middlewares/Third_Party/FatFs/src/ff.c **** /* Delete a File or Directory                                            */
3598:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3599:Middlewares/Third_Party/FatFs/src/ff.c **** 
3600:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_unlink (
3601:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the file or directory path */
3602:Middlewares/Third_Party/FatFs/src/ff.c **** )
3603:Middlewares/Third_Party/FatFs/src/ff.c **** {
3604:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3605:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj, sdj;
3606:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3607:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dclst = 0;
3608:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3609:Middlewares/Third_Party/FatFs/src/ff.c **** 
3610:Middlewares/Third_Party/FatFs/src/ff.c **** 
3611:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
3613:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3614:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
3616:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
3617:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
3618:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
3619:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = chk_lock(&dj, 2);	/* Cannot remove open object */
3620:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/cc9KJrYz.s 			page 212


3621:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {					/* The object is accessible */
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
3623:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {
3624:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
3625:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dir[DIR_Attr] & AM_RDO)
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
3628:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3629:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
3630:Middlewares/Third_Party/FatFs/src/ff.c **** 				dclst = ld_clust(dj.fs, dir);
3631:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dclst && (dir[DIR_Attr] & AM_DIR)) {	/* Is it a sub-directory ? */
3632:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
3633:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dclst == dj.fs->cdir) {		 		/* Is it the current directory? */
3634:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = FR_DENIED;
3635:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else
3636:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3637:Middlewares/Third_Party/FatFs/src/ff.c **** 					{
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(&sdj, &dj, sizeof (DIR));	/* Open the sub-directory */
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.sclust = dclst;
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 2);
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item (excluding dot entries) */
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? (cannot remove) */
3644:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? (can remove) */
3645:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3646:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3647:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3648:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3649:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
3650:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);		/* Remove the directory entry */
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst)	/* Remove the cluster chain if exist */
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, dclst);
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
3654:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3655:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3657:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3658:Middlewares/Third_Party/FatFs/src/ff.c **** 
3659:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3660:Middlewares/Third_Party/FatFs/src/ff.c **** }
3661:Middlewares/Third_Party/FatFs/src/ff.c **** 
3662:Middlewares/Third_Party/FatFs/src/ff.c **** 
3663:Middlewares/Third_Party/FatFs/src/ff.c **** 
3664:Middlewares/Third_Party/FatFs/src/ff.c **** 
3665:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3666:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create a Directory                                                    */
3667:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3668:Middlewares/Third_Party/FatFs/src/ff.c **** 
3669:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkdir (
3670:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path		/* Pointer to the directory path */
3671:Middlewares/Third_Party/FatFs/src/ff.c **** )
3672:Middlewares/Third_Party/FatFs/src/ff.c **** {
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir, n;
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm = GET_FATTIME();
3677:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
ARM GAS  /tmp/cc9KJrYz.s 			page 213


3678:Middlewares/Third_Party/FatFs/src/ff.c **** 
3679:Middlewares/Third_Party/FatFs/src/ff.c **** 
3680:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
3682:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3683:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3684:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT))
3687:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
3688:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_NO_FILE) {				/* Can create a new directory */
3689:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(dj.fs, 0);		/* Allocate a cluster for the new directory table */
3690:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
3694:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)					/* Flush FAT */
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_window(dj.fs);
3696:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(dj.fs, dcl);
3698:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.fs->win.d8;
3699:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(dj.fs));
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Name] = '.';
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
3704:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);
3705:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dir + SZ_DIRE, dir, SZ_DIRE); 	/* Create ".." entry */
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[SZ_DIRE + 1] = '.'; pcl = dj.sclust;
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
3709:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir + SZ_DIRE, pcl);
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = dj.fs->csize; n; n--) {	/* Write dot entries and clear following sectors */
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
3712:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
3713:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(dj.fs);
3714:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(dj.fs));
3716:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
3717:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) res = dir_register(&dj);	/* Register the object to the directoy */
3719:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 				remove_chain(dj.fs, dcl);			/* Could not register, remove cluster chain */
3721:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3722:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.dir;
3723:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;				/* Attribute */
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);	/* Created time */
3725:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
3728:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3729:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3730:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3731:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3732:Middlewares/Third_Party/FatFs/src/ff.c **** 
3733:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3734:Middlewares/Third_Party/FatFs/src/ff.c **** }
ARM GAS  /tmp/cc9KJrYz.s 			page 214


3735:Middlewares/Third_Party/FatFs/src/ff.c **** 
3736:Middlewares/Third_Party/FatFs/src/ff.c **** 
3737:Middlewares/Third_Party/FatFs/src/ff.c **** 
3738:Middlewares/Third_Party/FatFs/src/ff.c **** 
3739:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3740:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Attribute                                                      */
3741:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3742:Middlewares/Third_Party/FatFs/src/ff.c **** 
3743:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_chmod (
3744:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file path */
3745:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE attr,			/* Attribute bits */
3746:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE mask			/* Attribute mask to change */
3747:Middlewares/Third_Party/FatFs/src/ff.c **** )
3748:Middlewares/Third_Party/FatFs/src/ff.c **** {
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3751:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3752:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3753:Middlewares/Third_Party/FatFs/src/ff.c **** 
3754:Middlewares/Third_Party/FatFs/src/ff.c **** 
3755:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
3757:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3758:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3759:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
3760:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3761:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
3762:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
3763:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3764:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
3765:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {						/* Is it a root directory? */
3766:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3767:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* File or sub directory */
3768:Middlewares/Third_Party/FatFs/src/ff.c **** 				mask &= AM_RDO|AM_HID|AM_SYS|AM_ARC;	/* Valid attribute mask */
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = (attr & mask) | (dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change */
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
3772:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3773:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3774:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3775:Middlewares/Third_Party/FatFs/src/ff.c **** 
3776:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3777:Middlewares/Third_Party/FatFs/src/ff.c **** }
3778:Middlewares/Third_Party/FatFs/src/ff.c **** 
3779:Middlewares/Third_Party/FatFs/src/ff.c **** 
3780:Middlewares/Third_Party/FatFs/src/ff.c **** 
3781:Middlewares/Third_Party/FatFs/src/ff.c **** 
3782:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3783:Middlewares/Third_Party/FatFs/src/ff.c **** /* Rename File/Directory                                                 */
3784:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3785:Middlewares/Third_Party/FatFs/src/ff.c **** 
3786:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_rename (
3787:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_old,	/* Pointer to the object to be renamed */
3788:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path_new	/* Pointer to the new name */
3789:Middlewares/Third_Party/FatFs/src/ff.c **** )
3790:Middlewares/Third_Party/FatFs/src/ff.c **** {
3791:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
ARM GAS  /tmp/cc9KJrYz.s 			page 215


3792:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR djo, djn;
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[21], *dir;
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw;
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3796:Middlewares/Third_Party/FatFs/src/ff.c **** 
3797:Middlewares/Third_Party/FatFs/src/ff.c **** 
3798:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number of the source object */
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&djo.fs, &path_old, 1);
3800:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 		djn.fs = djo.fs;
3802:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(djo);
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
3804:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (djo.fn[NSFLAG] & NS_DOT))
3805:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
3806:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
3807:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = chk_lock(&djo, 2);
3808:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3809:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Old object is found */
3810:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!djo.dir) {						/* Is root dir? */
3811:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_FILE;
3812:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
3813:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(buf, djo.dir + DIR_Attr, 21);	/* Save information about object except name */
3814:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
3815:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (get_ldnumber(&path_new) >= 0)		/* Snip drive number off and ignore it */
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = follow_path(&djn, path_new);	/* and make sure if new object name is not conflicting */
3817:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
3818:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_INVALID_DRIVE;
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = FR_EXIST;		/* The new object name is already existing */
3820:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
3822:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
3823:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where any interruption can cause a cross-link */
3824:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir = djn.dir;					/* Copy information about object except name */
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
3827:Middlewares/Third_Party/FatFs/src/ff.c **** 						djo.fs->wflag = 1;
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.sclust != djn.sclust) {	/* Update .. entry in the sub-dir
3829:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
3830:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
3831:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
3832:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = move_window(djo.fs, dw);
3834:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = djo.fs->win.d8 + SZ_DIRE * 1;	/* Ptr to .. entry */
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
3836:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(dir, djn.sclust);
3837:Middlewares/Third_Party/FatFs/src/ff.c **** 									djo.fs->wflag = 1;
3838:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
3839:Middlewares/Third_Party/FatFs/src/ff.c **** 							}
3840:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3841:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
3842:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_remove(&djo);		/* Remove old entry */
3843:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK)
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = sync_fs(djo.fs);
3845:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
3846:Middlewares/Third_Party/FatFs/src/ff.c **** /* End of critical section */
3847:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
3848:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  /tmp/cc9KJrYz.s 			page 216


3849:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3850:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3851:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3852:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3853:Middlewares/Third_Party/FatFs/src/ff.c **** 
3854:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(djo.fs, res);
3855:Middlewares/Third_Party/FatFs/src/ff.c **** }
3856:Middlewares/Third_Party/FatFs/src/ff.c **** 
3857:Middlewares/Third_Party/FatFs/src/ff.c **** 
3858:Middlewares/Third_Party/FatFs/src/ff.c **** 
3859:Middlewares/Third_Party/FatFs/src/ff.c **** 
3860:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3861:Middlewares/Third_Party/FatFs/src/ff.c **** /* Change Timestamp                                                      */
3862:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3863:Middlewares/Third_Party/FatFs/src/ff.c **** 
3864:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_utime (
3865:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Pointer to the file/directory name */
3866:Middlewares/Third_Party/FatFs/src/ff.c **** 	const FILINFO* fno	/* Pointer to the time stamp to be set */
3867:Middlewares/Third_Party/FatFs/src/ff.c **** )
3868:Middlewares/Third_Party/FatFs/src/ff.c **** {
3869:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3870:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3871:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
3872:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
3873:Middlewares/Third_Party/FatFs/src/ff.c **** 
3874:Middlewares/Third_Party/FatFs/src/ff.c **** 
3875:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 1);
3877:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
3878:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
3880:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
3881:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
3882:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {					/* Root directory */
3886:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
3887:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* File or sub-directory */
3888:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_WrtTime, fno->ftime);
3889:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_WrtDate, fno->fdate);
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
3892:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3893:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3894:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3895:Middlewares/Third_Party/FatFs/src/ff.c **** 
3896:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3897:Middlewares/Third_Party/FatFs/src/ff.c **** }
3898:Middlewares/Third_Party/FatFs/src/ff.c **** 
3899:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
3900:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE == 0 */
3901:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 1 */
3902:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _FS_MINIMIZE <= 2 */
3903:Middlewares/Third_Party/FatFs/src/ff.c **** 
3904:Middlewares/Third_Party/FatFs/src/ff.c **** 
3905:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9KJrYz.s 			page 217


3906:Middlewares/Third_Party/FatFs/src/ff.c **** 
3907:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LABEL
3908:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3909:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get volume label                                                      */
3910:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3911:Middlewares/Third_Party/FatFs/src/ff.c **** 
3912:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_getlabel (
3913:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Path name of the logical drive number */
3914:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* label,		/* Pointer to a buffer to return the volume label */
3915:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD* vsn			/* Pointer to a variable to return the volume serial number */
3916:Middlewares/Third_Party/FatFs/src/ff.c **** )
3917:Middlewares/Third_Party/FatFs/src/ff.c **** {
3918:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3919:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3920:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j;
3921:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
3922:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
3923:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3924:Middlewares/Third_Party/FatFs/src/ff.c **** 
3925:Middlewares/Third_Party/FatFs/src/ff.c **** 
3926:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3927:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &path, 0);
3928:Middlewares/Third_Party/FatFs/src/ff.c **** 
3929:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume label */
3930:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && label) {
3931:Middlewares/Third_Party/FatFs/src/ff.c **** 		dj.sclust = 0;					/* Open root directory */
3932:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_sdi(&dj, 0);
3933:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3934:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(&dj, 1);		/* Get an entry with AM_VOL */
3935:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {			/* A volume label is exist */
3936:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
3937:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = j = 0;
3938:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3939:Middlewares/Third_Party/FatFs/src/ff.c **** 					w = (i < 11) ? dj.dir[i++] : ' ';
3940:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (IsDBCS1(w) && i < 11 && IsDBCS2(dj.dir[i]))
3941:Middlewares/Third_Party/FatFs/src/ff.c **** 						w = w << 8 | dj.dir[i++];
3942:Middlewares/Third_Party/FatFs/src/ff.c **** 					label[j++] = ff_convert(w, 1);	/* OEM -> Unicode */
3943:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (j < 11);
3944:Middlewares/Third_Party/FatFs/src/ff.c **** #else
3945:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(label, dj.dir, 11);
3946:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
3947:Middlewares/Third_Party/FatFs/src/ff.c **** 				j = 11;
3948:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
3949:Middlewares/Third_Party/FatFs/src/ff.c **** 					label[j] = 0;
3950:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!j) break;
3951:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (label[--j] == ' ');
3952:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3953:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {	/* No label, return nul string */
3954:Middlewares/Third_Party/FatFs/src/ff.c **** 				label[0] = 0;
3955:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
3956:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
3957:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3958:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3959:Middlewares/Third_Party/FatFs/src/ff.c **** 
3960:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get volume serial number */
3961:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK && vsn) {
3962:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = move_window(dj.fs, dj.fs->volbase);
ARM GAS  /tmp/cc9KJrYz.s 			page 218


3963:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
3964:Middlewares/Third_Party/FatFs/src/ff.c **** 			i = dj.fs->fs_type == FS_FAT32 ? BS_VolID32 : BS_VolID;
3965:Middlewares/Third_Party/FatFs/src/ff.c **** 			*vsn = LD_DWORD(&dj.fs->win.d8[i]);
3966:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
3967:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
3968:Middlewares/Third_Party/FatFs/src/ff.c **** 
3969:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
3970:Middlewares/Third_Party/FatFs/src/ff.c **** }
3971:Middlewares/Third_Party/FatFs/src/ff.c **** 
3972:Middlewares/Third_Party/FatFs/src/ff.c **** 
3973:Middlewares/Third_Party/FatFs/src/ff.c **** 
3974:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
3975:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3976:Middlewares/Third_Party/FatFs/src/ff.c **** /* Set volume label                                                      */
3977:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
3978:Middlewares/Third_Party/FatFs/src/ff.c **** 
3979:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_setlabel (
3980:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* label	/* Pointer to the volume label to set */
3981:Middlewares/Third_Party/FatFs/src/ff.c **** )
3982:Middlewares/Third_Party/FatFs/src/ff.c **** {
3983:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
3984:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
3985:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE vn[11];
3986:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, j, sl;
3987:Middlewares/Third_Party/FatFs/src/ff.c **** 	WCHAR w;
3988:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
3989:Middlewares/Third_Party/FatFs/src/ff.c **** 
3990:Middlewares/Third_Party/FatFs/src/ff.c **** 
3991:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get logical drive number */
3992:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = find_volume(&dj.fs, &label, 1);
3993:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res) LEAVE_FF(dj.fs, res);
3994:Middlewares/Third_Party/FatFs/src/ff.c **** 
3995:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create a volume label in directory form */
3996:Middlewares/Third_Party/FatFs/src/ff.c **** 	vn[0] = 0;
3997:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (sl = 0; label[sl]; sl++) ;				/* Get name length */
3998:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ; sl && label[sl - 1] == ' '; sl--) ;	/* Remove trailing spaces */
3999:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sl) {	/* Create volume label in directory form */
4000:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = j = 0;
4001:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
4002:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
4003:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(label[i++]), 0);
4004:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4005:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = (BYTE)label[i++];
4006:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsDBCS1(w))
4007:Middlewares/Third_Party/FatFs/src/ff.c **** 				w = (j < 10 && i < sl && IsDBCS2(label[i])) ? w << 8 | (BYTE)label[i++] : 0;
4008:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN
4009:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = ff_convert(ff_wtoupper(ff_convert(w, 1)), 0);
4010:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4011:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (IsLower(w)) w -= 0x20;			/* To upper ASCII characters */
4012:Middlewares/Third_Party/FatFs/src/ff.c **** #ifdef _EXCVT
4013:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w >= 0x80) w = ExCvt[w - 0x80];	/* To upper extended characters (SBCS cfg) */
4014:Middlewares/Third_Party/FatFs/src/ff.c **** #else
4015:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!_DF1S && w >= 0x80) w = 0;		/* Reject extended characters (ASCII cfg) */
4016:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4017:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4018:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4019:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!w || chk_chr("\"*+,.:;<=>\?[]|\x7F", w) || j >= (UINT)((w >= 0x100) ? 10 : 11)) /* Reject i
ARM GAS  /tmp/cc9KJrYz.s 			page 219


4020:Middlewares/Third_Party/FatFs/src/ff.c **** 				LEAVE_FF(dj.fs, FR_INVALID_NAME);
4021:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (w >= 0x100) vn[j++] = (BYTE)(w >> 8);
4022:Middlewares/Third_Party/FatFs/src/ff.c **** 			vn[j++] = (BYTE)w;
4023:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (i < sl);
4024:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (j < 11) vn[j++] = ' ';	/* Fill remaining name field */
4025:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (vn[0] == DDEM) LEAVE_FF(dj.fs, FR_INVALID_NAME);	/* Reject illegal name (heading DDEM) */
4026:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4027:Middlewares/Third_Party/FatFs/src/ff.c **** 
4028:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Set volume label */
4029:Middlewares/Third_Party/FatFs/src/ff.c **** 	dj.sclust = 0;					/* Open root directory */
4030:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = dir_sdi(&dj, 0);
4031:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
4032:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = dir_read(&dj, 1);		/* Get an entry with AM_VOL */
4033:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {			/* A volume label is found */
4034:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (vn[0]) {
4035:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dj.dir, vn, 11);	/* Change the volume label name */
4036:Middlewares/Third_Party/FatFs/src/ff.c **** 				tm = GET_FATTIME();
4037:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dj.dir + DIR_WrtTime, tm);
4038:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4039:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.dir[0] = DDEM;			/* Remove the volume label */
4040:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4041:Middlewares/Third_Party/FatFs/src/ff.c **** 			dj.fs->wflag = 1;
4042:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = sync_fs(dj.fs);
4043:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {					/* No volume label is found or error */
4044:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {
4045:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
4046:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (vn[0]) {				/* Create volume label as new */
4047:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_alloc(&dj, 1);	/* Allocate an entry for volume label */
4048:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
4049:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_set(dj.dir, 0, SZ_DIRE);	/* Set volume label */
4050:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dj.dir, vn, 11);
4051:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.dir[DIR_Attr] = AM_VOL;
4052:Middlewares/Third_Party/FatFs/src/ff.c **** 						tm = GET_FATTIME();
4053:Middlewares/Third_Party/FatFs/src/ff.c **** 						ST_DWORD(dj.dir + DIR_WrtTime, tm);
4054:Middlewares/Third_Party/FatFs/src/ff.c **** 						dj.fs->wflag = 1;
4055:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = sync_fs(dj.fs);
4056:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
4057:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4058:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4059:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4060:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4061:Middlewares/Third_Party/FatFs/src/ff.c **** 
4062:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(dj.fs, res);
4063:Middlewares/Third_Party/FatFs/src/ff.c **** }
4064:Middlewares/Third_Party/FatFs/src/ff.c **** 
4065:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* !_FS_READONLY */
4066:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_LABEL */
4067:Middlewares/Third_Party/FatFs/src/ff.c **** 
4068:Middlewares/Third_Party/FatFs/src/ff.c **** 
4069:Middlewares/Third_Party/FatFs/src/ff.c **** 
4070:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4071:Middlewares/Third_Party/FatFs/src/ff.c **** /* Forward data to the stream directly (available on only tiny cfg)      */
4072:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4073:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FORWARD && _FS_TINY
4074:Middlewares/Third_Party/FatFs/src/ff.c **** 
4075:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_forward (
4076:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp, 						/* Pointer to the file object */
ARM GAS  /tmp/cc9KJrYz.s 			page 220


4077:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT (*func)(const BYTE*,UINT),	/* Pointer to the streaming function */
4078:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT btf,						/* Number of bytes to forward */
4079:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT* bf						/* Pointer to number of bytes forwarded */
4080:Middlewares/Third_Party/FatFs/src/ff.c **** )
4081:Middlewares/Third_Party/FatFs/src/ff.c **** {
4082:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
4083:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD remain, clst, sect;
4084:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rcnt;
4085:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE csect;
4086:Middlewares/Third_Party/FatFs/src/ff.c **** 
4087:Middlewares/Third_Party/FatFs/src/ff.c **** 
4088:Middlewares/Third_Party/FatFs/src/ff.c **** 	*bf = 0;	/* Clear transfer byte counter */
4089:Middlewares/Third_Party/FatFs/src/ff.c **** 
4090:Middlewares/Third_Party/FatFs/src/ff.c **** 	res = validate(fp);								/* Check validity of the object */
4091:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
4092:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)									/* Check error */
4093:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
4094:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!(fp->flag & FA_READ))						/* Check access mode */
4095:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, FR_DENIED);
4096:Middlewares/Third_Party/FatFs/src/ff.c **** 
4097:Middlewares/Third_Party/FatFs/src/ff.c **** 	remain = fp->fsize - fp->fptr;
4098:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (btf > remain) btf = (UINT)remain;			/* Truncate btf by remaining bytes */
4099:Middlewares/Third_Party/FatFs/src/ff.c **** 
4100:Middlewares/Third_Party/FatFs/src/ff.c **** 	for ( ;  btf && (*func)(0, 0);					/* Repeat until all data transferred or stream becomes busy */
4101:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr += rcnt, *bf += rcnt, btf -= rcnt) {
4102:Middlewares/Third_Party/FatFs/src/ff.c **** 		csect = (BYTE)(fp->fptr / SS(fp->fs) & (fp->fs->csize - 1));	/* Sector offset in the cluster */
4103:Middlewares/Third_Party/FatFs/src/ff.c **** 		if ((fp->fptr % SS(fp->fs)) == 0) {			/* On the sector boundary? */
4104:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!csect) {							/* On the cluster boundary? */
4105:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = (fp->fptr == 0) ?			/* On the top of the file? */
4106:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust : get_fat(fp->fs, fp->clust);
4107:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst <= 1) ABORT(fp->fs, FR_INT_ERR);
4108:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
4109:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clst;					/* Update current cluster */
4110:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4111:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4112:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect = clust2sect(fp->fs, fp->clust);		/* Get current data sector */
4113:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!sect) ABORT(fp->fs, FR_INT_ERR);
4114:Middlewares/Third_Party/FatFs/src/ff.c **** 		sect += csect;
4115:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (move_window(fp->fs, sect) != FR_OK)		/* Move sector window */
4116:Middlewares/Third_Party/FatFs/src/ff.c **** 			ABORT(fp->fs, FR_DISK_ERR);
4117:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->dsect = sect;
4118:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = SS(fp->fs) - (WORD)(fp->fptr % SS(fp->fs));	/* Forward data from sector window */
4119:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rcnt > btf) rcnt = btf;
4120:Middlewares/Third_Party/FatFs/src/ff.c **** 		rcnt = (*func)(&fp->fs->win.d8[(WORD)fp->fptr % SS(fp->fs)], rcnt);
4121:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!rcnt) ABORT(fp->fs, FR_INT_ERR);
4122:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4123:Middlewares/Third_Party/FatFs/src/ff.c **** 
4124:Middlewares/Third_Party/FatFs/src/ff.c **** 	LEAVE_FF(fp->fs, FR_OK);
4125:Middlewares/Third_Party/FatFs/src/ff.c **** }
4126:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_FORWARD */
4127:Middlewares/Third_Party/FatFs/src/ff.c **** 
4128:Middlewares/Third_Party/FatFs/src/ff.c **** 
4129:Middlewares/Third_Party/FatFs/src/ff.c **** 
4130:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_MKFS && !_FS_READONLY
4131:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4132:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create file system on the logical drive                               */
4133:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/cc9KJrYz.s 			page 221


4134:Middlewares/Third_Party/FatFs/src/ff.c **** #define N_ROOTDIR	512		/* Number of root directory entries for FAT12/16 */
4135:Middlewares/Third_Party/FatFs/src/ff.c **** #define N_FATS		1		/* Number of FATs (1 or 2) */
4136:Middlewares/Third_Party/FatFs/src/ff.c **** 
4137:Middlewares/Third_Party/FatFs/src/ff.c **** 
4138:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_mkfs (
4139:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* path,	/* Logical drive number */
4140:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE sfd,			/* Partitioning rule 0:FDISK, 1:SFD */
4141:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT au				/* Size of allocation unit in unit of byte or sector */
4142:Middlewares/Third_Party/FatFs/src/ff.c **** )
4143:Middlewares/Third_Party/FatFs/src/ff.c **** {
4144:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD vst[] = { 1024,   512,  256,  128,   64,    32,   16,    8,    4,    2,   0};
4145:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst[] = {32768, 16384, 8192, 4096, 2048, 16384, 8192, 4096, 2048, 1024, 512};
4146:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
4147:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, md, sys, *tbl, pdrv, part;
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n_clst, vs, n, wsect;
4149:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
4150:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD b_vol, b_fat, b_dir, b_data;	/* LBA */
4151:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n_vol, n_rsv, n_fat, n_dir;	/* Size */
4152:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
4153:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
4154:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
4155:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD eb[2];
4156:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4157:Middlewares/Third_Party/FatFs/src/ff.c **** 
4158:Middlewares/Third_Party/FatFs/src/ff.c **** 
4159:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Check mounted drive and clear work area */
4160:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (sfd > 1) return FR_INVALID_PARAMETER;
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
4163:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;
4165:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
4167:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:auto detect, 1-4:get from partition table)*/
4168:Middlewares/Third_Party/FatFs/src/ff.c **** 
4169:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Get disk statics */
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
4172:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
4173:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get disk sector size */
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_SIZE, &SS(fs)) != RES_OK || SS(fs) > _MAX_SS || SS(fs) < _MIN_SS)
4175:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
4176:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part) {
4178:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get partition information from partition table in the MBR */
4179:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_read(pdrv, fs->win.d8, 0, 1) != RES_OK) return FR_DISK_ERR;
4180:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (LD_WORD(fs->win.d8 + BS_55AA) != 0xAA55) return FR_MKFS_ABORTED;
4181:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl = &fs->win.d8[MBR_Table + (part - 1) * SZ_PTE];
4182:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!tbl[4]) return FR_MKFS_ABORTED;	/* No partition? */
4183:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = LD_DWORD(tbl + 8);	/* Volume start sector */
4184:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol = LD_DWORD(tbl + 12);	/* Volume size */
4185:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4186:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Create a partition in this function */
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &n_vol) != RES_OK || n_vol < 128)
4188:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (sfd) ? 0 : 63;		/* Volume start sector */
4190:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol -= b_vol;				/* Volume size */
ARM GAS  /tmp/cc9KJrYz.s 			page 222


4191:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4192:Middlewares/Third_Party/FatFs/src/ff.c **** 
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au & (au - 1)) au = 0;
4194:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) {						/* AU auto selection */
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 		vs = n_vol / (2000 / (SS(fs) / 512));
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; vs < vst[i]; i++) ;
4197:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
4198:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au >= _MIN_SS) au /= SS(fs);	/* Number of sectors per cluster */
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au > 128) au = 128;
4202:Middlewares/Third_Party/FatFs/src/ff.c **** 
4203:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Pre-compute number of clusters and FAT sub-type */
4204:Middlewares/Third_Party/FatFs/src/ff.c **** 	n_clst = n_vol / au;
4205:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT16) fmt = FS_FAT16;
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT32) fmt = FS_FAT32;
4208:Middlewares/Third_Party/FatFs/src/ff.c **** 
4209:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine offset and size of FAT structure */
4210:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = ((n_clst * 4) + 8 + SS(fs) - 1) / SS(fs);
4212:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = 0;
4214:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (fmt == FS_FAT12) ? (n_clst * 3 + 1) / 2 + 3 : (n_clst * 2) + 4;
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 1;
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = (DWORD)N_ROOTDIR * SZ_DIRE / SS(fs);
4219:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_fat = b_vol + n_rsv;				/* FAT area start sector */
4221:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_dir = b_fat + n_fat * N_FATS;		/* Directory area start sector */
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_data = b_dir + n_dir;				/* Data area start sector */
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < b_data + au - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
4224:Middlewares/Third_Party/FatFs/src/ff.c **** 
4225:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Align data start sector to erase block boundary (for flash memory media) */
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_BLOCK_SIZE, &n) != RES_OK || !n || n > 32768) n = 1;
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
4228:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
4229:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {		/* FAT32: Move FAT offset */
4230:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv += n;
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat += n;
4232:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {					/* FAT12/16: Expand FAT size */
4233:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat += n;
4234:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4235:Middlewares/Third_Party/FatFs/src/ff.c **** 
4236:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine number of clusters and final check of validity of the FAT sub-type */
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	n_clst = (n_vol - n_rsv - n_fat * N_FATS - n_dir) / au;
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
4239:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| (fmt == FS_FAT32 && n_clst < MIN_FAT32))
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_MKFS_ABORTED;
4241:Middlewares/Third_Party/FatFs/src/ff.c **** 
4242:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine system ID in the partition table */
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x0C;		/* FAT32X */
4245:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt == FS_FAT12 && n_vol < 0x10000) {
4247:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x01;	/* FAT12(<65536) */
ARM GAS  /tmp/cc9KJrYz.s 			page 223


4248:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = (n_vol < 0x10000) ? 0x04 : 0x06;	/* FAT16(<65536) : FAT12/16(>=65536) */
4250:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4251:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4252:Middlewares/Third_Party/FatFs/src/ff.c **** 
4253:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_MULTI_PARTITION && part) {
4254:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update system ID in the partition table */
4255:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl = &fs->win.d8[MBR_Table + (part - 1) * SZ_PTE];
4256:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[4] = sys;
4257:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, fs->win.d8, 0, 1) != RES_OK)	/* Write it to teh MBR */
4258:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
4259:Middlewares/Third_Party/FatFs/src/ff.c **** 		md = 0xF8;
4260:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4261:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (sfd) {	/* No partition table (SFD) */
4262:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF0;
4263:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {	/* Create partition table (FDISK) */
4264:Middlewares/Third_Party/FatFs/src/ff.c **** 			mem_set(fs->win.d8, 0, SS(fs));
4265:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fs->win.d8 + MBR_Table;	/* Create partition table for single partition in the drive */
4266:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[1] = 1;						/* Partition start head */
4267:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[2] = 1;						/* Partition start sector */
4268:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[3] = 0;						/* Partition start cylinder */
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[4] = sys;					/* System type */
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[5] = 254;					/* Partition end head */
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + n_vol) / 63 / 255;
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
4273:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[7] = (BYTE)n;				/* End cylinder */
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 63);			/* Partition start in LBA */
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, fs->win.d8, 0, 1) != RES_OK)	/* Write it to the MBR */
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
4279:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF8;
4280:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4281:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4282:Middlewares/Third_Party/FatFs/src/ff.c **** 
4283:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create BPB in the VBR */
4284:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl = fs->win.d8;							/* Clear sector */
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(tbl, 0, SS(fs));
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(tbl, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code, OEM name */
4287:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = SS(fs);								/* Sector size */
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_BytsPerSec, i);
4289:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_SecPerClus] = (BYTE)au;			/* Sectors per cluster */
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RsvdSecCnt, n_rsv);	/* Reserved sectors */
4291:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_NumFATs] = N_FATS;				/* Number of FATs */
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (fmt == FS_FAT32) ? 0 : N_ROOTDIR;	/* Number of root directory entries */
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RootEntCnt, i);
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < 0x10000) {					/* Number of total sectors */
4295:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_TotSec16, n_vol);
4296:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4297:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_TotSec32, n_vol);
4298:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4299:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_Media] = md;					/* Media descriptor */
4300:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_SecPerTrk, 63);		/* Number of sectors per track */
4301:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_NumHeads, 255);		/* Number of heads */
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_DWORD(tbl + BPB_HiddSec, b_vol);		/* Hidden sectors */
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
4304:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
ARM GAS  /tmp/cc9KJrYz.s 			page 224


4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID32, n);		/* VSN */
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
4309:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_BkBootSec, 6);	/* Backup boot record offset (VBR + 6) */
4310:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum32] = 0x80;			/* Drive number */
4311:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig32] = 0x29;			/* Extended boot signature */
4312:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
4313:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID, n);		/* VSN */
4315:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
4316:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum] = 0x80;				/* Drive number */
4317:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig] = 0x29;				/* Extended boot signature */
4318:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
4319:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4320:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BS_55AA, 0xAA55);			/* Signature (Offset is fixed here regardless of sector size) */
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_write(pdrv, tbl, b_vol, 1) != RES_OK)	/* Write it to the VBR sector */
4322:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
4323:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32)					/* Write backup VBR if needed (VBR + 6) */
4324:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 6, 1);
4325:Middlewares/Third_Party/FatFs/src/ff.c **** 
4326:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Initialize FAT area */
4327:Middlewares/Third_Party/FatFs/src/ff.c **** 	wsect = b_fat;
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < N_FATS; i++) {		/* Initialize each FAT copy */
4329:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
4330:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = md;								/* Media descriptor byte */
4331:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt != FS_FAT32) {
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			n |= (fmt == FS_FAT12) ? 0x00FFFF00 : 0xFFFFFF00;
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
4334:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4335:Middlewares/Third_Party/FatFs/src/ff.c **** 			n |= 0xFFFFFF00;
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT32) */
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 4, 0xFFFFFFFF);
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 0x0FFFFFFF);	/* Reserve cluster #2 for root directory */
4339:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
4341:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
4342:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* Fill following FAT entries with zero */
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < n_fat; n++) {		/* This loop may take a time on FAT32 volume due to many single se
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
4345:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
4346:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4347:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4348:Middlewares/Third_Party/FatFs/src/ff.c **** 
4349:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Initialize root directory */
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (fmt == FS_FAT32) ? au : (UINT)n_dir;
4351:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
4353:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--i);
4355:Middlewares/Third_Party/FatFs/src/ff.c **** 
4356:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM	/* Erase data area if needed */
4357:Middlewares/Third_Party/FatFs/src/ff.c **** 	{
4358:Middlewares/Third_Party/FatFs/src/ff.c **** 		eb[0] = wsect; eb[1] = wsect + (n_clst - ((fmt == FS_FAT32) ? 1 : 0)) * au - 1;
4359:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_ioctl(pdrv, CTRL_TRIM, eb);
4360:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4361:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
ARM GAS  /tmp/cc9KJrYz.s 			page 225


4362:Middlewares/Third_Party/FatFs/src/ff.c **** 
4363:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create FSINFO if needed */
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_LeadSig, 0x41615252);
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 1, 1);	/* Write original (VBR + 1) */
4371:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 7, 1);	/* Write backup (VBR + 7) */
4372:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4373:Middlewares/Third_Party/FatFs/src/ff.c **** 
4374:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (disk_ioctl(pdrv, CTRL_SYNC, 0) == RES_OK) ? FR_OK : FR_DISK_ERR;
4375:Middlewares/Third_Party/FatFs/src/ff.c **** }
4376:Middlewares/Third_Party/FatFs/src/ff.c **** 
4377:Middlewares/Third_Party/FatFs/src/ff.c **** 
4378:Middlewares/Third_Party/FatFs/src/ff.c **** 
4379:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MULTI_PARTITION
4380:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4381:Middlewares/Third_Party/FatFs/src/ff.c **** /* Create partition table on the physical drive                          */
4382:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4383:Middlewares/Third_Party/FatFs/src/ff.c **** 
4384:Middlewares/Third_Party/FatFs/src/ff.c **** FRESULT f_fdisk (
4385:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE pdrv,			/* Physical drive number */
4386:Middlewares/Third_Party/FatFs/src/ff.c **** 	const DWORD szt[],	/* Pointer to the size table for each partitions */
4387:Middlewares/Third_Party/FatFs/src/ff.c **** 	void* work			/* Pointer to the working buffer */
4388:Middlewares/Third_Party/FatFs/src/ff.c **** )
4389:Middlewares/Third_Party/FatFs/src/ff.c **** {
4390:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i, n, sz_cyl, tot_cyl, b_cyl, e_cyl, p_cyl;
4391:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s_hd, e_hd, *p, *buf = (BYTE*)work;
4392:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
4393:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD sz_disk, sz_part, s_part;
4394:Middlewares/Third_Party/FatFs/src/ff.c **** 
4395:Middlewares/Third_Party/FatFs/src/ff.c **** 
4396:Middlewares/Third_Party/FatFs/src/ff.c **** 	stat = disk_initialize(pdrv);
4397:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
4398:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
4399:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_ioctl(pdrv, GET_SECTOR_COUNT, &sz_disk)) return FR_DISK_ERR;
4400:Middlewares/Third_Party/FatFs/src/ff.c **** 
4401:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Determine CHS in the table regardless of the drive geometry */
4402:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (n = 16; n < 256 && sz_disk / n / 63 > 1024; n *= 2) ;
4403:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n == 256) n--;
4404:Middlewares/Third_Party/FatFs/src/ff.c **** 	e_hd = n - 1;
4405:Middlewares/Third_Party/FatFs/src/ff.c **** 	sz_cyl = 63 * n;
4406:Middlewares/Third_Party/FatFs/src/ff.c **** 	tot_cyl = sz_disk / sz_cyl;
4407:Middlewares/Third_Party/FatFs/src/ff.c **** 
4408:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Create partition table */
4409:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(buf, 0, _MAX_SS);
4410:Middlewares/Third_Party/FatFs/src/ff.c **** 	p = buf + MBR_Table; b_cyl = 0;
4411:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (i = 0; i < 4; i++, p += SZ_PTE) {
4412:Middlewares/Third_Party/FatFs/src/ff.c **** 		p_cyl = (szt[i] <= 100U) ? (DWORD)tot_cyl * szt[i] / 100 : szt[i] / sz_cyl;
4413:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!p_cyl) continue;
4414:Middlewares/Third_Party/FatFs/src/ff.c **** 		s_part = (DWORD)sz_cyl * b_cyl;
4415:Middlewares/Third_Party/FatFs/src/ff.c **** 		sz_part = (DWORD)sz_cyl * p_cyl;
4416:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (i == 0) {	/* Exclude first track of cylinder 0 */
4417:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 1;
4418:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_part += 63; sz_part -= 63;
ARM GAS  /tmp/cc9KJrYz.s 			page 226


4419:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4420:Middlewares/Third_Party/FatFs/src/ff.c **** 			s_hd = 0;
4421:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4422:Middlewares/Third_Party/FatFs/src/ff.c **** 		e_cyl = b_cyl + p_cyl - 1;
4423:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (e_cyl >= tot_cyl) return FR_INVALID_PARAMETER;
4424:Middlewares/Third_Party/FatFs/src/ff.c **** 
4425:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Set partition table */
4426:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[1] = s_hd;						/* Start head */
4427:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[2] = (BYTE)((b_cyl >> 2) + 1);	/* Start sector */
4428:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[3] = (BYTE)b_cyl;					/* Start cylinder */
4429:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[4] = 0x06;						/* System type (temporary setting) */
4430:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[5] = e_hd;						/* End head */
4431:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[6] = (BYTE)((e_cyl >> 2) + 63);	/* End sector */
4432:Middlewares/Third_Party/FatFs/src/ff.c **** 		p[7] = (BYTE)e_cyl;					/* End cylinder */
4433:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(p + 8, s_part);			/* Start sector in LBA */
4434:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(p + 12, sz_part);			/* Partition size */
4435:Middlewares/Third_Party/FatFs/src/ff.c **** 
4436:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Next partition */
4437:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_cyl += p_cyl;
4438:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4439:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(p, 0xAA55);
4440:Middlewares/Third_Party/FatFs/src/ff.c **** 
4441:Middlewares/Third_Party/FatFs/src/ff.c **** 	/* Write it to the MBR */
4442:Middlewares/Third_Party/FatFs/src/ff.c **** 	return (disk_write(pdrv, buf, 0, 1) != RES_OK || disk_ioctl(pdrv, CTRL_SYNC, 0) != RES_OK) ? FR_DI
4443:Middlewares/Third_Party/FatFs/src/ff.c **** }
4444:Middlewares/Third_Party/FatFs/src/ff.c **** 
4445:Middlewares/Third_Party/FatFs/src/ff.c **** 
4446:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _MULTI_PARTITION */
4447:Middlewares/Third_Party/FatFs/src/ff.c **** #endif /* _USE_MKFS && !_FS_READONLY */
4448:Middlewares/Third_Party/FatFs/src/ff.c **** 
4449:Middlewares/Third_Party/FatFs/src/ff.c **** 
4450:Middlewares/Third_Party/FatFs/src/ff.c **** 
4451:Middlewares/Third_Party/FatFs/src/ff.c **** 
4452:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_STRFUNC
4453:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4454:Middlewares/Third_Party/FatFs/src/ff.c **** /* Get a string from the file                                            */
4455:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4456:Middlewares/Third_Party/FatFs/src/ff.c **** 
4457:Middlewares/Third_Party/FatFs/src/ff.c **** TCHAR* f_gets (
4458:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR* buff,	/* Pointer to the string buffer to read */
4459:Middlewares/Third_Party/FatFs/src/ff.c **** 	int len,		/* Size of string buffer (characters) */
4460:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp			/* Pointer to the file object */
4461:Middlewares/Third_Party/FatFs/src/ff.c **** )
4462:Middlewares/Third_Party/FatFs/src/ff.c **** {
4463:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
4464:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
4465:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
4466:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rc;
4467:Middlewares/Third_Party/FatFs/src/ff.c **** 
4468:Middlewares/Third_Party/FatFs/src/ff.c **** 
4469:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (n < len - 1) {	/* Read characters until buffer gets filled */
4470:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
4471:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3		/* Read a character in UTF-8 */
4472:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
4473:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
4474:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
4475:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c >= 0x80) {
ARM GAS  /tmp/cc9KJrYz.s 			page 227


4476:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xC0) continue;	/* Skip stray trailer */
4477:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c < 0xE0) {			/* Two-byte sequence */
4478:Middlewares/Third_Party/FatFs/src/ff.c **** 				f_read(fp, s, 1, &rc);
4479:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (rc != 1) break;
4480:Middlewares/Third_Party/FatFs/src/ff.c **** 				c = (c & 0x1F) << 6 | (s[0] & 0x3F);
4481:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0x80) c = '?';
4482:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
4483:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (c < 0xF0) {		/* Three-byte sequence */
4484:Middlewares/Third_Party/FatFs/src/ff.c **** 					f_read(fp, s, 2, &rc);
4485:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (rc != 2) break;
4486:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = c << 12 | (s[0] & 0x3F) << 6 | (s[1] & 0x3F);
4487:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (c < 0x800) c = '?';
4488:Middlewares/Third_Party/FatFs/src/ff.c **** 				} else {			/* Reject four-byte sequence */
4489:Middlewares/Third_Party/FatFs/src/ff.c **** 					c = '?';
4490:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
4491:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4492:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4493:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2		/* Read a character in UTF-16BE */
4494:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
4495:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
4496:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[1] + (s[0] << 8);
4497:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1		/* Read a character in UTF-16LE */
4498:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 2, &rc);
4499:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 2) break;
4500:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0] + (s[1] << 8);
4501:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character in ANSI/OEM */
4502:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
4503:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
4504:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
4505:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsDBCS1(c)) {
4506:Middlewares/Third_Party/FatFs/src/ff.c **** 			f_read(fp, s, 1, &rc);
4507:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (rc != 1) break;
4508:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = (c << 8) + s[0];
4509:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4510:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = ff_convert(c, 1);	/* OEM -> Unicode */
4511:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) c = '?';
4512:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4513:Middlewares/Third_Party/FatFs/src/ff.c **** #else						/* Read a character without conversion */
4514:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_read(fp, s, 1, &rc);
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
4516:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
4517:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4518:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_USE_STRFUNC == 2 && c == '\r') continue;	/* Strip '\r' */
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
4520:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
4521:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
4522:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4523:Middlewares/Third_Party/FatFs/src/ff.c **** 	*p = 0;
4524:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
4525:Middlewares/Third_Party/FatFs/src/ff.c **** }
4526:Middlewares/Third_Party/FatFs/src/ff.c **** 
4527:Middlewares/Third_Party/FatFs/src/ff.c **** 
4528:Middlewares/Third_Party/FatFs/src/ff.c **** 
4529:Middlewares/Third_Party/FatFs/src/ff.c **** 
4530:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
4531:Middlewares/Third_Party/FatFs/src/ff.c **** #include <stdarg.h>
4532:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
ARM GAS  /tmp/cc9KJrYz.s 			page 228


4533:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a character to the file                                           */
4534:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4535:Middlewares/Third_Party/FatFs/src/ff.c **** 
4536:Middlewares/Third_Party/FatFs/src/ff.c **** typedef struct {
4537:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp;
4538:Middlewares/Third_Party/FatFs/src/ff.c **** 	int idx, nchr;
4539:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[64];
4540:Middlewares/Third_Party/FatFs/src/ff.c **** } putbuff;
4541:Middlewares/Third_Party/FatFs/src/ff.c **** 
4542:Middlewares/Third_Party/FatFs/src/ff.c **** 
4543:Middlewares/Third_Party/FatFs/src/ff.c **** static
4544:Middlewares/Third_Party/FatFs/src/ff.c **** void putc_bfd (
4545:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff* pb,
4546:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c
4547:Middlewares/Third_Party/FatFs/src/ff.c **** )
4548:Middlewares/Third_Party/FatFs/src/ff.c **** {
 6818              		.loc 1 4548 1 is_stmt 1 view -0
 6819              		.cfi_startproc
 6820              		@ args = 0, pretend = 0, frame = 8
 6821              		@ frame_needed = 0, uses_anonymous_args = 0
 6822              		.loc 1 4548 1 is_stmt 0 view .LVU2200
 6823 0000 70B5     		push	{r4, r5, r6, lr}
 6824              	.LCFI62:
 6825              		.cfi_def_cfa_offset 16
 6826              		.cfi_offset 4, -16
 6827              		.cfi_offset 5, -12
 6828              		.cfi_offset 6, -8
 6829              		.cfi_offset 14, -4
 6830 0002 82B0     		sub	sp, sp, #8
 6831              	.LCFI63:
 6832              		.cfi_def_cfa_offset 24
 6833 0004 0446     		mov	r4, r0
 6834 0006 0D46     		mov	r5, r1
4549:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT bw;
 6835              		.loc 1 4549 2 is_stmt 1 view .LVU2201
4550:Middlewares/Third_Party/FatFs/src/ff.c **** 	int i;
 6836              		.loc 1 4550 2 view .LVU2202
4551:Middlewares/Third_Party/FatFs/src/ff.c **** 
4552:Middlewares/Third_Party/FatFs/src/ff.c **** 
4553:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (_USE_STRFUNC == 2 && c == '\n')	 /* LF -> CRLF conversion */
 6837              		.loc 1 4553 2 view .LVU2203
 6838              		.loc 1 4553 5 is_stmt 0 view .LVU2204
 6839 0008 0A29     		cmp	r1, #10
 6840 000a 0DD0     		beq	.L506
 6841              	.LVL741:
 6842              	.L500:
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(pb, '\r');
4555:Middlewares/Third_Party/FatFs/src/ff.c **** 
4556:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = pb->idx;	/* Buffer write index (-1:error) */
 6843              		.loc 1 4556 2 is_stmt 1 view .LVU2205
 6844              		.loc 1 4556 4 is_stmt 0 view .LVU2206
 6845 000c 6368     		ldr	r3, [r4, #4]
 6846              	.LVL742:
4557:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i < 0) return;
 6847              		.loc 1 4557 2 is_stmt 1 view .LVU2207
 6848              		.loc 1 4557 5 is_stmt 0 view .LVU2208
 6849 000e 002B     		cmp	r3, #0
ARM GAS  /tmp/cc9KJrYz.s 			page 229


 6850 0010 08DB     		blt	.L499
4558:Middlewares/Third_Party/FatFs/src/ff.c **** 
4559:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
4560:Middlewares/Third_Party/FatFs/src/ff.c **** #if _STRF_ENCODE == 3			/* Write a character in UTF-8 */
4561:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c < 0x80) {				/* 7-bit */
4562:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)c;
4563:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
4564:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c < 0x800) {		/* 11-bit */
4565:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xC0 | c >> 6);
4566:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {				/* 16-bit */
4567:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0xE0 | c >> 12);
4568:Middlewares/Third_Party/FatFs/src/ff.c **** 			pb->buf[i++] = (BYTE)(0x80 | (c >> 6 & 0x3F));
4569:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4570:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(0x80 | (c & 0x3F));
4571:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4572:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 2			/* Write a character in UTF-16BE */
4573:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
4574:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
4575:Middlewares/Third_Party/FatFs/src/ff.c **** #elif _STRF_ENCODE == 1			/* Write a character in UTF-16LE */
4576:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
4577:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)(c >> 8);
4578:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character in ANSI/OEM */
4579:Middlewares/Third_Party/FatFs/src/ff.c **** 	c = ff_convert(c, 0);	/* Unicode -> OEM */
4580:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!c) c = '?';
4581:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (c >= 0x100)
4582:Middlewares/Third_Party/FatFs/src/ff.c **** 		pb->buf[i++] = (BYTE)(c >> 8);
4583:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
4584:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4585:Middlewares/Third_Party/FatFs/src/ff.c **** #else							/* Write a character without conversion */
4586:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->buf[i++] = (BYTE)c;
 6851              		.loc 1 4586 2 is_stmt 1 view .LVU2209
 6852              		.loc 1 4586 11 is_stmt 0 view .LVU2210
 6853 0012 5E1C     		adds	r6, r3, #1
 6854              	.LVL743:
 6855              		.loc 1 4586 15 view .LVU2211
 6856 0014 2344     		add	r3, r3, r4
 6857 0016 1D73     		strb	r5, [r3, #12]
4587:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
4588:Middlewares/Third_Party/FatFs/src/ff.c **** 
4589:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (i >= (int)(sizeof pb->buf) - 3) {	/* Write buffered characters to the file */
 6858              		.loc 1 4589 2 is_stmt 1 view .LVU2212
 6859              		.loc 1 4589 5 is_stmt 0 view .LVU2213
 6860 0018 3C2E     		cmp	r6, #60
 6861 001a 09DC     		bgt	.L507
 6862              	.LVL744:
 6863              	.L503:
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 		f_write(pb->fp, pb->buf, (UINT)i, &bw);
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
4592:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4593:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->idx = i;
 6864              		.loc 1 4593 2 is_stmt 1 view .LVU2214
 6865              		.loc 1 4593 10 is_stmt 0 view .LVU2215
 6866 001c 6660     		str	r6, [r4, #4]
4594:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb->nchr++;
 6867              		.loc 1 4594 2 is_stmt 1 view .LVU2216
 6868              		.loc 1 4594 4 is_stmt 0 view .LVU2217
 6869 001e A368     		ldr	r3, [r4, #8]
ARM GAS  /tmp/cc9KJrYz.s 			page 230


 6870              		.loc 1 4594 10 view .LVU2218
 6871 0020 0133     		adds	r3, r3, #1
 6872 0022 A360     		str	r3, [r4, #8]
 6873              	.LVL745:
 6874              	.L499:
4595:Middlewares/Third_Party/FatFs/src/ff.c **** }
 6875              		.loc 1 4595 1 view .LVU2219
 6876 0024 02B0     		add	sp, sp, #8
 6877              	.LCFI64:
 6878              		.cfi_remember_state
 6879              		.cfi_def_cfa_offset 16
 6880              		@ sp needed
 6881 0026 70BD     		pop	{r4, r5, r6, pc}
 6882              	.LVL746:
 6883              	.L506:
 6884              	.LCFI65:
 6885              		.cfi_restore_state
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6886              		.loc 1 4554 3 is_stmt 1 view .LVU2220
 6887 0028 0D21     		movs	r1, #13
 6888              	.LVL747:
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6889              		.loc 1 4554 3 is_stmt 0 view .LVU2221
 6890 002a FFF7E9FF 		bl	putc_bfd
 6891              	.LVL748:
4554:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6892              		.loc 1 4554 3 view .LVU2222
 6893 002e EDE7     		b	.L500
 6894              	.LVL749:
 6895              	.L507:
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 6896              		.loc 1 4590 3 is_stmt 1 view .LVU2223
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 6897              		.loc 1 4590 21 is_stmt 0 view .LVU2224
 6898 0030 2146     		mov	r1, r4
4590:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = (bw == (UINT)i) ? 0 : -1;
 6899              		.loc 1 4590 3 view .LVU2225
 6900 0032 51F80C0B 		ldr	r0, [r1], #12
 6901 0036 01AB     		add	r3, sp, #4
 6902 0038 3246     		mov	r2, r6
 6903 003a FFF7FEFF 		bl	f_write
 6904              	.LVL750:
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6905              		.loc 1 4591 3 is_stmt 1 view .LVU2226
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6906              		.loc 1 4591 11 is_stmt 0 view .LVU2227
 6907 003e 019B     		ldr	r3, [sp, #4]
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6908              		.loc 1 4591 27 view .LVU2228
 6909 0040 9E42     		cmp	r6, r3
 6910 0042 02D0     		beq	.L508
 6911 0044 4FF0FF36 		mov	r6, #-1
 6912              	.LVL751:
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6913              		.loc 1 4591 27 view .LVU2229
 6914 0048 E8E7     		b	.L503
 6915              	.LVL752:
ARM GAS  /tmp/cc9KJrYz.s 			page 231


 6916              	.L508:
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6917              		.loc 1 4591 27 view .LVU2230
 6918 004a 0026     		movs	r6, #0
 6919              	.LVL753:
4591:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 6920              		.loc 1 4591 27 view .LVU2231
 6921 004c E6E7     		b	.L503
 6922              		.cfi_endproc
 6923              	.LFE126:
 6925              		.section	.text.f_sync,"ax",%progbits
 6926              		.align	1
 6927              		.global	f_sync
 6928              		.syntax unified
 6929              		.thumb
 6930              		.thumb_func
 6931              		.fpu softvfp
 6933              	f_sync:
 6934              	.LVL754:
 6935              	.LFB110:
2884:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6936              		.loc 1 2884 1 is_stmt 1 view -0
 6937              		.cfi_startproc
 6938              		@ args = 0, pretend = 0, frame = 0
 6939              		@ frame_needed = 0, uses_anonymous_args = 0
2884:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 6940              		.loc 1 2884 1 is_stmt 0 view .LVU2233
 6941 0000 38B5     		push	{r3, r4, r5, lr}
 6942              	.LCFI66:
 6943              		.cfi_def_cfa_offset 16
 6944              		.cfi_offset 3, -16
 6945              		.cfi_offset 4, -12
 6946              		.cfi_offset 5, -8
 6947              		.cfi_offset 14, -4
 6948 0002 0546     		mov	r5, r0
2885:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD tm;
 6949              		.loc 1 2885 2 is_stmt 1 view .LVU2234
2886:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 6950              		.loc 1 2886 2 view .LVU2235
2887:Middlewares/Third_Party/FatFs/src/ff.c **** 
 6951              		.loc 1 2887 2 view .LVU2236
2890:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6952              		.loc 1 2890 2 view .LVU2237
2890:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 6953              		.loc 1 2890 8 is_stmt 0 view .LVU2238
 6954 0004 FFF7FEFF 		bl	validate
 6955              	.LVL755:
2891:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA__WRITTEN) {	/* Has the file been written? */
 6956              		.loc 1 2891 2 is_stmt 1 view .LVU2239
2891:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->flag & FA__WRITTEN) {	/* Has the file been written? */
 6957              		.loc 1 2891 5 is_stmt 0 view .LVU2240
 6958 0008 10BB     		cbnz	r0, .L510
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write-back dirty buffer */
 6959              		.loc 1 2892 3 is_stmt 1 view .LVU2241
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write-back dirty buffer */
 6960              		.loc 1 2892 9 is_stmt 0 view .LVU2242
 6961 000a 05F58053 		add	r3, r5, #4096
ARM GAS  /tmp/cc9KJrYz.s 			page 232


 6962 000e 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
2892:Middlewares/Third_Party/FatFs/src/ff.c **** 			/* Write-back dirty buffer */
 6963              		.loc 1 2892 6 view .LVU2243
 6964 0010 13F0200F 		tst	r3, #32
 6965 0014 1CD0     		beq	.L510
2895:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 6966              		.loc 1 2895 4 is_stmt 1 view .LVU2244
2895:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 6967              		.loc 1 2895 7 is_stmt 0 view .LVU2245
 6968 0016 13F0400F 		tst	r3, #64
 6969 001a 12D0     		beq	.L511
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fp->fs, FR_DISK_ERR);
 6970              		.loc 1 2896 5 is_stmt 1 view .LVU2246
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fp->fs, FR_DISK_ERR);
 6971              		.loc 1 2896 22 is_stmt 0 view .LVU2247
 6972 001c 05F58052 		add	r2, r5, #4096
 6973 0020 1368     		ldr	r3, [r2]
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fp->fs, FR_DISK_ERR);
 6974              		.loc 1 2896 9 view .LVU2248
 6975 0022 03F58050 		add	r0, r3, #4096
 6976 0026 0123     		movs	r3, #1
 6977 0028 9269     		ldr	r2, [r2, #24]
 6978 002a 2946     		mov	r1, r5
 6979 002c 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 6980 002e FFF7FEFF 		bl	disk_write
 6981              	.LVL756:
2896:Middlewares/Third_Party/FatFs/src/ff.c **** 					LEAVE_FF(fp->fs, FR_DISK_ERR);
 6982              		.loc 1 2896 8 view .LVU2249
 6983 0032 0028     		cmp	r0, #0
 6984 0034 3CD1     		bne	.L512
2898:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6985              		.loc 1 2898 5 is_stmt 1 view .LVU2250
2898:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 6986              		.loc 1 2898 14 is_stmt 0 view .LVU2251
 6987 0036 05F58052 		add	r2, r5, #4096
 6988 003a 9379     		ldrb	r3, [r2, #6]	@ zero_extendqisi2
 6989 003c 23F04003 		bic	r3, r3, #64
 6990 0040 9371     		strb	r3, [r2, #6]
 6991              	.L511:
2902:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
 6992              		.loc 1 2902 4 is_stmt 1 view .LVU2252
2902:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {
 6993              		.loc 1 2902 10 is_stmt 0 view .LVU2253
 6994 0042 05F58053 		add	r3, r5, #4096
 6995 0046 D969     		ldr	r1, [r3, #28]
 6996 0048 1868     		ldr	r0, [r3]
 6997 004a FFF7FEFF 		bl	move_window
 6998              	.LVL757:
2903:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fp->dir_ptr;
 6999              		.loc 1 2903 4 is_stmt 1 view .LVU2254
2903:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = fp->dir_ptr;
 7000              		.loc 1 2903 7 is_stmt 0 view .LVU2255
 7001 004e 00B1     		cbz	r0, .L514
 7002              	.LVL758:
 7003              	.L510:
2919:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7004              		.loc 1 2919 1 view .LVU2256
ARM GAS  /tmp/cc9KJrYz.s 			page 233


 7005 0050 38BD     		pop	{r3, r4, r5, pc}
 7006              	.LVL759:
 7007              	.L514:
2904:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] |= AM_ARC;					/* Set archive bit */
 7008              		.loc 1 2904 5 is_stmt 1 view .LVU2257
2904:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] |= AM_ARC;					/* Set archive bit */
 7009              		.loc 1 2904 9 is_stmt 0 view .LVU2258
 7010 0052 05F58055 		add	r5, r5, #4096
 7011              	.LVL760:
2904:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] |= AM_ARC;					/* Set archive bit */
 7012              		.loc 1 2904 9 view .LVU2259
 7013 0056 2C6A     		ldr	r4, [r5, #32]
 7014              	.LVL761:
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, fp->fsize);	/* Update file size */
 7015              		.loc 1 2905 5 is_stmt 1 view .LVU2260
2905:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_FileSize, fp->fsize);	/* Update file size */
 7016              		.loc 1 2905 19 is_stmt 0 view .LVU2261
 7017 0058 E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 7018 005a 43F02003 		orr	r3, r3, #32
 7019 005e E372     		strb	r3, [r4, #11]
2906:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, fp->sclust);					/* Update start cluster */
 7020              		.loc 1 2906 5 is_stmt 1 view .LVU2262
 7021 0060 2B7B     		ldrb	r3, [r5, #12]	@ zero_extendqisi2
 7022 0062 2377     		strb	r3, [r4, #28]
2906:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, fp->sclust);					/* Update start cluster */
 7023              		.loc 1 2906 5 view .LVU2263
 7024 0064 AB89     		ldrh	r3, [r5, #12]
 7025 0066 1B0A     		lsrs	r3, r3, #8
 7026 0068 6377     		strb	r3, [r4, #29]
2906:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, fp->sclust);					/* Update start cluster */
 7027              		.loc 1 2906 5 view .LVU2264
 7028 006a AB7B     		ldrb	r3, [r5, #14]	@ zero_extendqisi2
 7029 006c A377     		strb	r3, [r4, #30]
2906:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, fp->sclust);					/* Update start cluster */
 7030              		.loc 1 2906 5 view .LVU2265
 7031 006e EB7B     		ldrb	r3, [r5, #15]	@ zero_extendqisi2
 7032 0070 E377     		strb	r3, [r4, #31]
2907:Middlewares/Third_Party/FatFs/src/ff.c **** 				tm = GET_FATTIME();							/* Update updated time */
 7033              		.loc 1 2907 5 view .LVU2266
 7034 0072 2969     		ldr	r1, [r5, #16]
 7035 0074 2046     		mov	r0, r4
 7036              	.LVL762:
2907:Middlewares/Third_Party/FatFs/src/ff.c **** 				tm = GET_FATTIME();							/* Update updated time */
 7037              		.loc 1 2907 5 is_stmt 0 view .LVU2267
 7038 0076 FFF7FEFF 		bl	st_clust
 7039              	.LVL763:
2908:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
 7040              		.loc 1 2908 5 is_stmt 1 view .LVU2268
2908:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
 7041              		.loc 1 2908 10 is_stmt 0 view .LVU2269
 7042 007a FFF7FEFF 		bl	get_fattime
 7043              	.LVL764:
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
 7044              		.loc 1 2909 5 is_stmt 1 view .LVU2270
 7045 007e A075     		strb	r0, [r4, #22]
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
 7046              		.loc 1 2909 5 view .LVU2271
ARM GAS  /tmp/cc9KJrYz.s 			page 234


 7047 0080 C0F30723 		ubfx	r3, r0, #8, #8
 7048 0084 E375     		strb	r3, [r4, #23]
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
 7049              		.loc 1 2909 5 view .LVU2272
 7050 0086 C0F30743 		ubfx	r3, r0, #16, #8
 7051 008a 2376     		strb	r3, [r4, #24]
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
 7052              		.loc 1 2909 5 view .LVU2273
 7053 008c 000E     		lsrs	r0, r0, #24
 7054              	.LVL765:
2909:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_LstAccDate, 0);
 7055              		.loc 1 2909 5 is_stmt 0 view .LVU2274
 7056 008e 6076     		strb	r0, [r4, #25]
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__WRITTEN;
 7057              		.loc 1 2910 5 is_stmt 1 view .LVU2275
 7058 0090 0023     		movs	r3, #0
 7059 0092 A374     		strb	r3, [r4, #18]
2910:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__WRITTEN;
 7060              		.loc 1 2910 5 view .LVU2276
 7061 0094 E374     		strb	r3, [r4, #19]
2911:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs->wflag = 1;
 7062              		.loc 1 2911 5 view .LVU2277
2911:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fs->wflag = 1;
 7063              		.loc 1 2911 14 is_stmt 0 view .LVU2278
 7064 0096 AB79     		ldrb	r3, [r5, #6]	@ zero_extendqisi2
 7065 0098 23F02003 		bic	r3, r3, #32
 7066 009c AB71     		strb	r3, [r5, #6]
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fp->fs);
 7067              		.loc 1 2912 5 is_stmt 1 view .LVU2279
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fp->fs);
 7068              		.loc 1 2912 7 is_stmt 0 view .LVU2280
 7069 009e 2B68     		ldr	r3, [r5]
2912:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(fp->fs);
 7070              		.loc 1 2912 19 view .LVU2281
 7071 00a0 03F58053 		add	r3, r3, #4096
 7072 00a4 0122     		movs	r2, #1
 7073 00a6 1A71     		strb	r2, [r3, #4]
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7074              		.loc 1 2913 5 is_stmt 1 view .LVU2282
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7075              		.loc 1 2913 11 is_stmt 0 view .LVU2283
 7076 00a8 2868     		ldr	r0, [r5]
 7077 00aa FFF7FEFF 		bl	sync_fs
 7078              	.LVL766:
2913:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7079              		.loc 1 2913 11 view .LVU2284
 7080 00ae CFE7     		b	.L510
 7081              	.LVL767:
 7082              	.L512:
2897:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 7083              		.loc 1 2897 6 view .LVU2285
 7084 00b0 0120     		movs	r0, #1
 7085 00b2 CDE7     		b	.L510
 7086              		.cfi_endproc
 7087              	.LFE110:
 7089              		.section	.text.f_close,"ax",%progbits
 7090              		.align	1
ARM GAS  /tmp/cc9KJrYz.s 			page 235


 7091              		.global	f_close
 7092              		.syntax unified
 7093              		.thumb
 7094              		.thumb_func
 7095              		.fpu softvfp
 7097              	f_close:
 7098              	.LVL768:
 7099              	.LFB111:
2933:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7100              		.loc 1 2933 1 is_stmt 1 view -0
 7101              		.cfi_startproc
 7102              		@ args = 0, pretend = 0, frame = 0
 7103              		@ frame_needed = 0, uses_anonymous_args = 0
2933:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7104              		.loc 1 2933 1 is_stmt 0 view .LVU2287
 7105 0000 10B5     		push	{r4, lr}
 7106              	.LCFI67:
 7107              		.cfi_def_cfa_offset 8
 7108              		.cfi_offset 4, -8
 7109              		.cfi_offset 14, -4
 7110 0002 0446     		mov	r4, r0
2934:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7111              		.loc 1 2934 2 is_stmt 1 view .LVU2288
2938:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
 7112              		.loc 1 2938 2 view .LVU2289
2938:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK)
 7113              		.loc 1 2938 8 is_stmt 0 view .LVU2290
 7114 0004 FFF7FEFF 		bl	f_sync
 7115              	.LVL769:
2939:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7116              		.loc 1 2939 2 is_stmt 1 view .LVU2291
2939:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7117              		.loc 1 2939 5 is_stmt 0 view .LVU2292
 7118 0008 00B1     		cbz	r0, .L518
 7119              	.LVL770:
 7120              	.L516:
2957:Middlewares/Third_Party/FatFs/src/ff.c **** }
 7121              		.loc 1 2957 2 is_stmt 1 view .LVU2293
2958:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7122              		.loc 1 2958 1 is_stmt 0 view .LVU2294
 7123 000a 10BD     		pop	{r4, pc}
 7124              	.LVL771:
 7125              	.L518:
2942:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 7126              		.loc 1 2942 3 is_stmt 1 view .LVU2295
2942:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {
 7127              		.loc 1 2942 9 is_stmt 0 view .LVU2296
 7128 000c 2046     		mov	r0, r4
 7129 000e FFF7FEFF 		bl	validate
 7130              	.LVL772:
2943:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 7131              		.loc 1 2943 3 is_stmt 1 view .LVU2297
2943:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 7132              		.loc 1 2943 6 is_stmt 0 view .LVU2298
 7133 0012 0028     		cmp	r0, #0
 7134 0014 F9D1     		bne	.L516
2948:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
ARM GAS  /tmp/cc9KJrYz.s 			page 236


 7135              		.loc 1 2948 4 is_stmt 1 view .LVU2299
2948:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 7136              		.loc 1 2948 10 is_stmt 0 view .LVU2300
 7137 0016 04F58053 		add	r3, r4, #4096
 7138 001a 986A     		ldr	r0, [r3, #40]
 7139              	.LVL773:
2948:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)
 7140              		.loc 1 2948 10 view .LVU2301
 7141 001c FFF7FEFF 		bl	dec_lock
 7142              	.LVL774:
2949:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7143              		.loc 1 2949 4 is_stmt 1 view .LVU2302
2949:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7144              		.loc 1 2949 7 is_stmt 0 view .LVU2303
 7145 0020 0028     		cmp	r0, #0
 7146 0022 F2D1     		bne	.L516
2951:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 7147              		.loc 1 2951 5 is_stmt 1 view .LVU2304
2951:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 7148              		.loc 1 2951 12 is_stmt 0 view .LVU2305
 7149 0024 04F58054 		add	r4, r4, #4096
 7150              	.LVL775:
2951:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 7151              		.loc 1 2951 12 view .LVU2306
 7152 0028 2060     		str	r0, [r4]
 7153 002a EEE7     		b	.L516
 7154              		.cfi_endproc
 7155              	.LFE111:
 7157              		.section	.text.f_lseek,"ax",%progbits
 7158              		.align	1
 7159              		.global	f_lseek
 7160              		.syntax unified
 7161              		.thumb
 7162              		.thumb_func
 7163              		.fpu softvfp
 7165              	f_lseek:
 7166              	.LVL776:
 7167              	.LFB112:
3106:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7168              		.loc 1 3106 1 is_stmt 1 view -0
 7169              		.cfi_startproc
 7170              		@ args = 0, pretend = 0, frame = 0
 7171              		@ frame_needed = 0, uses_anonymous_args = 0
3106:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7172              		.loc 1 3106 1 is_stmt 0 view .LVU2308
 7173 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 7174              	.LCFI68:
 7175              		.cfi_def_cfa_offset 40
 7176              		.cfi_offset 3, -40
 7177              		.cfi_offset 4, -36
 7178              		.cfi_offset 5, -32
 7179              		.cfi_offset 6, -28
 7180              		.cfi_offset 7, -24
 7181              		.cfi_offset 8, -20
 7182              		.cfi_offset 9, -16
 7183              		.cfi_offset 10, -12
 7184              		.cfi_offset 11, -8
ARM GAS  /tmp/cc9KJrYz.s 			page 237


 7185              		.cfi_offset 14, -4
 7186 0004 0446     		mov	r4, r0
 7187 0006 0D46     		mov	r5, r1
3107:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD clst, bcs, nsect, ifptr;
 7188              		.loc 1 3107 2 is_stmt 1 view .LVU2309
3108:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_FASTSEEK
 7189              		.loc 1 3108 2 view .LVU2310
3110:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7190              		.loc 1 3110 2 view .LVU2311
3114:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
 7191              		.loc 1 3114 2 view .LVU2312
3114:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res != FR_OK) LEAVE_FF(fp->fs, res);
 7192              		.loc 1 3114 8 is_stmt 0 view .LVU2313
 7193 0008 FFF7FEFF 		bl	validate
 7194              	.LVL777:
3115:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)						/* Check error */
 7195              		.loc 1 3115 2 is_stmt 1 view .LVU2314
3115:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fp->err)						/* Check error */
 7196              		.loc 1 3115 5 is_stmt 0 view .LVU2315
 7197 000c 0646     		mov	r6, r0
 7198 000e 0028     		cmp	r0, #0
 7199 0010 40F0B681 		bne	.L520
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
 7200              		.loc 1 3116 2 is_stmt 1 view .LVU2316
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
 7201              		.loc 1 3116 8 is_stmt 0 view .LVU2317
 7202 0014 04F58053 		add	r3, r4, #4096
 7203 0018 DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
3116:Middlewares/Third_Party/FatFs/src/ff.c **** 		LEAVE_FF(fp->fs, (FRESULT)fp->err);
 7204              		.loc 1 3116 5 view .LVU2318
 7205 001a 002B     		cmp	r3, #0
 7206 001c 40F0AF81 		bne	.L554
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 7207              		.loc 1 3120 2 is_stmt 1 view .LVU2319
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 7208              		.loc 1 3120 8 is_stmt 0 view .LVU2320
 7209 0020 04F58053 		add	r3, r4, #4096
 7210 0024 5B6A     		ldr	r3, [r3, #36]
3120:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs == CREATE_LINKMAP) {	/* Create CLMT */
 7211              		.loc 1 3120 5 view .LVU2321
 7212 0026 002B     		cmp	r3, #0
 7213 0028 00F0B480 		beq	.L521
3121:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
 7214              		.loc 1 3121 3 is_stmt 1 view .LVU2322
3121:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fp->cltbl;
 7215              		.loc 1 3121 6 is_stmt 0 view .LVU2323
 7216 002c B5F1FF3F 		cmp	r5, #-1
 7217 0030 57D0     		beq	.L562
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs = fp->fsize;
 7218              		.loc 1 3147 4 is_stmt 1 view .LVU2324
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs = fp->fsize;
 7219              		.loc 1 3147 16 is_stmt 0 view .LVU2325
 7220 0032 04F58053 		add	r3, r4, #4096
 7221 0036 DF68     		ldr	r7, [r3, #12]
3147:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs = fp->fsize;
 7222              		.loc 1 3147 7 view .LVU2326
 7223 0038 AF42     		cmp	r7, r5
ARM GAS  /tmp/cc9KJrYz.s 			page 238


 7224 003a 00D3     		bcc	.L529
 7225 003c 2F46     		mov	r7, r5
 7226              	.L529:
 7227              	.LVL778:
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
 7228              		.loc 1 3149 4 is_stmt 1 view .LVU2327
3149:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ofs) {
 7229              		.loc 1 3149 13 is_stmt 0 view .LVU2328
 7230 003e 04F58053 		add	r3, r4, #4096
 7231 0042 9F60     		str	r7, [r3, #8]
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 7232              		.loc 1 3150 4 is_stmt 1 view .LVU2329
3150:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->clust = clmt_clust(fp, ofs - 1);
 7233              		.loc 1 3150 7 is_stmt 0 view .LVU2330
 7234 0044 002F     		cmp	r7, #0
 7235 0046 00F09B81 		beq	.L520
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
 7236              		.loc 1 3151 5 is_stmt 1 view .LVU2331
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
 7237              		.loc 1 3151 17 is_stmt 0 view .LVU2332
 7238 004a 7D1E     		subs	r5, r7, #1
 7239 004c 2946     		mov	r1, r5
 7240 004e 2046     		mov	r0, r4
 7241              	.LVL779:
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
 7242              		.loc 1 3151 17 view .LVU2333
 7243 0050 FFF7FEFF 		bl	clmt_clust
 7244              	.LVL780:
 7245 0054 0146     		mov	r1, r0
3151:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(fp->fs, fp->clust);
 7246              		.loc 1 3151 15 view .LVU2334
 7247 0056 04F58053 		add	r3, r4, #4096
 7248 005a 5861     		str	r0, [r3, #20]
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fp->fs, FR_INT_ERR);
 7249              		.loc 1 3152 5 is_stmt 1 view .LVU2335
3152:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (!dsc) ABORT(fp->fs, FR_INT_ERR);
 7250              		.loc 1 3152 11 is_stmt 0 view .LVU2336
 7251 005c D3F80080 		ldr	r8, [r3]
 7252 0060 4046     		mov	r0, r8
 7253 0062 FFF7FEFF 		bl	clust2sect
 7254              	.LVL781:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 7255              		.loc 1 3153 5 is_stmt 1 view .LVU2337
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 7256              		.loc 1 3153 8 is_stmt 0 view .LVU2338
 7257 0066 0028     		cmp	r0, #0
 7258 0068 00F08580 		beq	.L563
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 7259              		.loc 1 3153 40 is_stmt 1 discriminator 2 view .LVU2339
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 7260              		.loc 1 3154 5 discriminator 2 view .LVU2340
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 7261              		.loc 1 3154 24 is_stmt 0 discriminator 2 view .LVU2341
 7262 006c 08F58052 		add	r2, r8, #4096
 7263 0070 5389     		ldrh	r3, [r2, #10]
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 7264              		.loc 1 3154 22 discriminator 2 view .LVU2342
ARM GAS  /tmp/cc9KJrYz.s 			page 239


 7265 0072 B5FBF3F5 		udiv	r5, r5, r3
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 7266              		.loc 1 3154 44 discriminator 2 view .LVU2343
 7267 0076 9278     		ldrb	r2, [r2, #2]	@ zero_extendqisi2
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 7268              		.loc 1 3154 52 discriminator 2 view .LVU2344
 7269 0078 013A     		subs	r2, r2, #1
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 7270              		.loc 1 3154 35 discriminator 2 view .LVU2345
 7271 007a 1540     		ands	r5, r5, r2
3154:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fp->fptr % SS(fp->fs) && dsc != fp->dsect) {	/* Refill sector cache if needed */
 7272              		.loc 1 3154 9 discriminator 2 view .LVU2346
 7273 007c 0544     		add	r5, r5, r0
 7274              	.LVL782:
3155:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7275              		.loc 1 3155 5 is_stmt 1 discriminator 2 view .LVU2347
3155:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7276              		.loc 1 3155 18 is_stmt 0 discriminator 2 view .LVU2348
 7277 007e B7FBF3F2 		udiv	r2, r7, r3
 7278 0082 03FB1277 		mls	r7, r3, r2, r7
 7279              	.LVL783:
3155:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7280              		.loc 1 3155 8 discriminator 2 view .LVU2349
 7281 0086 002F     		cmp	r7, #0
 7282 0088 00F07A81 		beq	.L520
3155:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7283              		.loc 1 3155 43 discriminator 1 view .LVU2350
 7284 008c 04F58053 		add	r3, r4, #4096
 7285 0090 9A69     		ldr	r2, [r3, #24]
3155:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7286              		.loc 1 3155 31 discriminator 1 view .LVU2351
 7287 0092 AA42     		cmp	r2, r5
 7288 0094 00F07481 		beq	.L520
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 7289              		.loc 1 3158 6 is_stmt 1 view .LVU2352
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 7290              		.loc 1 3158 12 is_stmt 0 view .LVU2353
 7291 0098 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
3158:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 7292              		.loc 1 3158 9 view .LVU2354
 7293 009a 13F0400F 		tst	r3, #64
 7294 009e 0FD0     		beq	.L531
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 							ABORT(fp->fs, FR_DISK_ERR);
 7295              		.loc 1 3159 7 is_stmt 1 view .LVU2355
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 							ABORT(fp->fs, FR_DISK_ERR);
 7296              		.loc 1 3159 11 is_stmt 0 view .LVU2356
 7297 00a0 08F58058 		add	r8, r8, #4096
 7298 00a4 0123     		movs	r3, #1
 7299 00a6 2146     		mov	r1, r4
 7300 00a8 98F80100 		ldrb	r0, [r8, #1]	@ zero_extendqisi2
 7301 00ac FFF7FEFF 		bl	disk_write
 7302              	.LVL784:
3159:Middlewares/Third_Party/FatFs/src/ff.c **** 							ABORT(fp->fs, FR_DISK_ERR);
 7303              		.loc 1 3159 10 view .LVU2357
 7304 00b0 0028     		cmp	r0, #0
 7305 00b2 65D1     		bne	.L564
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= ~FA__DIRTY;
ARM GAS  /tmp/cc9KJrYz.s 			page 240


 7306              		.loc 1 3160 34 is_stmt 1 view .LVU2358
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7307              		.loc 1 3161 7 view .LVU2359
3161:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7308              		.loc 1 3161 16 is_stmt 0 view .LVU2360
 7309 00b4 04F58052 		add	r2, r4, #4096
 7310 00b8 9379     		ldrb	r3, [r2, #6]	@ zero_extendqisi2
 7311 00ba 23F04003 		bic	r3, r3, #64
 7312 00be 9371     		strb	r3, [r2, #6]
 7313              	.L531:
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 7314              		.loc 1 3164 6 is_stmt 1 view .LVU2361
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 7315              		.loc 1 3164 22 is_stmt 0 view .LVU2362
 7316 00c0 04F58053 		add	r3, r4, #4096
 7317 00c4 1868     		ldr	r0, [r3]
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 7318              		.loc 1 3164 10 view .LVU2363
 7319 00c6 00F58050 		add	r0, r0, #4096
 7320 00ca 0123     		movs	r3, #1
 7321 00cc 2A46     		mov	r2, r5
 7322 00ce 2146     		mov	r1, r4
 7323 00d0 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 7324 00d2 FFF7FEFF 		bl	disk_read
 7325              	.LVL785:
3164:Middlewares/Third_Party/FatFs/src/ff.c **** 						ABORT(fp->fs, FR_DISK_ERR);
 7326              		.loc 1 3164 9 view .LVU2364
 7327 00d6 0028     		cmp	r0, #0
 7328 00d8 57D1     		bne	.L565
3165:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7329              		.loc 1 3165 33 is_stmt 1 view .LVU2365
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7330              		.loc 1 3167 6 view .LVU2366
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7331              		.loc 1 3167 16 is_stmt 0 view .LVU2367
 7332 00da 04F58054 		add	r4, r4, #4096
 7333              	.LVL786:
3167:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7334              		.loc 1 3167 16 view .LVU2368
 7335 00de A561     		str	r5, [r4, #24]
 7336 00e0 4EE1     		b	.L520
 7337              	.LVL787:
 7338              	.L562:
3122:Middlewares/Third_Party/FatFs/src/ff.c **** 			tlen = *tbl++; ulen = 2;	/* Given table size and required table size */
 7339              		.loc 1 3122 4 is_stmt 1 view .LVU2369
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 7340              		.loc 1 3123 4 view .LVU2370
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 7341              		.loc 1 3123 15 is_stmt 0 view .LVU2371
 7342 00e2 9846     		mov	r8, r3
 7343              	.LVL788:
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 7344              		.loc 1 3123 9 view .LVU2372
 7345 00e4 58F804BB 		ldr	fp, [r8], #4
 7346              	.LVL789:
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 7347              		.loc 1 3123 19 is_stmt 1 view .LVU2373
ARM GAS  /tmp/cc9KJrYz.s 			page 241


3124:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
 7348              		.loc 1 3124 4 view .LVU2374
3124:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (cl) {
 7349              		.loc 1 3124 7 is_stmt 0 view .LVU2375
 7350 00e8 04F58053 		add	r3, r4, #4096
 7351 00ec D3F810A0 		ldr	r10, [r3, #16]
 7352              	.LVL790:
3125:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 7353              		.loc 1 3125 4 is_stmt 1 view .LVU2376
3125:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 7354              		.loc 1 3125 7 is_stmt 0 view .LVU2377
 7355 00f0 BAF1000F 		cmp	r10, #0
 7356 00f4 31D0     		beq	.L555
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 7357              		.loc 1 3123 24 view .LVU2378
 7358 00f6 4FF00209 		mov	r9, #2
 7359              	.LVL791:
 7360              	.L528:
3126:Middlewares/Third_Party/FatFs/src/ff.c **** 					/* Get a fragment */
 7361              		.loc 1 3126 5 is_stmt 1 view .LVU2379
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 7362              		.loc 1 3128 6 view .LVU2380
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 7363              		.loc 1 3128 16 view .LVU2381
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 7364              		.loc 1 3128 25 view .LVU2382
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 7365              		.loc 1 3128 30 is_stmt 0 view .LVU2383
 7366 00fa 09F10209 		add	r9, r9, #2
 7367              	.LVL792:
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 7368              		.loc 1 3128 30 view .LVU2384
 7369 00fe 5146     		mov	r1, r10
3128:Middlewares/Third_Party/FatFs/src/ff.c **** 					do {
 7370              		.loc 1 3128 20 view .LVU2385
 7371 0100 0027     		movs	r7, #0
 7372              	.LVL793:
 7373              	.L526:
3129:Middlewares/Third_Party/FatFs/src/ff.c **** 						pcl = cl; ncl++;
 7374              		.loc 1 3129 6 is_stmt 1 view .LVU2386
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(fp->fs, cl);
 7375              		.loc 1 3130 7 view .LVU2387
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(fp->fs, cl);
 7376              		.loc 1 3130 17 view .LVU2388
3130:Middlewares/Third_Party/FatFs/src/ff.c **** 						cl = get_fat(fp->fs, cl);
 7377              		.loc 1 3130 20 is_stmt 0 view .LVU2389
 7378 0102 0137     		adds	r7, r7, #1
 7379              	.LVL794:
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
 7380              		.loc 1 3131 7 is_stmt 1 view .LVU2390
 7381 0104 0D46     		mov	r5, r1
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
 7382              		.loc 1 3131 12 is_stmt 0 view .LVU2391
 7383 0106 04F58053 		add	r3, r4, #4096
 7384 010a 1868     		ldr	r0, [r3]
 7385 010c FFF7FEFF 		bl	get_fat
 7386              	.LVL795:
ARM GAS  /tmp/cc9KJrYz.s 			page 242


3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
 7387              		.loc 1 3131 12 view .LVU2392
 7388 0110 0146     		mov	r1, r0
 7389              	.LVL796:
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7390              		.loc 1 3132 7 is_stmt 1 view .LVU2393
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7391              		.loc 1 3132 10 is_stmt 0 view .LVU2394
 7392 0112 0128     		cmp	r0, #1
 7393 0114 17D9     		bls	.L566
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7394              		.loc 1 3132 45 is_stmt 1 discriminator 2 view .LVU2395
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 7395              		.loc 1 3133 7 discriminator 2 view .LVU2396
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 7396              		.loc 1 3133 10 is_stmt 0 discriminator 2 view .LVU2397
 7397 0116 B0F1FF3F 		cmp	r0, #-1
 7398 011a 19D0     		beq	.L567
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 7399              		.loc 1 3133 55 is_stmt 1 discriminator 2 view .LVU2398
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 7400              		.loc 1 3134 14 discriminator 2 view .LVU2399
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 7401              		.loc 1 3134 25 is_stmt 0 discriminator 2 view .LVU2400
 7402 011c 0135     		adds	r5, r5, #1
 7403              	.LVL797:
3134:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (ulen <= tlen) {		/* Store the length and top of the fragment */
 7404              		.loc 1 3134 6 discriminator 2 view .LVU2401
 7405 011e 8542     		cmp	r5, r0
 7406 0120 EFD0     		beq	.L526
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
 7407              		.loc 1 3135 6 is_stmt 1 view .LVU2402
3135:Middlewares/Third_Party/FatFs/src/ff.c **** 						*tbl++ = ncl; *tbl++ = tcl;
 7408              		.loc 1 3135 9 is_stmt 0 view .LVU2403
 7409 0122 CB45     		cmp	fp, r9
 7410 0124 05D3     		bcc	.L527
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7411              		.loc 1 3136 7 is_stmt 1 view .LVU2404
 7412              	.LVL798:
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7413              		.loc 1 3136 14 is_stmt 0 view .LVU2405
 7414 0126 4346     		mov	r3, r8
 7415 0128 43F8087B 		str	r7, [r3], #8
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7416              		.loc 1 3136 21 is_stmt 1 view .LVU2406
 7417              	.LVL799:
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7418              		.loc 1 3136 28 is_stmt 0 view .LVU2407
 7419 012c C8F804A0 		str	r10, [r8, #4]
3136:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 7420              		.loc 1 3136 25 view .LVU2408
 7421 0130 9846     		mov	r8, r3
 7422              	.LVL800:
 7423              	.L527:
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7424              		.loc 1 3138 13 is_stmt 1 view .LVU2409
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/cc9KJrYz.s 			page 243


 7425              		.loc 1 3138 21 is_stmt 0 view .LVU2410
 7426 0132 04F58053 		add	r3, r4, #4096
 7427 0136 1B68     		ldr	r3, [r3]
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7428              		.loc 1 3138 25 view .LVU2411
 7429 0138 03F58053 		add	r3, r3, #4096
 7430 013c 5B69     		ldr	r3, [r3, #20]
3138:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7431              		.loc 1 3138 5 view .LVU2412
 7432 013e 8B42     		cmp	r3, r1
 7433 0140 0DD9     		bls	.L523
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
 7434              		.loc 1 3131 12 view .LVU2413
 7435 0142 8A46     		mov	r10, r1
 7436              	.LVL801:
3131:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl <= 1) ABORT(fp->fs, FR_INT_ERR);
 7437              		.loc 1 3131 12 view .LVU2414
 7438 0144 D9E7     		b	.L528
 7439              	.LVL802:
 7440              	.L566:
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7441              		.loc 1 3132 20 is_stmt 1 discriminator 1 view .LVU2415
 7442 0146 04F58054 		add	r4, r4, #4096
 7443              	.LVL803:
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7444              		.loc 1 3132 20 is_stmt 0 discriminator 1 view .LVU2416
 7445 014a 0226     		movs	r6, #2
 7446 014c E671     		strb	r6, [r4, #7]
3132:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (cl == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7447              		.loc 1 3132 20 is_stmt 1 discriminator 1 view .LVU2417
 7448 014e 17E1     		b	.L520
 7449              	.LVL804:
 7450              	.L567:
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 7451              		.loc 1 3133 29 discriminator 1 view .LVU2418
 7452 0150 04F58054 		add	r4, r4, #4096
 7453              	.LVL805:
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 7454              		.loc 1 3133 29 is_stmt 0 discriminator 1 view .LVU2419
 7455 0154 0126     		movs	r6, #1
 7456 0156 E671     		strb	r6, [r4, #7]
3133:Middlewares/Third_Party/FatFs/src/ff.c **** 					} while (cl == pcl + 1);
 7457              		.loc 1 3133 29 is_stmt 1 discriminator 1 view .LVU2420
 7458 0158 12E1     		b	.L520
 7459              	.LVL806:
 7460              	.L555:
3123:Middlewares/Third_Party/FatFs/src/ff.c **** 			cl = fp->sclust;			/* Top of the chain */
 7461              		.loc 1 3123 24 is_stmt 0 view .LVU2421
 7462 015a 4FF00209 		mov	r9, #2
 7463              	.LVL807:
 7464              	.L523:
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen)
 7465              		.loc 1 3140 4 is_stmt 1 view .LVU2422
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen)
 7466              		.loc 1 3140 7 is_stmt 0 view .LVU2423
 7467 015e 04F58054 		add	r4, r4, #4096
 7468              	.LVL808:
ARM GAS  /tmp/cc9KJrYz.s 			page 244


3140:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen)
 7469              		.loc 1 3140 7 view .LVU2424
 7470 0162 636A     		ldr	r3, [r4, #36]
3140:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ulen <= tlen)
 7471              		.loc 1 3140 15 view .LVU2425
 7472 0164 C3F80090 		str	r9, [r3]
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
 7473              		.loc 1 3141 4 is_stmt 1 view .LVU2426
3141:Middlewares/Third_Party/FatFs/src/ff.c **** 				*tbl = 0;		/* Terminate table */
 7474              		.loc 1 3141 7 is_stmt 0 view .LVU2427
 7475 0168 D945     		cmp	r9, fp
 7476 016a 00F20C81 		bhi	.L557
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 			else
 7477              		.loc 1 3142 5 is_stmt 1 view .LVU2428
3142:Middlewares/Third_Party/FatFs/src/ff.c **** 			else
 7478              		.loc 1 3142 10 is_stmt 0 view .LVU2429
 7479 016e 0023     		movs	r3, #0
 7480 0170 C8F80030 		str	r3, [r8]
 7481 0174 04E1     		b	.L520
 7482              	.LVL809:
 7483              	.L563:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 7484              		.loc 1 3153 15 is_stmt 1 discriminator 1 view .LVU2430
 7485 0176 04F58054 		add	r4, r4, #4096
 7486              	.LVL810:
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 7487              		.loc 1 3153 15 is_stmt 0 discriminator 1 view .LVU2431
 7488 017a 0226     		movs	r6, #2
 7489 017c E671     		strb	r6, [r4, #7]
3153:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc += (ofs - 1) / SS(fp->fs) & (fp->fs->csize - 1);
 7490              		.loc 1 3153 15 is_stmt 1 discriminator 1 view .LVU2432
 7491 017e FFE0     		b	.L520
 7492              	.LVL811:
 7493              	.L564:
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= ~FA__DIRTY;
 7494              		.loc 1 3160 8 view .LVU2433
 7495 0180 04F58054 		add	r4, r4, #4096
 7496              	.LVL812:
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= ~FA__DIRTY;
 7497              		.loc 1 3160 8 is_stmt 0 view .LVU2434
 7498 0184 0126     		movs	r6, #1
 7499 0186 E671     		strb	r6, [r4, #7]
3160:Middlewares/Third_Party/FatFs/src/ff.c **** 						fp->flag &= ~FA__DIRTY;
 7500              		.loc 1 3160 8 is_stmt 1 view .LVU2435
 7501 0188 FAE0     		b	.L520
 7502              	.LVL813:
 7503              	.L565:
3165:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7504              		.loc 1 3165 7 view .LVU2436
 7505 018a 04F58054 		add	r4, r4, #4096
 7506              	.LVL814:
3165:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7507              		.loc 1 3165 7 is_stmt 0 view .LVU2437
 7508 018e 0126     		movs	r6, #1
 7509 0190 E671     		strb	r6, [r4, #7]
3165:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7510              		.loc 1 3165 7 is_stmt 1 view .LVU2438
ARM GAS  /tmp/cc9KJrYz.s 			page 245


 7511 0192 F5E0     		b	.L520
 7512              	.LVL815:
 7513              	.L521:
3176:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7514              		.loc 1 3176 3 view .LVU2439
3176:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7515              		.loc 1 3176 15 is_stmt 0 view .LVU2440
 7516 0194 04F58053 		add	r3, r4, #4096
 7517 0198 DB68     		ldr	r3, [r3, #12]
3176:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7518              		.loc 1 3176 6 view .LVU2441
 7519 019a AB42     		cmp	r3, r5
 7520 019c 06D2     		bcs	.L534
3178:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7521              		.loc 1 3178 12 view .LVU2442
 7522 019e 04F58052 		add	r2, r4, #4096
 7523 01a2 9279     		ldrb	r2, [r2, #6]	@ zero_extendqisi2
3178:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7524              		.loc 1 3178 5 view .LVU2443
 7525 01a4 12F0020F 		tst	r2, #2
 7526 01a8 00D1     		bne	.L534
3180:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7527              		.loc 1 3180 10 view .LVU2444
 7528 01aa 1D46     		mov	r5, r3
 7529              	.LVL816:
 7530              	.L534:
3182:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 7531              		.loc 1 3182 3 is_stmt 1 view .LVU2445
3182:Middlewares/Third_Party/FatFs/src/ff.c **** 		fp->fptr = nsect = 0;
 7532              		.loc 1 3182 9 is_stmt 0 view .LVU2446
 7533 01ac 04F58053 		add	r3, r4, #4096
 7534 01b0 9A68     		ldr	r2, [r3, #8]
 7535              	.LVL817:
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 7536              		.loc 1 3183 3 is_stmt 1 view .LVU2447
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 7537              		.loc 1 3183 12 is_stmt 0 view .LVU2448
 7538 01b2 0021     		movs	r1, #0
 7539 01b4 9960     		str	r1, [r3, #8]
3184:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fp->fs->csize * SS(fp->fs);	/* Cluster size (byte) */
 7540              		.loc 1 3184 3 is_stmt 1 view .LVU2449
3184:Middlewares/Third_Party/FatFs/src/ff.c **** 			bcs = (DWORD)fp->fs->csize * SS(fp->fs);	/* Cluster size (byte) */
 7541              		.loc 1 3184 6 is_stmt 0 view .LVU2450
 7542 01b6 2DB3     		cbz	r5, .L535
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 7543              		.loc 1 3185 4 is_stmt 1 view .LVU2451
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 7544              		.loc 1 3185 19 is_stmt 0 view .LVU2452
 7545 01b8 1868     		ldr	r0, [r3]
 7546              	.LVL818:
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 7547              		.loc 1 3185 23 view .LVU2453
 7548 01ba 00F58053 		add	r3, r0, #4096
 7549 01be 93F80280 		ldrb	r8, [r3, #2]	@ zero_extendqisi2
3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 7550              		.loc 1 3185 33 view .LVU2454
 7551 01c2 5B89     		ldrh	r3, [r3, #10]
ARM GAS  /tmp/cc9KJrYz.s 			page 246


3185:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (ifptr > 0 &&
 7552              		.loc 1 3185 8 view .LVU2455
 7553 01c4 03FB08F8 		mul	r8, r3, r8
 7554              	.LVL819:
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 7555              		.loc 1 3186 4 is_stmt 1 view .LVU2456
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 7556              		.loc 1 3186 7 is_stmt 0 view .LVU2457
 7557 01c8 82B1     		cbz	r2, .L536
3187:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
 7558              		.loc 1 3187 10 discriminator 1 view .LVU2458
 7559 01ca 6B1E     		subs	r3, r5, #1
3187:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
 7560              		.loc 1 3187 15 discriminator 1 view .LVU2459
 7561 01cc B3FBF8F3 		udiv	r3, r3, r8
3187:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
 7562              		.loc 1 3187 31 discriminator 1 view .LVU2460
 7563 01d0 013A     		subs	r2, r2, #1
 7564              	.LVL820:
3187:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->fptr = (ifptr - 1) & ~(bcs - 1);	/* start from the current cluster */
 7565              		.loc 1 3187 36 discriminator 1 view .LVU2461
 7566 01d2 B2FBF8F1 		udiv	r1, r2, r8
3186:Middlewares/Third_Party/FatFs/src/ff.c **** 				(ofs - 1) / bcs >= (ifptr - 1) / bcs) {	/* When seek to same or following cluster, */
 7567              		.loc 1 3186 18 discriminator 1 view .LVU2462
 7568 01d6 8B42     		cmp	r3, r1
 7569 01d8 08D3     		bcc	.L536
3188:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 7570              		.loc 1 3188 5 is_stmt 1 view .LVU2463
3188:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 7571              		.loc 1 3188 30 is_stmt 0 view .LVU2464
 7572 01da C8F10007 		rsb	r7, r8, #0
3188:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 7573              		.loc 1 3188 28 view .LVU2465
 7574 01de 1740     		ands	r7, r7, r2
3188:Middlewares/Third_Party/FatFs/src/ff.c **** 				ofs -= fp->fptr;
 7575              		.loc 1 3188 14 view .LVU2466
 7576 01e0 04F58053 		add	r3, r4, #4096
 7577 01e4 9F60     		str	r7, [r3, #8]
3189:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
 7578              		.loc 1 3189 5 is_stmt 1 view .LVU2467
3189:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = fp->clust;
 7579              		.loc 1 3189 9 is_stmt 0 view .LVU2468
 7580 01e6 EF1B     		subs	r7, r5, r7
 7581              	.LVL821:
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 7582              		.loc 1 3190 5 is_stmt 1 view .LVU2469
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 7583              		.loc 1 3190 10 is_stmt 0 view .LVU2470
 7584 01e8 5D69     		ldr	r5, [r3, #20]
 7585              	.LVL822:
3190:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {									/* When seek to back cluster, */
 7586              		.loc 1 3190 10 view .LVU2471
 7587 01ea 09E0     		b	.L537
 7588              	.LVL823:
 7589              	.L536:
3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7590              		.loc 1 3192 5 is_stmt 1 view .LVU2472
ARM GAS  /tmp/cc9KJrYz.s 			page 247


3192:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7591              		.loc 1 3192 10 is_stmt 0 view .LVU2473
 7592 01ec 04F58053 		add	r3, r4, #4096
 7593 01f0 1B69     		ldr	r3, [r3, #16]
 7594              	.LVL824:
3194:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(fp->fs, 0);
 7595              		.loc 1 3194 5 is_stmt 1 view .LVU2474
3194:Middlewares/Third_Party/FatFs/src/ff.c **** 					clst = create_chain(fp->fs, 0);
 7596              		.loc 1 3194 8 is_stmt 0 view .LVU2475
 7597 01f2 002B     		cmp	r3, #0
 7598 01f4 4BD0     		beq	.L568
 7599              	.L538:
3201:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7600              		.loc 1 3201 5 is_stmt 1 view .LVU2476
3201:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7601              		.loc 1 3201 15 is_stmt 0 view .LVU2477
 7602 01f6 04F58052 		add	r2, r4, #4096
 7603 01fa 5361     		str	r3, [r2, #20]
 7604 01fc 2F46     		mov	r7, r5
 7605 01fe 1D46     		mov	r5, r3
 7606              	.LVL825:
 7607              	.L537:
3203:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 7608              		.loc 1 3203 4 is_stmt 1 view .LVU2478
3203:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (ofs > bcs) {						/* Cluster following loop */
 7609              		.loc 1 3203 7 is_stmt 0 view .LVU2479
 7610 0200 002D     		cmp	r5, #0
 7611 0202 77D1     		bne	.L541
 7612              	.LVL826:
 7613              	.L535:
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7614              		.loc 1 3228 3 is_stmt 1 view .LVU2480
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7615              		.loc 1 3228 9 is_stmt 0 view .LVU2481
 7616 0204 04F58052 		add	r2, r4, #4096
 7617 0208 9368     		ldr	r3, [r2, #8]
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7618              		.loc 1 3228 18 view .LVU2482
 7619 020a 1168     		ldr	r1, [r2]
 7620 020c 01F58052 		add	r2, r1, #4096
 7621 0210 5289     		ldrh	r2, [r2, #10]
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7622              		.loc 1 3228 16 view .LVU2483
 7623 0212 B3FBF2F0 		udiv	r0, r3, r2
 7624 0216 02FB1033 		mls	r3, r2, r0, r3
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7625              		.loc 1 3228 6 view .LVU2484
 7626 021a 4BB3     		cbz	r3, .L550
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7627              		.loc 1 3228 43 discriminator 1 view .LVU2485
 7628 021c 04F58053 		add	r3, r4, #4096
 7629 0220 9A69     		ldr	r2, [r3, #24]
3228:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_TINY
 7630              		.loc 1 3228 29 discriminator 1 view .LVU2486
 7631 0222 AA42     		cmp	r2, r5
 7632 0224 24D0     		beq	.L550
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
ARM GAS  /tmp/cc9KJrYz.s 			page 248


 7633              		.loc 1 3231 4 is_stmt 1 view .LVU2487
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 7634              		.loc 1 3231 10 is_stmt 0 view .LVU2488
 7635 0226 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
3231:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 7636              		.loc 1 3231 7 view .LVU2489
 7637 0228 13F0400F 		tst	r3, #64
 7638 022c 0FD0     		beq	.L551
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 7639              		.loc 1 3232 5 is_stmt 1 view .LVU2490
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 7640              		.loc 1 3232 9 is_stmt 0 view .LVU2491
 7641 022e 01F58050 		add	r0, r1, #4096
 7642 0232 0123     		movs	r3, #1
 7643 0234 2146     		mov	r1, r4
 7644 0236 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 7645 0238 FFF7FEFF 		bl	disk_write
 7646              	.LVL827:
3232:Middlewares/Third_Party/FatFs/src/ff.c **** 					ABORT(fp->fs, FR_DISK_ERR);
 7647              		.loc 1 3232 8 view .LVU2492
 7648 023c 0028     		cmp	r0, #0
 7649 023e 40F09480 		bne	.L569
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 7650              		.loc 1 3233 32 is_stmt 1 view .LVU2493
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7651              		.loc 1 3234 5 view .LVU2494
3234:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 7652              		.loc 1 3234 14 is_stmt 0 view .LVU2495
 7653 0242 04F58052 		add	r2, r4, #4096
 7654 0246 9379     		ldrb	r3, [r2, #6]	@ zero_extendqisi2
 7655 0248 23F04003 		bic	r3, r3, #64
 7656 024c 9371     		strb	r3, [r2, #6]
 7657              	.L551:
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
 7658              		.loc 1 3237 4 is_stmt 1 view .LVU2496
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
 7659              		.loc 1 3237 20 is_stmt 0 view .LVU2497
 7660 024e 04F58053 		add	r3, r4, #4096
 7661 0252 1868     		ldr	r0, [r3]
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
 7662              		.loc 1 3237 8 view .LVU2498
 7663 0254 00F58050 		add	r0, r0, #4096
 7664 0258 0123     		movs	r3, #1
 7665 025a 2A46     		mov	r2, r5
 7666 025c 2146     		mov	r1, r4
 7667 025e 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 7668 0260 FFF7FEFF 		bl	disk_read
 7669              	.LVL828:
3237:Middlewares/Third_Party/FatFs/src/ff.c **** 				ABORT(fp->fs, FR_DISK_ERR);
 7670              		.loc 1 3237 7 view .LVU2499
 7671 0264 0028     		cmp	r0, #0
 7672 0266 40F08580 		bne	.L570
3238:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7673              		.loc 1 3238 31 is_stmt 1 view .LVU2500
3240:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7674              		.loc 1 3240 4 view .LVU2501
3240:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
ARM GAS  /tmp/cc9KJrYz.s 			page 249


 7675              		.loc 1 3240 14 is_stmt 0 view .LVU2502
 7676 026a 04F58053 		add	r3, r4, #4096
 7677 026e 9D61     		str	r5, [r3, #24]
 7678              	.L550:
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;
 7679              		.loc 1 3243 3 is_stmt 1 view .LVU2503
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;
 7680              		.loc 1 3243 9 is_stmt 0 view .LVU2504
 7681 0270 04F58053 		add	r3, r4, #4096
 7682 0274 9A68     		ldr	r2, [r3, #8]
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;
 7683              		.loc 1 3243 20 view .LVU2505
 7684 0276 DB68     		ldr	r3, [r3, #12]
3243:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;
 7685              		.loc 1 3243 6 view .LVU2506
 7686 0278 9A42     		cmp	r2, r3
 7687 027a 40F28180 		bls	.L520
3244:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
 7688              		.loc 1 3244 4 is_stmt 1 view .LVU2507
3244:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
 7689              		.loc 1 3244 14 is_stmt 0 view .LVU2508
 7690 027e 04F58054 		add	r4, r4, #4096
 7691              	.LVL829:
3244:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
 7692              		.loc 1 3244 14 view .LVU2509
 7693 0282 E260     		str	r2, [r4, #12]
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7694              		.loc 1 3245 4 is_stmt 1 view .LVU2510
3245:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 7695              		.loc 1 3245 13 is_stmt 0 view .LVU2511
 7696 0284 A379     		ldrb	r3, [r4, #6]	@ zero_extendqisi2
 7697 0286 43F02003 		orr	r3, r3, #32
 7698 028a A371     		strb	r3, [r4, #6]
 7699 028c 78E0     		b	.L520
 7700              	.LVL830:
 7701              	.L568:
3195:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
 7702              		.loc 1 3195 6 is_stmt 1 view .LVU2512
3195:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
 7703              		.loc 1 3195 13 is_stmt 0 view .LVU2513
 7704 028e 0021     		movs	r1, #0
 7705 0290 FFF7FEFF 		bl	create_chain
 7706              	.LVL831:
3195:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 1) ABORT(fp->fs, FR_INT_ERR);
 7707              		.loc 1 3195 13 view .LVU2514
 7708 0294 0346     		mov	r3, r0
 7709              	.LVL832:
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7710              		.loc 1 3196 6 is_stmt 1 view .LVU2515
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7711              		.loc 1 3196 9 is_stmt 0 view .LVU2516
 7712 0296 0128     		cmp	r0, #1
 7713 0298 06D0     		beq	.L571
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7714              		.loc 1 3196 46 is_stmt 1 discriminator 2 view .LVU2517
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7715              		.loc 1 3197 6 discriminator 2 view .LVU2518
ARM GAS  /tmp/cc9KJrYz.s 			page 250


3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7716              		.loc 1 3197 9 is_stmt 0 discriminator 2 view .LVU2519
 7717 029a B0F1FF3F 		cmp	r0, #-1
 7718 029e 08D0     		beq	.L572
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7719              		.loc 1 3197 56 is_stmt 1 discriminator 2 view .LVU2520
3198:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7720              		.loc 1 3198 6 discriminator 2 view .LVU2521
3198:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7721              		.loc 1 3198 17 is_stmt 0 discriminator 2 view .LVU2522
 7722 02a0 04F58052 		add	r2, r4, #4096
 7723 02a4 1061     		str	r0, [r2, #16]
 7724 02a6 A6E7     		b	.L538
 7725              	.L571:
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7726              		.loc 1 3196 21 is_stmt 1 discriminator 1 view .LVU2523
 7727 02a8 04F58054 		add	r4, r4, #4096
 7728              	.LVL833:
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7729              		.loc 1 3196 21 is_stmt 0 discriminator 1 view .LVU2524
 7730 02ac 0226     		movs	r6, #2
 7731 02ae E671     		strb	r6, [r4, #7]
3196:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7732              		.loc 1 3196 21 is_stmt 1 discriminator 1 view .LVU2525
 7733 02b0 66E0     		b	.L520
 7734              	.LVL834:
 7735              	.L572:
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7736              		.loc 1 3197 30 discriminator 1 view .LVU2526
 7737 02b2 04F58054 		add	r4, r4, #4096
 7738              	.LVL835:
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7739              		.loc 1 3197 30 is_stmt 0 discriminator 1 view .LVU2527
 7740 02b6 0126     		movs	r6, #1
 7741 02b8 E671     		strb	r6, [r4, #7]
3197:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->sclust = clst;
 7742              		.loc 1 3197 30 is_stmt 1 discriminator 1 view .LVU2528
 7743 02ba 61E0     		b	.L520
 7744              	.LVL836:
 7745              	.L542:
3213:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7746              		.loc 1 3213 7 view .LVU2529
3213:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst == 0xFFFFFFFF) ABORT(fp->fs, FR_DISK_ERR);
 7747              		.loc 1 3213 14 is_stmt 0 view .LVU2530
 7748 02bc 04F58053 		add	r3, r4, #4096
 7749 02c0 2946     		mov	r1, r5
 7750 02c2 1868     		ldr	r0, [r3]
 7751 02c4 FFF7FEFF 		bl	get_fat
 7752              	.LVL837:
 7753 02c8 0546     		mov	r5, r0
 7754              	.LVL838:
 7755              	.L544:
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7756              		.loc 1 3214 6 is_stmt 1 view .LVU2531
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7757              		.loc 1 3214 9 is_stmt 0 view .LVU2532
 7758 02ca B5F1FF3F 		cmp	r5, #-1
ARM GAS  /tmp/cc9KJrYz.s 			page 251


 7759 02ce 3BD0     		beq	.L573
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7760              		.loc 1 3214 56 is_stmt 1 discriminator 2 view .LVU2533
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7761              		.loc 1 3215 6 discriminator 2 view .LVU2534
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7762              		.loc 1 3215 9 is_stmt 0 discriminator 2 view .LVU2535
 7763 02d0 012D     		cmp	r5, #1
 7764 02d2 3ED9     		bls	.L546
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7765              		.loc 1 3215 33 discriminator 2 view .LVU2536
 7766 02d4 04F58053 		add	r3, r4, #4096
 7767 02d8 1B68     		ldr	r3, [r3]
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7768              		.loc 1 3215 37 discriminator 2 view .LVU2537
 7769 02da 03F58053 		add	r3, r3, #4096
 7770 02de 5B69     		ldr	r3, [r3, #20]
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7771              		.loc 1 3215 20 discriminator 2 view .LVU2538
 7772 02e0 AB42     		cmp	r3, r5
 7773 02e2 36D9     		bls	.L546
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7774              		.loc 1 3215 74 is_stmt 1 discriminator 4 view .LVU2539
3216:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->fptr += bcs;
 7775              		.loc 1 3216 6 discriminator 4 view .LVU2540
3216:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->fptr += bcs;
 7776              		.loc 1 3216 16 is_stmt 0 discriminator 4 view .LVU2541
 7777 02e4 04F58053 		add	r3, r4, #4096
 7778 02e8 5D61     		str	r5, [r3, #20]
3217:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs;
 7779              		.loc 1 3217 6 is_stmt 1 discriminator 4 view .LVU2542
3217:Middlewares/Third_Party/FatFs/src/ff.c **** 					ofs -= bcs;
 7780              		.loc 1 3217 15 is_stmt 0 discriminator 4 view .LVU2543
 7781 02ea 9A68     		ldr	r2, [r3, #8]
 7782 02ec 4244     		add	r2, r2, r8
 7783 02ee 9A60     		str	r2, [r3, #8]
3218:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7784              		.loc 1 3218 6 is_stmt 1 discriminator 4 view .LVU2544
3218:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7785              		.loc 1 3218 10 is_stmt 0 discriminator 4 view .LVU2545
 7786 02f0 A7EB0807 		sub	r7, r7, r8
 7787              	.LVL839:
 7788              	.L541:
3204:Middlewares/Third_Party/FatFs/src/ff.c **** #if !_FS_READONLY
 7789              		.loc 1 3204 11 is_stmt 1 view .LVU2546
 7790 02f4 4745     		cmp	r7, r8
 7791 02f6 0FD9     		bls	.L543
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, clst);	/* Force stretch if in write mode */
 7792              		.loc 1 3206 6 view .LVU2547
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, clst);	/* Force stretch if in write mode */
 7793              		.loc 1 3206 12 is_stmt 0 view .LVU2548
 7794 02f8 04F58053 		add	r3, r4, #4096
 7795 02fc 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
3206:Middlewares/Third_Party/FatFs/src/ff.c **** 						clst = create_chain(fp->fs, clst);	/* Force stretch if in write mode */
 7796              		.loc 1 3206 9 view .LVU2549
 7797 02fe 13F0020F 		tst	r3, #2
 7798 0302 DBD0     		beq	.L542
ARM GAS  /tmp/cc9KJrYz.s 			page 252


3207:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* When disk gets full, clip file size */
 7799              		.loc 1 3207 7 is_stmt 1 view .LVU2550
3207:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (clst == 0) {				/* When disk gets full, clip file size */
 7800              		.loc 1 3207 14 is_stmt 0 view .LVU2551
 7801 0304 04F58053 		add	r3, r4, #4096
 7802 0308 2946     		mov	r1, r5
 7803 030a 1868     		ldr	r0, [r3]
 7804 030c FFF7FEFF 		bl	create_chain
 7805              	.LVL840:
3208:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = bcs; break;
 7806              		.loc 1 3208 7 is_stmt 1 view .LVU2552
3208:Middlewares/Third_Party/FatFs/src/ff.c **** 							ofs = bcs; break;
 7807              		.loc 1 3208 10 is_stmt 0 view .LVU2553
 7808 0310 0546     		mov	r5, r0
 7809 0312 0028     		cmp	r0, #0
 7810 0314 D9D1     		bne	.L544
3209:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 7811              		.loc 1 3209 12 view .LVU2554
 7812 0316 4746     		mov	r7, r8
 7813              	.LVL841:
 7814              	.L543:
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fp->fs)) {
 7815              		.loc 1 3220 5 is_stmt 1 view .LVU2555
3220:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ofs % SS(fp->fs)) {
 7816              		.loc 1 3220 14 is_stmt 0 view .LVU2556
 7817 0318 04F58053 		add	r3, r4, #4096
 7818 031c 9A68     		ldr	r2, [r3, #8]
 7819 031e 3A44     		add	r2, r2, r7
 7820 0320 9A60     		str	r2, [r3, #8]
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fp->fs, clst);	/* Current sector */
 7821              		.loc 1 3221 5 is_stmt 1 view .LVU2557
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fp->fs, clst);	/* Current sector */
 7822              		.loc 1 3221 15 is_stmt 0 view .LVU2558
 7823 0322 1868     		ldr	r0, [r3]
 7824 0324 00F58053 		add	r3, r0, #4096
 7825 0328 B3F80A80 		ldrh	r8, [r3, #10]
 7826              	.LVL842:
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fp->fs, clst);	/* Current sector */
 7827              		.loc 1 3221 13 view .LVU2559
 7828 032c B7FBF8F3 		udiv	r3, r7, r8
 7829 0330 08FB1373 		mls	r3, r8, r3, r7
3221:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect = clust2sect(fp->fs, clst);	/* Current sector */
 7830              		.loc 1 3221 8 view .LVU2560
 7831 0334 BBB1     		cbz	r3, .L560
3222:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fp->fs, FR_INT_ERR);
 7832              		.loc 1 3222 6 is_stmt 1 view .LVU2561
3222:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!nsect) ABORT(fp->fs, FR_INT_ERR);
 7833              		.loc 1 3222 14 is_stmt 0 view .LVU2562
 7834 0336 2946     		mov	r1, r5
 7835 0338 FFF7FEFF 		bl	clust2sect
 7836              	.LVL843:
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7837              		.loc 1 3223 6 is_stmt 1 view .LVU2563
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7838              		.loc 1 3223 9 is_stmt 0 view .LVU2564
 7839 033c 0546     		mov	r5, r0
 7840              	.LVL844:
ARM GAS  /tmp/cc9KJrYz.s 			page 253


3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7841              		.loc 1 3223 9 view .LVU2565
 7842 033e 68B1     		cbz	r0, .L574
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7843              		.loc 1 3223 43 is_stmt 1 discriminator 2 view .LVU2566
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7844              		.loc 1 3224 6 discriminator 2 view .LVU2567
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7845              		.loc 1 3224 19 is_stmt 0 discriminator 2 view .LVU2568
 7846 0340 B7FBF8F7 		udiv	r7, r7, r8
 7847              	.LVL845:
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7848              		.loc 1 3224 12 discriminator 2 view .LVU2569
 7849 0344 3D44     		add	r5, r5, r7
 7850              	.LVL846:
3224:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 7851              		.loc 1 3224 12 discriminator 2 view .LVU2570
 7852 0346 5DE7     		b	.L535
 7853              	.LVL847:
 7854              	.L573:
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7855              		.loc 1 3214 30 is_stmt 1 discriminator 1 view .LVU2571
 7856 0348 04F58054 		add	r4, r4, #4096
 7857              	.LVL848:
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7858              		.loc 1 3214 30 is_stmt 0 discriminator 1 view .LVU2572
 7859 034c 0126     		movs	r6, #1
 7860 034e E671     		strb	r6, [r4, #7]
3214:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (clst <= 1 || clst >= fp->fs->n_fatent) ABORT(fp->fs, FR_INT_ERR);
 7861              		.loc 1 3214 30 is_stmt 1 discriminator 1 view .LVU2573
 7862 0350 16E0     		b	.L520
 7863              	.LVL849:
 7864              	.L546:
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7865              		.loc 1 3215 49 discriminator 3 view .LVU2574
 7866 0352 04F58054 		add	r4, r4, #4096
 7867              	.LVL850:
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7868              		.loc 1 3215 49 is_stmt 0 discriminator 3 view .LVU2575
 7869 0356 0226     		movs	r6, #2
 7870 0358 E671     		strb	r6, [r4, #7]
3215:Middlewares/Third_Party/FatFs/src/ff.c **** 					fp->clust = clst;
 7871              		.loc 1 3215 49 is_stmt 1 discriminator 3 view .LVU2576
 7872 035a 11E0     		b	.L520
 7873              	.LVL851:
 7874              	.L574:
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7875              		.loc 1 3223 18 discriminator 1 view .LVU2577
 7876 035c 04F58054 		add	r4, r4, #4096
 7877              	.LVL852:
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7878              		.loc 1 3223 18 is_stmt 0 discriminator 1 view .LVU2578
 7879 0360 0226     		movs	r6, #2
 7880 0362 E671     		strb	r6, [r4, #7]
3223:Middlewares/Third_Party/FatFs/src/ff.c **** 					nsect += ofs / SS(fp->fs);
 7881              		.loc 1 3223 18 is_stmt 1 discriminator 1 view .LVU2579
 7882 0364 0CE0     		b	.L520
ARM GAS  /tmp/cc9KJrYz.s 			page 254


 7883              	.LVL853:
 7884              	.L560:
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 7885              		.loc 1 3183 20 is_stmt 0 view .LVU2580
 7886 0366 1D46     		mov	r5, r3
 7887              	.LVL854:
3183:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (ofs) {
 7888              		.loc 1 3183 20 view .LVU2581
 7889 0368 4CE7     		b	.L535
 7890              	.LVL855:
 7891              	.L569:
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 7892              		.loc 1 3233 6 is_stmt 1 view .LVU2582
 7893 036a 04F58054 		add	r4, r4, #4096
 7894              	.LVL856:
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 7895              		.loc 1 3233 6 is_stmt 0 view .LVU2583
 7896 036e 0126     		movs	r6, #1
 7897 0370 E671     		strb	r6, [r4, #7]
3233:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->flag &= ~FA__DIRTY;
 7898              		.loc 1 3233 6 is_stmt 1 view .LVU2584
 7899 0372 05E0     		b	.L520
 7900              	.LVL857:
 7901              	.L570:
3238:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7902              		.loc 1 3238 5 view .LVU2585
 7903 0374 04F58054 		add	r4, r4, #4096
 7904              	.LVL858:
3238:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7905              		.loc 1 3238 5 is_stmt 0 view .LVU2586
 7906 0378 0126     		movs	r6, #1
 7907 037a E671     		strb	r6, [r4, #7]
3238:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 7908              		.loc 1 3238 5 is_stmt 1 view .LVU2587
 7909 037c 00E0     		b	.L520
 7910              	.LVL859:
 7911              	.L554:
3117:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7912              		.loc 1 3117 3 is_stmt 0 view .LVU2588
 7913 037e 1E46     		mov	r6, r3
 7914              	.LVL860:
 7915              	.L520:
3251:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7916              		.loc 1 3251 1 view .LVU2589
 7917 0380 3046     		mov	r0, r6
 7918 0382 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 7919              	.LVL861:
 7920              	.L557:
3144:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7921              		.loc 1 3144 9 view .LVU2590
 7922 0386 1126     		movs	r6, #17
 7923 0388 FAE7     		b	.L520
 7924              		.cfi_endproc
 7925              	.LFE112:
 7927              		.section	.text.f_opendir,"ax",%progbits
 7928              		.align	1
 7929              		.global	f_opendir
ARM GAS  /tmp/cc9KJrYz.s 			page 255


 7930              		.syntax unified
 7931              		.thumb
 7932              		.thumb_func
 7933              		.fpu softvfp
 7935              	f_opendir:
 7936              	.LVL862:
 7937              	.LFB113:
3264:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7938              		.loc 1 3264 1 is_stmt 1 view -0
 7939              		.cfi_startproc
 7940              		@ args = 0, pretend = 0, frame = 24
 7941              		@ frame_needed = 0, uses_anonymous_args = 0
3264:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 7942              		.loc 1 3264 1 is_stmt 0 view .LVU2592
 7943 0000 30B5     		push	{r4, r5, lr}
 7944              	.LCFI69:
 7945              		.cfi_def_cfa_offset 12
 7946              		.cfi_offset 4, -12
 7947              		.cfi_offset 5, -8
 7948              		.cfi_offset 14, -4
 7949 0002 87B0     		sub	sp, sp, #28
 7950              	.LCFI70:
 7951              		.cfi_def_cfa_offset 40
 7952 0004 0191     		str	r1, [sp, #4]
3265:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS* fs;
 7953              		.loc 1 3265 2 is_stmt 1 view .LVU2593
3266:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 7954              		.loc 1 3266 2 view .LVU2594
3267:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7955              		.loc 1 3267 2 view .LVU2595
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7956              		.loc 1 3270 2 view .LVU2596
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7957              		.loc 1 3270 5 is_stmt 0 view .LVU2597
 7958 0006 0028     		cmp	r0, #0
 7959 0008 4ED0     		beq	.L582
 7960 000a 0546     		mov	r5, r0
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7961              		.loc 1 3273 2 is_stmt 1 view .LVU2598
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7962              		.loc 1 3273 8 is_stmt 0 view .LVU2599
 7963 000c 0022     		movs	r2, #0
 7964 000e 01A9     		add	r1, sp, #4
 7965              	.LVL863:
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7966              		.loc 1 3273 8 view .LVU2600
 7967 0010 05A8     		add	r0, sp, #20
 7968              	.LVL864:
3273:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 7969              		.loc 1 3273 8 view .LVU2601
 7970 0012 FFF7FEFF 		bl	find_volume
 7971              	.LVL865:
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fs = fs;
 7972              		.loc 1 3274 2 is_stmt 1 view .LVU2602
3274:Middlewares/Third_Party/FatFs/src/ff.c **** 		dp->fs = fs;
 7973              		.loc 1 3274 5 is_stmt 0 view .LVU2603
 7974 0016 0446     		mov	r4, r0
ARM GAS  /tmp/cc9KJrYz.s 			page 256


 7975 0018 38B1     		cbz	r0, .L587
 7976              	.L577:
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7977              		.loc 1 3304 2 is_stmt 1 view .LVU2604
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7978              		.loc 1 3304 5 is_stmt 0 view .LVU2605
 7979 001a 1CB1     		cbz	r4, .L576
 7980              	.L581:
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7981              		.loc 1 3304 20 is_stmt 1 discriminator 1 view .LVU2606
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7982              		.loc 1 3304 27 is_stmt 0 discriminator 1 view .LVU2607
 7983 001c 05F58055 		add	r5, r5, #4096
 7984              	.LVL866:
3304:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7985              		.loc 1 3304 27 discriminator 1 view .LVU2608
 7986 0020 0023     		movs	r3, #0
 7987 0022 2B60     		str	r3, [r5]
 7988              	.LVL867:
 7989              	.L576:
3307:Middlewares/Third_Party/FatFs/src/ff.c **** 
 7990              		.loc 1 3307 1 view .LVU2609
 7991 0024 2046     		mov	r0, r4
 7992 0026 07B0     		add	sp, sp, #28
 7993              	.LCFI71:
 7994              		.cfi_remember_state
 7995              		.cfi_def_cfa_offset 12
 7996              		@ sp needed
 7997 0028 30BD     		pop	{r4, r5, pc}
 7998              	.LVL868:
 7999              	.L587:
 8000              	.LCFI72:
 8001              		.cfi_restore_state
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(*dp);
 8002              		.loc 1 3275 3 is_stmt 1 view .LVU2610
3275:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(*dp);
 8003              		.loc 1 3275 10 is_stmt 0 view .LVU2611
 8004 002a 05F58053 		add	r3, r5, #4096
 8005 002e 059A     		ldr	r2, [sp, #20]
 8006 0030 1A60     		str	r2, [r3]
3276:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(dp, path);			/* Follow the path to the directory */
 8007              		.loc 1 3276 3 is_stmt 1 view .LVU2612
 8008 0032 02AA     		add	r2, sp, #8
 8009 0034 9A61     		str	r2, [r3, #24]
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 8010              		.loc 1 3277 3 view .LVU2613
3277:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 8011              		.loc 1 3277 9 is_stmt 0 view .LVU2614
 8012 0036 0199     		ldr	r1, [sp, #4]
 8013 0038 2846     		mov	r0, r5
 8014 003a FFF7FEFF 		bl	follow_path
 8015              	.LVL869:
3278:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {						/* Follow completed */
 8016              		.loc 1 3278 13 is_stmt 1 view .LVU2615
3279:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir) {						/* It is not the origin directory itself */
 8017              		.loc 1 3279 3 view .LVU2616
3279:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dp->dir) {						/* It is not the origin directory itself */
ARM GAS  /tmp/cc9KJrYz.s 			page 257


 8018              		.loc 1 3279 6 is_stmt 0 view .LVU2617
 8019 003e 0446     		mov	r4, r0
 8020 0040 70BB     		cbnz	r0, .L578
3280:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->dir[DIR_Attr] & AM_DIR)	/* The object is a sub directory */
 8021              		.loc 1 3280 4 is_stmt 1 view .LVU2618
3280:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->dir[DIR_Attr] & AM_DIR)	/* The object is a sub directory */
 8022              		.loc 1 3280 10 is_stmt 0 view .LVU2619
 8023 0042 05F58053 		add	r3, r5, #4096
 8024 0046 5969     		ldr	r1, [r3, #20]
3280:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dp->dir[DIR_Attr] & AM_DIR)	/* The object is a sub directory */
 8025              		.loc 1 3280 7 view .LVU2620
 8026 0048 49B1     		cbz	r1, .L579
3281:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sclust = ld_clust(fs, dp->dir);
 8027              		.loc 1 3281 5 is_stmt 1 view .LVU2621
3281:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sclust = ld_clust(fs, dp->dir);
 8028              		.loc 1 3281 16 is_stmt 0 view .LVU2622
 8029 004a CB7A     		ldrb	r3, [r1, #11]	@ zero_extendqisi2
3281:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sclust = ld_clust(fs, dp->dir);
 8030              		.loc 1 3281 8 view .LVU2623
 8031 004c 13F0100F 		tst	r3, #16
 8032 0050 25D0     		beq	.L583
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 				else							/* The object is a file */
 8033              		.loc 1 3282 6 is_stmt 1 view .LVU2624
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 				else							/* The object is a file */
 8034              		.loc 1 3282 19 is_stmt 0 view .LVU2625
 8035 0052 0598     		ldr	r0, [sp, #20]
 8036 0054 FFF7FEFF 		bl	ld_clust
 8037              	.LVL870:
3282:Middlewares/Third_Party/FatFs/src/ff.c **** 				else							/* The object is a file */
 8038              		.loc 1 3282 17 view .LVU2626
 8039 0058 05F58053 		add	r3, r5, #4096
 8040 005c 9860     		str	r0, [r3, #8]
 8041              	.L579:
3286:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->id = fs->id;
 8042              		.loc 1 3286 4 is_stmt 1 view .LVU2627
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 8043              		.loc 1 3287 5 view .LVU2628
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 8044              		.loc 1 3287 16 is_stmt 0 view .LVU2629
 8045 005e 059B     		ldr	r3, [sp, #20]
 8046 0060 03F58053 		add	r3, r3, #4096
 8047 0064 DA88     		ldrh	r2, [r3, #6]
3287:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_sdi(dp, 0);			/* Rewind directory */
 8048              		.loc 1 3287 12 view .LVU2630
 8049 0066 05F58053 		add	r3, r5, #4096
 8050 006a 9A80     		strh	r2, [r3, #4]	@ movhi
3288:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 8051              		.loc 1 3288 5 is_stmt 1 view .LVU2631
3288:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_LOCK
 8052              		.loc 1 3288 11 is_stmt 0 view .LVU2632
 8053 006c 0021     		movs	r1, #0
 8054 006e 2846     		mov	r0, r5
 8055 0070 FFF7FEFF 		bl	dir_sdi
 8056              	.LVL871:
3290:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dp->sclust) {
 8057              		.loc 1 3290 5 is_stmt 1 view .LVU2633
3290:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (dp->sclust) {
ARM GAS  /tmp/cc9KJrYz.s 			page 258


 8058              		.loc 1 3290 8 is_stmt 0 view .LVU2634
 8059 0074 0446     		mov	r4, r0
 8060 0076 98B9     		cbnz	r0, .L578
3291:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 8061              		.loc 1 3291 6 is_stmt 1 view .LVU2635
3291:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 8062              		.loc 1 3291 12 is_stmt 0 view .LVU2636
 8063 0078 05F58053 		add	r3, r5, #4096
 8064 007c 9B68     		ldr	r3, [r3, #8]
3291:Middlewares/Third_Party/FatFs/src/ff.c **** 						dp->lockid = inc_lock(dp, 0);	/* Lock the sub directory */
 8065              		.loc 1 3291 9 view .LVU2637
 8066 007e 23B9     		cbnz	r3, .L588
3296:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8067              		.loc 1 3296 7 is_stmt 1 view .LVU2638
3296:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8068              		.loc 1 3296 18 is_stmt 0 view .LVU2639
 8069 0080 05F58053 		add	r3, r5, #4096
 8070 0084 0022     		movs	r2, #0
 8071 0086 DA61     		str	r2, [r3, #28]
 8072 0088 0AE0     		b	.L578
 8073              	.L588:
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!dp->lockid)
 8074              		.loc 1 3292 7 is_stmt 1 view .LVU2640
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!dp->lockid)
 8075              		.loc 1 3292 20 is_stmt 0 view .LVU2641
 8076 008a 0021     		movs	r1, #0
 8077 008c 2846     		mov	r0, r5
 8078 008e FFF7FEFF 		bl	inc_lock
 8079              	.LVL872:
3292:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (!dp->lockid)
 8080              		.loc 1 3292 18 view .LVU2642
 8081 0092 05F58053 		add	r3, r5, #4096
 8082 0096 D861     		str	r0, [r3, #28]
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = FR_TOO_MANY_OPEN_FILES;
 8083              		.loc 1 3293 7 is_stmt 1 view .LVU2643
3293:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = FR_TOO_MANY_OPEN_FILES;
 8084              		.loc 1 3293 10 is_stmt 0 view .LVU2644
 8085 0098 10B9     		cbnz	r0, .L578
 8086              	.LVL873:
3294:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 8087              		.loc 1 3294 12 view .LVU2645
 8088 009a 1224     		movs	r4, #18
 8089 009c BDE7     		b	.L577
 8090              	.LVL874:
 8091              	.L583:
3284:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8092              		.loc 1 3284 10 view .LVU2646
 8093 009e 0524     		movs	r4, #5
 8094              	.LVL875:
 8095              	.L578:
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8096              		.loc 1 3302 3 is_stmt 1 view .LVU2647
3302:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8097              		.loc 1 3302 6 is_stmt 0 view .LVU2648
 8098 00a0 042C     		cmp	r4, #4
 8099 00a2 BAD1     		bne	.L577
 8100              	.LVL876:
ARM GAS  /tmp/cc9KJrYz.s 			page 259


3302:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8101              		.loc 1 3302 30 view .LVU2649
 8102 00a4 0524     		movs	r4, #5
 8103 00a6 B9E7     		b	.L581
 8104              	.LVL877:
 8105              	.L582:
3270:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8106              		.loc 1 3270 18 view .LVU2650
 8107 00a8 0924     		movs	r4, #9
 8108 00aa BBE7     		b	.L576
 8109              		.cfi_endproc
 8110              	.LFE113:
 8112              		.section	.text.f_closedir,"ax",%progbits
 8113              		.align	1
 8114              		.global	f_closedir
 8115              		.syntax unified
 8116              		.thumb
 8117              		.thumb_func
 8118              		.fpu softvfp
 8120              	f_closedir:
 8121              	.LVL878:
 8122              	.LFB114:
3319:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8123              		.loc 1 3319 1 is_stmt 1 view -0
 8124              		.cfi_startproc
 8125              		@ args = 0, pretend = 0, frame = 0
 8126              		@ frame_needed = 0, uses_anonymous_args = 0
3319:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8127              		.loc 1 3319 1 is_stmt 0 view .LVU2652
 8128 0000 10B5     		push	{r4, lr}
 8129              	.LCFI73:
 8130              		.cfi_def_cfa_offset 8
 8131              		.cfi_offset 4, -8
 8132              		.cfi_offset 14, -4
 8133 0002 0446     		mov	r4, r0
3320:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8134              		.loc 1 3320 2 is_stmt 1 view .LVU2653
3323:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8135              		.loc 1 3323 2 view .LVU2654
3323:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8136              		.loc 1 3323 8 is_stmt 0 view .LVU2655
 8137 0004 FFF7FEFF 		bl	validate
 8138              	.LVL879:
3324:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 8139              		.loc 1 3324 2 is_stmt 1 view .LVU2656
3324:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 8140              		.loc 1 3324 5 is_stmt 0 view .LVU2657
 8141 0008 40B9     		cbnz	r0, .L590
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->lockid);
 8142              		.loc 1 3329 3 is_stmt 1 view .LVU2658
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->lockid);
 8143              		.loc 1 3329 9 is_stmt 0 view .LVU2659
 8144 000a 04F58053 		add	r3, r4, #4096
 8145 000e DB69     		ldr	r3, [r3, #28]
3329:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dec_lock(dp->lockid);
 8146              		.loc 1 3329 6 view .LVU2660
 8147 0010 2BB9     		cbnz	r3, .L593
ARM GAS  /tmp/cc9KJrYz.s 			page 260


 8148              	.L591:
 8149              	.LVL880:
3331:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8150              		.loc 1 3331 3 is_stmt 1 view .LVU2661
3331:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 8151              		.loc 1 3331 6 is_stmt 0 view .LVU2662
 8152 0012 18B9     		cbnz	r0, .L590
3333:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 8153              		.loc 1 3333 4 is_stmt 1 view .LVU2663
3333:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 8154              		.loc 1 3333 11 is_stmt 0 view .LVU2664
 8155 0014 04F58054 		add	r4, r4, #4096
 8156              	.LVL881:
3333:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_REENTRANT
 8157              		.loc 1 3333 11 view .LVU2665
 8158 0018 0023     		movs	r3, #0
 8159 001a 2360     		str	r3, [r4]
 8160              	.LVL882:
 8161              	.L590:
3338:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8162              		.loc 1 3338 2 is_stmt 1 view .LVU2666
3339:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8163              		.loc 1 3339 1 is_stmt 0 view .LVU2667
 8164 001c 10BD     		pop	{r4, pc}
 8165              	.LVL883:
 8166              	.L593:
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
 8167              		.loc 1 3330 4 is_stmt 1 view .LVU2668
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
 8168              		.loc 1 3330 10 is_stmt 0 view .LVU2669
 8169 001e 1846     		mov	r0, r3
 8170 0020 FFF7FEFF 		bl	dec_lock
 8171              	.LVL884:
3330:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK)
 8172              		.loc 1 3330 10 view .LVU2670
 8173 0024 F5E7     		b	.L591
 8174              		.cfi_endproc
 8175              	.LFE114:
 8177              		.section	.text.f_readdir,"ax",%progbits
 8178              		.align	1
 8179              		.global	f_readdir
 8180              		.syntax unified
 8181              		.thumb
 8182              		.thumb_func
 8183              		.fpu softvfp
 8185              	f_readdir:
 8186              	.LVL885:
 8187              	.LFB115:
3352:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8188              		.loc 1 3352 1 is_stmt 1 view -0
 8189              		.cfi_startproc
 8190              		@ args = 0, pretend = 0, frame = 16
 8191              		@ frame_needed = 0, uses_anonymous_args = 0
3352:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8192              		.loc 1 3352 1 is_stmt 0 view .LVU2672
 8193 0000 70B5     		push	{r4, r5, r6, lr}
 8194              	.LCFI74:
ARM GAS  /tmp/cc9KJrYz.s 			page 261


 8195              		.cfi_def_cfa_offset 16
 8196              		.cfi_offset 4, -16
 8197              		.cfi_offset 5, -12
 8198              		.cfi_offset 6, -8
 8199              		.cfi_offset 14, -4
 8200 0002 84B0     		sub	sp, sp, #16
 8201              	.LCFI75:
 8202              		.cfi_def_cfa_offset 32
 8203 0004 0446     		mov	r4, r0
 8204 0006 0D46     		mov	r5, r1
3353:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 8205              		.loc 1 3353 2 is_stmt 1 view .LVU2673
3354:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8206              		.loc 1 3354 2 view .LVU2674
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8207              		.loc 1 3357 2 view .LVU2675
3357:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8208              		.loc 1 3357 8 is_stmt 0 view .LVU2676
 8209 0008 FFF7FEFF 		bl	validate
 8210              	.LVL886:
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
 8211              		.loc 1 3358 2 is_stmt 1 view .LVU2677
3358:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!fno) {
 8212              		.loc 1 3358 5 is_stmt 0 view .LVU2678
 8213 000c 0646     		mov	r6, r0
 8214 000e 10BB     		cbnz	r0, .L595
3359:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 8215              		.loc 1 3359 3 is_stmt 1 view .LVU2679
3359:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_sdi(dp, 0);			/* Rewind the directory object */
 8216              		.loc 1 3359 6 is_stmt 0 view .LVU2680
 8217 0010 65B1     		cbz	r5, .L602
3362:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = dir_read(dp, 0);			/* Read an item */
 8218              		.loc 1 3362 4 is_stmt 1 view .LVU2681
 8219 0012 04F58053 		add	r3, r4, #4096
 8220 0016 01AA     		add	r2, sp, #4
 8221 0018 9A61     		str	r2, [r3, #24]
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {		/* Reached end of directory */
 8222              		.loc 1 3363 4 view .LVU2682
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {		/* Reached end of directory */
 8223              		.loc 1 3363 10 is_stmt 0 view .LVU2683
 8224 001a 0021     		movs	r1, #0
 8225 001c 2046     		mov	r0, r4
 8226              	.LVL887:
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {		/* Reached end of directory */
 8227              		.loc 1 3363 10 view .LVU2684
 8228 001e FFF7FEFF 		bl	dir_read
 8229              	.LVL888:
3364:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0;
 8230              		.loc 1 3364 4 is_stmt 1 view .LVU2685
3364:Middlewares/Third_Party/FatFs/src/ff.c **** 				dp->sect = 0;
 8231              		.loc 1 3364 7 is_stmt 0 view .LVU2686
 8232 0022 0428     		cmp	r0, #4
 8233 0024 08D0     		beq	.L603
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 8234              		.loc 1 3368 4 is_stmt 1 view .LVU2687
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 8235              		.loc 1 3368 7 is_stmt 0 view .LVU2688
ARM GAS  /tmp/cc9KJrYz.s 			page 262


 8236 0026 58B1     		cbz	r0, .L598
3363:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_NO_FILE) {		/* Reached end of directory */
 8237              		.loc 1 3363 10 view .LVU2689
 8238 0028 0646     		mov	r6, r0
 8239 002a 14E0     		b	.L595
 8240              	.L602:
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 8241              		.loc 1 3360 4 is_stmt 1 view .LVU2690
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 8242              		.loc 1 3360 10 is_stmt 0 view .LVU2691
 8243 002c 0021     		movs	r1, #0
 8244 002e 2046     		mov	r0, r4
 8245              	.LVL889:
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 8246              		.loc 1 3360 10 view .LVU2692
 8247 0030 FFF7FEFF 		bl	dir_sdi
 8248              	.LVL890:
 8249 0034 0646     		mov	r6, r0
 8250              	.LVL891:
3360:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 8251              		.loc 1 3360 10 view .LVU2693
 8252 0036 0EE0     		b	.L595
 8253              	.LVL892:
 8254              	.L603:
3365:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
 8255              		.loc 1 3365 5 is_stmt 1 view .LVU2694
3365:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
 8256              		.loc 1 3365 14 is_stmt 0 view .LVU2695
 8257 0038 04F58053 		add	r3, r4, #4096
 8258 003c 0022     		movs	r2, #0
 8259 003e 1A61     		str	r2, [r3, #16]
3366:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8260              		.loc 1 3366 5 is_stmt 1 view .LVU2696
 8261              	.LVL893:
3368:Middlewares/Third_Party/FatFs/src/ff.c **** 				get_fileinfo(dp, fno);		/* Get the object information */
 8262              		.loc 1 3368 4 view .LVU2697
 8263              	.L598:
3369:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_next(dp, 0);		/* Increment index for next */
 8264              		.loc 1 3369 5 view .LVU2698
 8265 0040 2946     		mov	r1, r5
 8266 0042 2046     		mov	r0, r4
 8267 0044 FFF7FEFF 		bl	get_fileinfo
 8268              	.LVL894:
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {
 8269              		.loc 1 3370 5 view .LVU2699
3370:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {
 8270              		.loc 1 3370 11 is_stmt 0 view .LVU2700
 8271 0048 0021     		movs	r1, #0
 8272 004a 2046     		mov	r0, r4
 8273 004c FFF7FEFF 		bl	dir_next
 8274              	.LVL895:
3371:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sect = 0;
 8275              		.loc 1 3371 5 is_stmt 1 view .LVU2701
3371:Middlewares/Third_Party/FatFs/src/ff.c **** 					dp->sect = 0;
 8276              		.loc 1 3371 8 is_stmt 0 view .LVU2702
 8277 0050 0428     		cmp	r0, #4
 8278 0052 03D0     		beq	.L604
ARM GAS  /tmp/cc9KJrYz.s 			page 263


3370:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) {
 8279              		.loc 1 3370 11 view .LVU2703
 8280 0054 0646     		mov	r6, r0
 8281              	.LVL896:
 8282              	.L595:
3376:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8283              		.loc 1 3376 14 is_stmt 1 view .LVU2704
3380:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8284              		.loc 1 3380 2 view .LVU2705
3381:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8285              		.loc 1 3381 1 is_stmt 0 view .LVU2706
 8286 0056 3046     		mov	r0, r6
 8287 0058 04B0     		add	sp, sp, #16
 8288              	.LCFI76:
 8289              		.cfi_remember_state
 8290              		.cfi_def_cfa_offset 16
 8291              		@ sp needed
 8292 005a 70BD     		pop	{r4, r5, r6, pc}
 8293              	.LVL897:
 8294              	.L604:
 8295              	.LCFI77:
 8296              		.cfi_restore_state
3372:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_OK;
 8297              		.loc 1 3372 6 is_stmt 1 view .LVU2707
3372:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_OK;
 8298              		.loc 1 3372 15 is_stmt 0 view .LVU2708
 8299 005c 04F58054 		add	r4, r4, #4096
 8300              	.LVL898:
3372:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_OK;
 8301              		.loc 1 3372 15 view .LVU2709
 8302 0060 0023     		movs	r3, #0
 8303 0062 2361     		str	r3, [r4, #16]
3373:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8304              		.loc 1 3373 6 is_stmt 1 view .LVU2710
 8305              	.LVL899:
3373:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8306              		.loc 1 3373 6 is_stmt 0 view .LVU2711
 8307 0064 F7E7     		b	.L595
 8308              		.cfi_endproc
 8309              	.LFE115:
 8311              		.section	.text.f_stat,"ax",%progbits
 8312              		.align	1
 8313              		.global	f_stat
 8314              		.syntax unified
 8315              		.thumb
 8316              		.thumb_func
 8317              		.fpu softvfp
 8319              	f_stat:
 8320              	.LVL900:
 8321              	.LFB116:
3446:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8322              		.loc 1 3446 1 is_stmt 1 view -0
 8323              		.cfi_startproc
 8324              		@ args = 0, pretend = 0, frame = 4152
 8325              		@ frame_needed = 0, uses_anonymous_args = 0
3446:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8326              		.loc 1 3446 1 is_stmt 0 view .LVU2713
ARM GAS  /tmp/cc9KJrYz.s 			page 264


 8327 0000 30B5     		push	{r4, r5, lr}
 8328              	.LCFI78:
 8329              		.cfi_def_cfa_offset 12
 8330              		.cfi_offset 4, -12
 8331              		.cfi_offset 5, -8
 8332              		.cfi_offset 14, -4
 8333 0002 ADF5815D 		sub	sp, sp, #4128
 8334              	.LCFI79:
 8335              		.cfi_def_cfa_offset 4140
 8336 0006 87B0     		sub	sp, sp, #28
 8337              	.LCFI80:
 8338              		.cfi_def_cfa_offset 4168
 8339 0008 0190     		str	r0, [sp, #4]
 8340 000a 0C46     		mov	r4, r1
3447:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 8341              		.loc 1 3447 2 is_stmt 1 view .LVU2714
3448:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 8342              		.loc 1 3448 2 view .LVU2715
3449:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8343              		.loc 1 3449 2 view .LVU2716
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8344              		.loc 1 3453 2 view .LVU2717
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8345              		.loc 1 3453 8 is_stmt 0 view .LVU2718
 8346 000c 0022     		movs	r2, #0
 8347 000e 01A9     		add	r1, sp, #4
 8348              	.LVL901:
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8349              		.loc 1 3453 8 view .LVU2719
 8350 0010 0DF58050 		add	r0, sp, #4096
 8351              	.LVL902:
3453:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8352              		.loc 1 3453 8 view .LVU2720
 8353 0014 1830     		adds	r0, r0, #24
 8354 0016 FFF7FEFF 		bl	find_volume
 8355              	.LVL903:
3454:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 8356              		.loc 1 3454 2 is_stmt 1 view .LVU2721
3454:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 8357              		.loc 1 3454 5 is_stmt 0 view .LVU2722
 8358 001a 0546     		mov	r5, r0
 8359 001c 20B1     		cbz	r0, .L609
 8360              	.LVL904:
 8361              	.L606:
3464:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8362              		.loc 1 3464 13 is_stmt 1 view .LVU2723
3467:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8363              		.loc 1 3467 2 view .LVU2724
3468:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8364              		.loc 1 3468 1 is_stmt 0 view .LVU2725
 8365 001e 2846     		mov	r0, r5
 8366 0020 0DF5815D 		add	sp, sp, #4128
 8367 0024 07B0     		add	sp, sp, #28
 8368              	.LCFI81:
 8369              		.cfi_remember_state
 8370              		.cfi_def_cfa_offset 12
 8371              		@ sp needed
ARM GAS  /tmp/cc9KJrYz.s 			page 265


 8372 0026 30BD     		pop	{r4, r5, pc}
 8373              	.LVL905:
 8374              	.L609:
 8375              	.LCFI82:
 8376              		.cfi_restore_state
3455:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 8377              		.loc 1 3455 3 is_stmt 1 view .LVU2726
 8378 0028 0EAB     		add	r3, sp, #56
 8379 002a 03AA     		add	r2, sp, #12
 8380 002c C3F8F82F 		str	r2, [r3, #4088]
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 8381              		.loc 1 3456 3 view .LVU2727
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 8382              		.loc 1 3456 9 is_stmt 0 view .LVU2728
 8383 0030 0199     		ldr	r1, [sp, #4]
 8384 0032 06A8     		add	r0, sp, #24
 8385              	.LVL906:
3456:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) {				/* Follow completed */
 8386              		.loc 1 3456 9 view .LVU2729
 8387 0034 FFF7FEFF 		bl	follow_path
 8388              	.LVL907:
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.dir) {		/* Found an object */
 8389              		.loc 1 3457 3 is_stmt 1 view .LVU2730
3457:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dj.dir) {		/* Found an object */
 8390              		.loc 1 3457 6 is_stmt 0 view .LVU2731
 8391 0038 0546     		mov	r5, r0
 8392 003a 0028     		cmp	r0, #0
 8393 003c EFD1     		bne	.L606
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
 8394              		.loc 1 3458 4 is_stmt 1 view .LVU2732
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
 8395              		.loc 1 3458 10 is_stmt 0 view .LVU2733
 8396 003e 0DF58153 		add	r3, sp, #4128
 8397 0042 0C33     		adds	r3, r3, #12
 8398 0044 1B68     		ldr	r3, [r3]
3458:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (fno) get_fileinfo(&dj, fno);
 8399              		.loc 1 3458 7 view .LVU2734
 8400 0046 33B1     		cbz	r3, .L607
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {			/* It is root directory */
 8401              		.loc 1 3459 5 is_stmt 1 view .LVU2735
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {			/* It is root directory */
 8402              		.loc 1 3459 8 is_stmt 0 view .LVU2736
 8403 0048 002C     		cmp	r4, #0
 8404 004a E8D0     		beq	.L606
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {			/* It is root directory */
 8405              		.loc 1 3459 14 is_stmt 1 discriminator 1 view .LVU2737
 8406 004c 2146     		mov	r1, r4
 8407 004e 06A8     		add	r0, sp, #24
 8408              	.LVL908:
3459:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {			/* It is root directory */
 8409              		.loc 1 3459 14 is_stmt 0 discriminator 1 view .LVU2738
 8410 0050 FFF7FEFF 		bl	get_fileinfo
 8411              	.LVL909:
 8412 0054 E3E7     		b	.L606
 8413              	.LVL910:
 8414              	.L607:
3461:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
ARM GAS  /tmp/cc9KJrYz.s 			page 266


 8415              		.loc 1 3461 9 view .LVU2739
 8416 0056 0625     		movs	r5, #6
 8417 0058 E1E7     		b	.L606
 8418              		.cfi_endproc
 8419              	.LFE116:
 8421              		.section	.text.f_getfree,"ax",%progbits
 8422              		.align	1
 8423              		.global	f_getfree
 8424              		.syntax unified
 8425              		.thumb
 8426              		.thumb_func
 8427              		.fpu softvfp
 8429              	f_getfree:
 8430              	.LVL911:
 8431              	.LFB117:
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8432              		.loc 1 3482 1 is_stmt 1 view -0
 8433              		.cfi_startproc
 8434              		@ args = 0, pretend = 0, frame = 8
 8435              		@ frame_needed = 0, uses_anonymous_args = 0
3482:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8436              		.loc 1 3482 1 is_stmt 0 view .LVU2741
 8437 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 8438              	.LCFI83:
 8439              		.cfi_def_cfa_offset 32
 8440              		.cfi_offset 4, -32
 8441              		.cfi_offset 5, -28
 8442              		.cfi_offset 6, -24
 8443              		.cfi_offset 7, -20
 8444              		.cfi_offset 8, -16
 8445              		.cfi_offset 9, -12
 8446              		.cfi_offset 10, -8
 8447              		.cfi_offset 14, -4
 8448 0004 82B0     		sub	sp, sp, #8
 8449              	.LCFI84:
 8450              		.cfi_def_cfa_offset 40
 8451 0006 0190     		str	r0, [sp, #4]
 8452 0008 0F46     		mov	r7, r1
 8453 000a 1446     		mov	r4, r2
3483:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 8454              		.loc 1 3483 2 is_stmt 1 view .LVU2742
3484:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n, clst, sect, stat;
 8455              		.loc 1 3484 2 view .LVU2743
3485:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 8456              		.loc 1 3485 2 view .LVU2744
3486:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fat, *p;
 8457              		.loc 1 3486 2 view .LVU2745
3487:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8458              		.loc 1 3487 2 view .LVU2746
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
 8459              		.loc 1 3491 2 view .LVU2747
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
 8460              		.loc 1 3491 8 is_stmt 0 view .LVU2748
 8461 000c 0022     		movs	r2, #0
 8462              	.LVL912:
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
 8463              		.loc 1 3491 8 view .LVU2749
ARM GAS  /tmp/cc9KJrYz.s 			page 267


 8464 000e 01A9     		add	r1, sp, #4
 8465              	.LVL913:
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
 8466              		.loc 1 3491 8 view .LVU2750
 8467 0010 2046     		mov	r0, r4
 8468              	.LVL914:
3491:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = *fatfs;
 8469              		.loc 1 3491 8 view .LVU2751
 8470 0012 FFF7FEFF 		bl	find_volume
 8471              	.LVL915:
3492:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8472              		.loc 1 3492 2 is_stmt 1 view .LVU2752
3492:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8473              		.loc 1 3492 5 is_stmt 0 view .LVU2753
 8474 0016 2568     		ldr	r5, [r4]
 8475              	.LVL916:
3493:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clust is valid, return it without full cluster scan */
 8476              		.loc 1 3493 2 is_stmt 1 view .LVU2754
3493:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* If free_clust is valid, return it without full cluster scan */
 8477              		.loc 1 3493 5 is_stmt 0 view .LVU2755
 8478 0018 8046     		mov	r8, r0
 8479 001a 0028     		cmp	r0, #0
 8480 001c 69D1     		bne	.L611
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
 8481              		.loc 1 3495 3 is_stmt 1 view .LVU2756
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
 8482              		.loc 1 3495 9 is_stmt 0 view .LVU2757
 8483 001e 05F58053 		add	r3, r5, #4096
 8484 0022 1A69     		ldr	r2, [r3, #16]
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
 8485              		.loc 1 3495 27 view .LVU2758
 8486 0024 5C69     		ldr	r4, [r3, #20]
 8487              	.LVL917:
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
 8488              		.loc 1 3495 38 view .LVU2759
 8489 0026 A31E     		subs	r3, r4, #2
3495:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = fs->free_clust;
 8490              		.loc 1 3495 6 view .LVU2760
 8491 0028 9A42     		cmp	r2, r3
 8492 002a 01D8     		bhi	.L612
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 8493              		.loc 1 3496 4 is_stmt 1 view .LVU2761
3496:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 8494              		.loc 1 3496 11 is_stmt 0 view .LVU2762
 8495 002c 3A60     		str	r2, [r7]
 8496 002e 60E0     		b	.L611
 8497              	.L612:
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = 0;
 8498              		.loc 1 3499 4 is_stmt 1 view .LVU2763
3499:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = 0;
 8499              		.loc 1 3499 8 is_stmt 0 view .LVU2764
 8500 0030 05F58053 		add	r3, r5, #4096
 8501 0034 93F80090 		ldrb	r9, [r3]	@ zero_extendqisi2
 8502              	.LVL918:
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fat == FS_FAT12) {
 8503              		.loc 1 3500 4 is_stmt 1 view .LVU2765
3501:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2;
ARM GAS  /tmp/cc9KJrYz.s 			page 268


 8504              		.loc 1 3501 4 view .LVU2766
3501:Middlewares/Third_Party/FatFs/src/ff.c **** 				clst = 2;
 8505              		.loc 1 3501 7 is_stmt 0 view .LVU2767
 8506 0038 B9F1010F 		cmp	r9, #1
 8507 003c 06D0     		beq	.L626
3510:Middlewares/Third_Party/FatFs/src/ff.c **** 				sect = fs->fatbase;
 8508              		.loc 1 3510 5 is_stmt 1 view .LVU2768
 8509              	.LVL919:
3511:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; p = 0;
 8510              		.loc 1 3511 5 view .LVU2769
3511:Middlewares/Third_Party/FatFs/src/ff.c **** 				i = 0; p = 0;
 8511              		.loc 1 3511 10 is_stmt 0 view .LVU2770
 8512 003e 05F58053 		add	r3, r5, #4096
 8513 0042 196A     		ldr	r1, [r3, #32]
 8514              	.LVL920:
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 8515              		.loc 1 3512 5 is_stmt 1 view .LVU2771
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 8516              		.loc 1 3512 12 view .LVU2772
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 8517              		.loc 1 3512 14 is_stmt 0 view .LVU2773
 8518 0044 0022     		movs	r2, #0
3512:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 8519              		.loc 1 3512 7 view .LVU2774
 8520 0046 1046     		mov	r0, r2
 8521              	.LVL921:
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fat == FS_FAT12) {
 8522              		.loc 1 3500 6 view .LVU2775
 8523 0048 1646     		mov	r6, r2
 8524 004a 31E0     		b	.L622
 8525              	.LVL922:
 8526              	.L626:
3502:Middlewares/Third_Party/FatFs/src/ff.c **** 				do {
 8527              		.loc 1 3502 10 view .LVU2776
 8528 004c 0224     		movs	r4, #2
3500:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fat == FS_FAT12) {
 8529              		.loc 1 3500 6 view .LVU2777
 8530 004e 0026     		movs	r6, #0
 8531 0050 05E0     		b	.L616
 8532              	.LVL923:
 8533              	.L615:
3508:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8534              		.loc 1 3508 13 is_stmt 1 view .LVU2778
3508:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8535              		.loc 1 3508 5 is_stmt 0 view .LVU2779
 8536 0052 0134     		adds	r4, r4, #1
 8537              	.LVL924:
3508:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8538              		.loc 1 3508 25 view .LVU2780
 8539 0054 05F58053 		add	r3, r5, #4096
 8540 0058 5B69     		ldr	r3, [r3, #20]
3508:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 8541              		.loc 1 3508 5 view .LVU2781
 8542 005a A342     		cmp	r3, r4
 8543 005c 41D9     		bls	.L614
 8544              	.LVL925:
 8545              	.L616:
ARM GAS  /tmp/cc9KJrYz.s 			page 269


3503:Middlewares/Third_Party/FatFs/src/ff.c **** 					stat = get_fat(fs, clst);
 8546              		.loc 1 3503 5 is_stmt 1 view .LVU2782
3504:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 8547              		.loc 1 3504 6 view .LVU2783
3504:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0xFFFFFFFF) { res = FR_DISK_ERR; break; }
 8548              		.loc 1 3504 13 is_stmt 0 view .LVU2784
 8549 005e 2146     		mov	r1, r4
 8550 0060 2846     		mov	r0, r5
 8551 0062 FFF7FEFF 		bl	get_fat
 8552              	.LVL926:
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 8553              		.loc 1 3505 6 is_stmt 1 view .LVU2785
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 8554              		.loc 1 3505 9 is_stmt 0 view .LVU2786
 8555 0066 B0F1FF3F 		cmp	r0, #-1
 8556 006a 39D0     		beq	.L623
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) n++;
 8557              		.loc 1 3506 6 is_stmt 1 view .LVU2787
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) n++;
 8558              		.loc 1 3506 9 is_stmt 0 view .LVU2788
 8559 006c 0128     		cmp	r0, #1
 8560 006e 44D0     		beq	.L624
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 8561              		.loc 1 3507 6 is_stmt 1 view .LVU2789
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 8562              		.loc 1 3507 9 is_stmt 0 view .LVU2790
 8563 0070 0028     		cmp	r0, #0
 8564 0072 EED1     		bne	.L615
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 8565              		.loc 1 3507 21 is_stmt 1 discriminator 1 view .LVU2791
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 8566              		.loc 1 3507 22 is_stmt 0 discriminator 1 view .LVU2792
 8567 0074 0136     		adds	r6, r6, #1
 8568              	.LVL927:
3507:Middlewares/Third_Party/FatFs/src/ff.c **** 				} while (++clst < fs->n_fatent);
 8569              		.loc 1 3507 22 discriminator 1 view .LVU2793
 8570 0076 ECE7     		b	.L615
 8571              	.LVL928:
 8572              	.L627:
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
 8573              		.loc 1 3515 7 is_stmt 1 view .LVU2794
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
 8574              		.loc 1 3515 13 is_stmt 0 view .LVU2795
 8575 0078 01F1010A 		add	r10, r1, #1
 8576              	.LVL929:
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
 8577              		.loc 1 3515 13 view .LVU2796
 8578 007c 2846     		mov	r0, r5
 8579              	.LVL930:
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
 8580              		.loc 1 3515 13 view .LVU2797
 8581 007e FFF7FEFF 		bl	move_window
 8582              	.LVL931:
3516:Middlewares/Third_Party/FatFs/src/ff.c **** 						p = fs->win.d8;
 8583              		.loc 1 3516 7 is_stmt 1 view .LVU2798
3516:Middlewares/Third_Party/FatFs/src/ff.c **** 						p = fs->win.d8;
 8584              		.loc 1 3516 10 is_stmt 0 view .LVU2799
ARM GAS  /tmp/cc9KJrYz.s 			page 270


 8585 0082 8046     		mov	r8, r0
 8586 0084 68BB     		cbnz	r0, .L614
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 						i = SS(fs);
 8587              		.loc 1 3517 7 is_stmt 1 view .LVU2800
3517:Middlewares/Third_Party/FatFs/src/ff.c **** 						i = SS(fs);
 8588              		.loc 1 3517 9 is_stmt 0 view .LVU2801
 8589 0086 2A46     		mov	r2, r5
 8590              	.LVL932:
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8591              		.loc 1 3518 7 is_stmt 1 view .LVU2802
3518:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8592              		.loc 1 3518 11 is_stmt 0 view .LVU2803
 8593 0088 05F58053 		add	r3, r5, #4096
 8594 008c 5889     		ldrh	r0, [r3, #10]
 8595              	.LVL933:
3515:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res != FR_OK) break;
 8596              		.loc 1 3515 13 view .LVU2804
 8597 008e 5146     		mov	r1, r10
 8598 0090 10E0     		b	.L617
 8599              	.LVL934:
 8600              	.L628:
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
 8601              		.loc 1 3521 7 is_stmt 1 view .LVU2805
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
 8602              		.loc 1 3521 11 is_stmt 0 view .LVU2806
 8603 0092 92F801C0 		ldrb	ip, [r2, #1]	@ zero_extendqisi2
 8604 0096 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 8605 0098 43EA0C23 		orr	r3, r3, ip, lsl #8
 8606 009c 1BB2     		sxth	r3, r3
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
 8607              		.loc 1 3521 10 view .LVU2807
 8608 009e 03B9     		cbnz	r3, .L619
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
 8609              		.loc 1 3521 28 is_stmt 1 discriminator 1 view .LVU2808
3521:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 2; i -= 2;
 8610              		.loc 1 3521 29 is_stmt 0 discriminator 1 view .LVU2809
 8611 00a0 0136     		adds	r6, r6, #1
 8612              	.LVL935:
 8613              	.L619:
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 8614              		.loc 1 3522 7 is_stmt 1 view .LVU2810
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 8615              		.loc 1 3522 9 is_stmt 0 view .LVU2811
 8616 00a2 0232     		adds	r2, r2, #2
 8617              	.LVL936:
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 8618              		.loc 1 3522 15 is_stmt 1 view .LVU2812
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 8619              		.loc 1 3522 17 is_stmt 0 view .LVU2813
 8620 00a4 0238     		subs	r0, r0, #2
 8621              	.LVL937:
3522:Middlewares/Third_Party/FatFs/src/ff.c **** 					} else {
 8622              		.loc 1 3522 17 view .LVU2814
 8623 00a6 01E0     		b	.L620
 8624              	.L621:
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8625              		.loc 1 3525 7 is_stmt 1 view .LVU2815
ARM GAS  /tmp/cc9KJrYz.s 			page 271


3525:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8626              		.loc 1 3525 9 is_stmt 0 view .LVU2816
 8627 00a8 0432     		adds	r2, r2, #4
 8628              	.LVL938:
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8629              		.loc 1 3525 15 is_stmt 1 view .LVU2817
3525:Middlewares/Third_Party/FatFs/src/ff.c **** 					}
 8630              		.loc 1 3525 17 is_stmt 0 view .LVU2818
 8631 00aa 0438     		subs	r0, r0, #4
 8632              	.LVL939:
 8633              	.L620:
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8634              		.loc 1 3527 13 is_stmt 1 view .LVU2819
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8635              		.loc 1 3527 5 is_stmt 0 view .LVU2820
 8636 00ac 013C     		subs	r4, r4, #1
 8637              	.LVL940:
3527:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8638              		.loc 1 3527 5 view .LVU2821
 8639 00ae 18D0     		beq	.L614
 8640              	.LVL941:
 8641              	.L622:
3513:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (!i) {
 8642              		.loc 1 3513 5 is_stmt 1 view .LVU2822
3514:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(fs, sect++);
 8643              		.loc 1 3514 6 view .LVU2823
3514:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = move_window(fs, sect++);
 8644              		.loc 1 3514 9 is_stmt 0 view .LVU2824
 8645 00b0 0028     		cmp	r0, #0
 8646 00b2 E1D0     		beq	.L627
 8647              	.LVL942:
 8648              	.L617:
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (LD_WORD(p) == 0) n++;
 8649              		.loc 1 3520 6 is_stmt 1 view .LVU2825
3520:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (LD_WORD(p) == 0) n++;
 8650              		.loc 1 3520 9 is_stmt 0 view .LVU2826
 8651 00b4 B9F1020F 		cmp	r9, #2
 8652 00b8 EBD0     		beq	.L628
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 8653              		.loc 1 3524 7 is_stmt 1 view .LVU2827
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 8654              		.loc 1 3524 12 is_stmt 0 view .LVU2828
 8655 00ba 92F803C0 		ldrb	ip, [r2, #3]	@ zero_extendqisi2
 8656 00be 9378     		ldrb	r3, [r2, #2]	@ zero_extendqisi2
 8657 00c0 1B04     		lsls	r3, r3, #16
 8658 00c2 43EA0C63 		orr	r3, r3, ip, lsl #24
 8659 00c6 92F801C0 		ldrb	ip, [r2, #1]	@ zero_extendqisi2
 8660 00ca 43EA0C23 		orr	r3, r3, ip, lsl #8
 8661 00ce 92F800C0 		ldrb	ip, [r2]	@ zero_extendqisi2
 8662 00d2 43EA0C03 		orr	r3, r3, ip
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 8663              		.loc 1 3524 10 view .LVU2829
 8664 00d6 33F07043 		bics	r3, r3, #-268435456
 8665 00da E5D1     		bne	.L621
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 8666              		.loc 1 3524 44 is_stmt 1 discriminator 1 view .LVU2830
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
ARM GAS  /tmp/cc9KJrYz.s 			page 272


 8667              		.loc 1 3524 45 is_stmt 0 discriminator 1 view .LVU2831
 8668 00dc 0136     		adds	r6, r6, #1
 8669              	.LVL943:
3524:Middlewares/Third_Party/FatFs/src/ff.c **** 						p += 4; i -= 4;
 8670              		.loc 1 3524 45 discriminator 1 view .LVU2832
 8671 00de E3E7     		b	.L621
 8672              	.LVL944:
 8673              	.L623:
3505:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 1) { res = FR_INT_ERR; break; }
 8674              		.loc 1 3505 36 view .LVU2833
 8675 00e0 C846     		mov	r8, r9
 8676              	.LVL945:
 8677              	.L614:
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 8678              		.loc 1 3529 4 is_stmt 1 view .LVU2834
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 8679              		.loc 1 3529 19 is_stmt 0 view .LVU2835
 8680 00e2 05F58055 		add	r5, r5, #4096
 8681              	.LVL946:
3529:Middlewares/Third_Party/FatFs/src/ff.c **** 			fs->fsi_flag |= 1;
 8682              		.loc 1 3529 19 view .LVU2836
 8683 00e6 2E61     		str	r6, [r5, #16]
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = n;
 8684              		.loc 1 3530 4 is_stmt 1 view .LVU2837
3530:Middlewares/Third_Party/FatFs/src/ff.c **** 			*nclst = n;
 8685              		.loc 1 3530 17 is_stmt 0 view .LVU2838
 8686 00e8 6B79     		ldrb	r3, [r5, #5]	@ zero_extendqisi2
 8687 00ea 43F00103 		orr	r3, r3, #1
 8688 00ee 6B71     		strb	r3, [r5, #5]
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8689              		.loc 1 3531 4 is_stmt 1 view .LVU2839
3531:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8690              		.loc 1 3531 11 is_stmt 0 view .LVU2840
 8691 00f0 3E60     		str	r6, [r7]
 8692              	.LVL947:
 8693              	.L611:
3534:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8694              		.loc 1 3534 2 is_stmt 1 view .LVU2841
3535:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8695              		.loc 1 3535 1 is_stmt 0 view .LVU2842
 8696 00f2 4046     		mov	r0, r8
 8697 00f4 02B0     		add	sp, sp, #8
 8698              	.LCFI85:
 8699              		.cfi_remember_state
 8700              		.cfi_def_cfa_offset 32
 8701              		@ sp needed
 8702 00f6 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 8703              	.LVL948:
 8704              	.L624:
 8705              	.LCFI86:
 8706              		.cfi_restore_state
3506:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (stat == 0) n++;
 8707              		.loc 1 3506 27 view .LVU2843
 8708 00fa 4FF00208 		mov	r8, #2
 8709 00fe F0E7     		b	.L614
 8710              		.cfi_endproc
 8711              	.LFE117:
ARM GAS  /tmp/cc9KJrYz.s 			page 273


 8713              		.section	.text.f_truncate,"ax",%progbits
 8714              		.align	1
 8715              		.global	f_truncate
 8716              		.syntax unified
 8717              		.thumb
 8718              		.thumb_func
 8719              		.fpu softvfp
 8721              	f_truncate:
 8722              	.LVL949:
 8723              	.LFB118:
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8724              		.loc 1 3547 1 is_stmt 1 view -0
 8725              		.cfi_startproc
 8726              		@ args = 0, pretend = 0, frame = 0
 8727              		@ frame_needed = 0, uses_anonymous_args = 0
3547:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8728              		.loc 1 3547 1 is_stmt 0 view .LVU2845
 8729 0000 70B5     		push	{r4, r5, r6, lr}
 8730              	.LCFI87:
 8731              		.cfi_def_cfa_offset 16
 8732              		.cfi_offset 4, -16
 8733              		.cfi_offset 5, -12
 8734              		.cfi_offset 6, -8
 8735              		.cfi_offset 14, -4
 8736 0002 0446     		mov	r4, r0
3548:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD ncl;
 8737              		.loc 1 3548 2 is_stmt 1 view .LVU2846
3549:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8738              		.loc 1 3549 2 view .LVU2847
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8739              		.loc 1 3552 2 view .LVU2848
3552:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8740              		.loc 1 3552 8 is_stmt 0 view .LVU2849
 8741 0004 FFF7FEFF 		bl	validate
 8742              	.LVL950:
3553:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->err) {						/* Check error */
 8743              		.loc 1 3553 2 is_stmt 1 view .LVU2850
3553:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->err) {						/* Check error */
 8744              		.loc 1 3553 5 is_stmt 0 view .LVU2851
 8745 0008 0546     		mov	r5, r0
 8746 000a 60B9     		cbnz	r0, .L630
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = (FRESULT)fp->err;
 8747              		.loc 1 3554 3 is_stmt 1 view .LVU2852
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = (FRESULT)fp->err;
 8748              		.loc 1 3554 9 is_stmt 0 view .LVU2853
 8749 000c 04F58053 		add	r3, r4, #4096
 8750 0010 DB79     		ldrb	r3, [r3, #7]	@ zero_extendqisi2
3554:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = (FRESULT)fp->err;
 8751              		.loc 1 3554 6 view .LVU2854
 8752 0012 3BB9     		cbnz	r3, .L637
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DENIED;
 8753              		.loc 1 3557 4 is_stmt 1 view .LVU2855
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DENIED;
 8754              		.loc 1 3557 12 is_stmt 0 view .LVU2856
 8755 0014 04F58053 		add	r3, r4, #4096
 8756 0018 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
3557:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_DENIED;
ARM GAS  /tmp/cc9KJrYz.s 			page 274


 8757              		.loc 1 3557 7 view .LVU2857
 8758 001a 13F0020F 		tst	r3, #2
 8759 001e 02D1     		bne	.L630
3558:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 8760              		.loc 1 3558 9 view .LVU2858
 8761 0020 0725     		movs	r5, #7
 8762 0022 22E0     		b	.L631
 8763              	.L637:
3555:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 8764              		.loc 1 3555 8 view .LVU2859
 8765 0024 1D46     		mov	r5, r3
 8766              	.L630:
 8767              	.LVL951:
3561:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fsize > fp->fptr) {
 8768              		.loc 1 3561 2 is_stmt 1 view .LVU2860
3561:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fp->fsize > fp->fptr) {
 8769              		.loc 1 3561 5 is_stmt 0 view .LVU2861
 8770 0026 05BB     		cbnz	r5, .L631
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;	/* Set file size to current R/W point */
 8771              		.loc 1 3562 3 is_stmt 1 view .LVU2862
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;	/* Set file size to current R/W point */
 8772              		.loc 1 3562 9 is_stmt 0 view .LVU2863
 8773 0028 04F58053 		add	r3, r4, #4096
 8774 002c DA68     		ldr	r2, [r3, #12]
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;	/* Set file size to current R/W point */
 8775              		.loc 1 3562 21 view .LVU2864
 8776 002e 9B68     		ldr	r3, [r3, #8]
3562:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->fsize = fp->fptr;	/* Set file size to current R/W point */
 8777              		.loc 1 3562 6 view .LVU2865
 8778 0030 9A42     		cmp	r2, r3
 8779 0032 16D9     		bls	.L632
3563:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
 8780              		.loc 1 3563 4 is_stmt 1 view .LVU2866
3563:Middlewares/Third_Party/FatFs/src/ff.c **** 			fp->flag |= FA__WRITTEN;
 8781              		.loc 1 3563 14 is_stmt 0 view .LVU2867
 8782 0034 04F58052 		add	r2, r4, #4096
 8783 0038 D360     		str	r3, [r2, #12]
3564:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 8784              		.loc 1 3564 4 is_stmt 1 view .LVU2868
3564:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (fp->fptr == 0) {	/* When set file size to zero, remove entire cluster chain */
 8785              		.loc 1 3564 13 is_stmt 0 view .LVU2869
 8786 003a 9179     		ldrb	r1, [r2, #6]	@ zero_extendqisi2
 8787 003c 41F02001 		orr	r1, r1, #32
 8788 0040 9171     		strb	r1, [r2, #6]
3565:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(fp->fs, fp->sclust);
 8789              		.loc 1 3565 4 is_stmt 1 view .LVU2870
3565:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = remove_chain(fp->fs, fp->sclust);
 8790              		.loc 1 3565 7 is_stmt 0 view .LVU2871
 8791 0042 A3B9     		cbnz	r3, .L633
3566:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->sclust = 0;
 8792              		.loc 1 3566 5 is_stmt 1 view .LVU2872
3566:Middlewares/Third_Party/FatFs/src/ff.c **** 				fp->sclust = 0;
 8793              		.loc 1 3566 11 is_stmt 0 view .LVU2873
 8794 0044 1646     		mov	r6, r2
 8795 0046 1169     		ldr	r1, [r2, #16]
 8796 0048 1068     		ldr	r0, [r2]
 8797 004a FFF7FEFF 		bl	remove_chain
ARM GAS  /tmp/cc9KJrYz.s 			page 275


 8798              	.LVL952:
 8799 004e 0546     		mov	r5, r0
 8800              	.LVL953:
3567:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* When truncate a part of the file, remove remaining clusters */
 8801              		.loc 1 3567 5 is_stmt 1 view .LVU2874
3567:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {				/* When truncate a part of the file, remove remaining clusters */
 8802              		.loc 1 3567 16 is_stmt 0 view .LVU2875
 8803 0050 0023     		movs	r3, #0
 8804 0052 3361     		str	r3, [r6, #16]
 8805              	.LVL954:
 8806              	.L634:
3579:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 8807              		.loc 1 3579 4 is_stmt 1 view .LVU2876
3579:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 8808              		.loc 1 3579 7 is_stmt 0 view .LVU2877
 8809 0054 2DB9     		cbnz	r5, .L632
3579:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 8810              		.loc 1 3579 27 discriminator 1 view .LVU2878
 8811 0056 04F58053 		add	r3, r4, #4096
 8812 005a 9B79     		ldrb	r3, [r3, #6]	@ zero_extendqisi2
3579:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (disk_write(fp->fs->drv, fp->buf.d8, fp->dsect, 1) != RES_OK)
 8813              		.loc 1 3579 21 discriminator 1 view .LVU2879
 8814 005c 13F0400F 		tst	r3, #64
 8815 0060 31D1     		bne	.L643
 8816              	.L632:
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8817              		.loc 1 3587 3 is_stmt 1 view .LVU2880
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8818              		.loc 1 3587 6 is_stmt 0 view .LVU2881
 8819 0062 15B1     		cbz	r5, .L631
 8820              	.LVL955:
 8821              	.L636:
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8822              		.loc 1 3587 21 is_stmt 1 discriminator 1 view .LVU2882
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8823              		.loc 1 3587 29 is_stmt 0 discriminator 1 view .LVU2883
 8824 0064 04F58054 		add	r4, r4, #4096
 8825              	.LVL956:
3587:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8826              		.loc 1 3587 29 discriminator 1 view .LVU2884
 8827 0068 E571     		strb	r5, [r4, #7]
 8828              	.LVL957:
 8829              	.L631:
3590:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8830              		.loc 1 3590 2 is_stmt 1 view .LVU2885
3591:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8831              		.loc 1 3591 1 is_stmt 0 view .LVU2886
 8832 006a 2846     		mov	r0, r5
 8833 006c 70BD     		pop	{r4, r5, r6, pc}
 8834              	.LVL958:
 8835              	.L633:
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
 8836              		.loc 1 3569 5 is_stmt 1 view .LVU2887
3569:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_OK;
 8837              		.loc 1 3569 11 is_stmt 0 view .LVU2888
 8838 006e 04F58053 		add	r3, r4, #4096
 8839 0072 5969     		ldr	r1, [r3, #20]
ARM GAS  /tmp/cc9KJrYz.s 			page 276


 8840 0074 1868     		ldr	r0, [r3]
 8841 0076 FFF7FEFF 		bl	get_fat
 8842              	.LVL959:
 8843 007a 0646     		mov	r6, r0
 8844              	.LVL960:
3570:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 0xFFFFFFFF) res = FR_DISK_ERR;
 8845              		.loc 1 3570 5 is_stmt 1 view .LVU2889
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 1) res = FR_INT_ERR;
 8846              		.loc 1 3571 5 view .LVU2890
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 1) res = FR_INT_ERR;
 8847              		.loc 1 3571 8 is_stmt 0 view .LVU2891
 8848 007c B0F1FF3F 		cmp	r0, #-1
 8849 0080 1DD0     		beq	.L644
 8850              	.L635:
 8851              	.LVL961:
3572:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ncl < fp->fs->n_fatent) {
 8852              		.loc 1 3572 5 is_stmt 1 view .LVU2892
3572:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ncl < fp->fs->n_fatent) {
 8853              		.loc 1 3572 8 is_stmt 0 view .LVU2893
 8854 0082 012E     		cmp	r6, #1
 8855 0084 1DD0     		beq	.L640
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
 8856              		.loc 1 3573 5 is_stmt 1 view .LVU2894
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
 8857              		.loc 1 3573 8 is_stmt 0 view .LVU2895
 8858 0086 002D     		cmp	r5, #0
 8859 0088 E4D1     		bne	.L634
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
 8860              		.loc 1 3573 33 discriminator 1 view .LVU2896
 8861 008a 04F58053 		add	r3, r4, #4096
 8862 008e 1868     		ldr	r0, [r3]
 8863              	.LVL962:
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
 8864              		.loc 1 3573 37 discriminator 1 view .LVU2897
 8865 0090 00F58053 		add	r3, r0, #4096
 8866 0094 5B69     		ldr	r3, [r3, #20]
3573:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = put_fat(fp->fs, fp->clust, 0x0FFFFFFF);
 8867              		.loc 1 3573 22 discriminator 1 view .LVU2898
 8868 0096 B342     		cmp	r3, r6
 8869 0098 DCD9     		bls	.L634
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) res = remove_chain(fp->fs, ncl);
 8870              		.loc 1 3574 6 is_stmt 1 view .LVU2899
3574:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) res = remove_chain(fp->fs, ncl);
 8871              		.loc 1 3574 12 is_stmt 0 view .LVU2900
 8872 009a 04F58053 		add	r3, r4, #4096
 8873 009e 6FF07042 		mvn	r2, #-268435456
 8874 00a2 5969     		ldr	r1, [r3, #20]
 8875 00a4 FFF7FEFF 		bl	put_fat
 8876              	.LVL963:
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8877              		.loc 1 3575 6 is_stmt 1 view .LVU2901
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8878              		.loc 1 3575 9 is_stmt 0 view .LVU2902
 8879 00a8 0546     		mov	r5, r0
 8880 00aa 0028     		cmp	r0, #0
 8881 00ac D2D1     		bne	.L634
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
ARM GAS  /tmp/cc9KJrYz.s 			page 277


 8882              		.loc 1 3575 24 is_stmt 1 discriminator 1 view .LVU2903
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8883              		.loc 1 3575 30 is_stmt 0 discriminator 1 view .LVU2904
 8884 00ae 04F58053 		add	r3, r4, #4096
 8885 00b2 3146     		mov	r1, r6
 8886 00b4 1868     		ldr	r0, [r3]
 8887              	.LVL964:
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8888              		.loc 1 3575 30 discriminator 1 view .LVU2905
 8889 00b6 FFF7FEFF 		bl	remove_chain
 8890              	.LVL965:
 8891 00ba 0546     		mov	r5, r0
 8892              	.LVL966:
3575:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 8893              		.loc 1 3575 30 discriminator 1 view .LVU2906
 8894 00bc CAE7     		b	.L634
 8895              	.LVL967:
 8896              	.L644:
3571:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (ncl == 1) res = FR_INT_ERR;
 8897              		.loc 1 3571 32 view .LVU2907
 8898 00be 0125     		movs	r5, #1
 8899 00c0 DFE7     		b	.L635
 8900              	.LVL968:
 8901              	.L640:
3572:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ncl < fp->fs->n_fatent) {
 8902              		.loc 1 3572 23 view .LVU2908
 8903 00c2 0225     		movs	r5, #2
 8904              	.LVL969:
3572:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && ncl < fp->fs->n_fatent) {
 8905              		.loc 1 3572 23 view .LVU2909
 8906 00c4 C6E7     		b	.L634
 8907              	.LVL970:
 8908              	.L643:
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DISK_ERR;
 8909              		.loc 1 3580 5 is_stmt 1 view .LVU2910
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DISK_ERR;
 8910              		.loc 1 3580 22 is_stmt 0 view .LVU2911
 8911 00c6 04F58052 		add	r2, r4, #4096
 8912 00ca 1368     		ldr	r3, [r2]
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DISK_ERR;
 8913              		.loc 1 3580 9 view .LVU2912
 8914 00cc 03F58050 		add	r0, r3, #4096
 8915 00d0 0123     		movs	r3, #1
 8916 00d2 9269     		ldr	r2, [r2, #24]
 8917 00d4 2146     		mov	r1, r4
 8918 00d6 4078     		ldrb	r0, [r0, #1]	@ zero_extendqisi2
 8919 00d8 FFF7FEFF 		bl	disk_write
 8920              	.LVL971:
3580:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DISK_ERR;
 8921              		.loc 1 3580 8 view .LVU2913
 8922 00dc 30B9     		cbnz	r0, .L641
3583:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8923              		.loc 1 3583 6 is_stmt 1 view .LVU2914
3583:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 8924              		.loc 1 3583 15 is_stmt 0 view .LVU2915
 8925 00de 04F58052 		add	r2, r4, #4096
 8926 00e2 9379     		ldrb	r3, [r2, #6]	@ zero_extendqisi2
ARM GAS  /tmp/cc9KJrYz.s 			page 278


 8927 00e4 23F04003 		bic	r3, r3, #64
 8928 00e8 9371     		strb	r3, [r2, #6]
 8929 00ea BAE7     		b	.L632
 8930              	.L641:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
 8931              		.loc 1 3581 10 view .LVU2916
 8932 00ec 0125     		movs	r5, #1
 8933              	.LVL972:
3581:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
 8934              		.loc 1 3581 10 view .LVU2917
 8935 00ee B9E7     		b	.L636
 8936              		.cfi_endproc
 8937              	.LFE118:
 8939              		.section	.text.f_unlink,"ax",%progbits
 8940              		.align	1
 8941              		.global	f_unlink
 8942              		.syntax unified
 8943              		.thumb
 8944              		.thumb_func
 8945              		.fpu softvfp
 8947              	f_unlink:
 8948              	.LVL973:
 8949              	.LFB119:
3603:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8950              		.loc 1 3603 1 is_stmt 1 view -0
 8951              		.cfi_startproc
 8952              		@ args = 0, pretend = 0, frame = 8280
 8953              		@ frame_needed = 0, uses_anonymous_args = 0
3603:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 8954              		.loc 1 3603 1 is_stmt 0 view .LVU2919
 8955 0000 70B5     		push	{r4, r5, r6, lr}
 8956              	.LCFI88:
 8957              		.cfi_def_cfa_offset 16
 8958              		.cfi_offset 4, -16
 8959              		.cfi_offset 5, -12
 8960              		.cfi_offset 6, -8
 8961              		.cfi_offset 14, -4
 8962 0002 ADF5015D 		sub	sp, sp, #8256
 8963              	.LCFI89:
 8964              		.cfi_def_cfa_offset 8272
 8965 0006 86B0     		sub	sp, sp, #24
 8966              	.LCFI90:
 8967              		.cfi_def_cfa_offset 8296
 8968 0008 0190     		str	r0, [sp, #4]
3604:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj, sdj;
 8969              		.loc 1 3604 2 is_stmt 1 view .LVU2920
3605:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 8970              		.loc 1 3605 2 view .LVU2921
3606:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dclst = 0;
 8971              		.loc 1 3606 2 view .LVU2922
3607:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 8972              		.loc 1 3607 2 view .LVU2923
 8973              	.LVL974:
3608:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8974              		.loc 1 3608 2 view .LVU2924
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8975              		.loc 1 3612 2 view .LVU2925
ARM GAS  /tmp/cc9KJrYz.s 			page 279


3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8976              		.loc 1 3612 8 is_stmt 0 view .LVU2926
 8977 000a 0122     		movs	r2, #1
 8978 000c 01A9     		add	r1, sp, #4
 8979 000e 0DF50050 		add	r0, sp, #8192
 8980              	.LVL975:
3612:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 8981              		.loc 1 3612 8 view .LVU2927
 8982 0012 3830     		adds	r0, r0, #56
 8983 0014 FFF7FEFF 		bl	find_volume
 8984              	.LVL976:
3613:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 8985              		.loc 1 3613 2 is_stmt 1 view .LVU2928
3613:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 8986              		.loc 1 3613 5 is_stmt 0 view .LVU2929
 8987 0018 0446     		mov	r4, r0
 8988 001a 20B1     		cbz	r0, .L655
 8989              	.LVL977:
 8990              	.L646:
3656:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 8991              		.loc 1 3656 13 is_stmt 1 view .LVU2930
3659:Middlewares/Third_Party/FatFs/src/ff.c **** }
 8992              		.loc 1 3659 2 view .LVU2931
3660:Middlewares/Third_Party/FatFs/src/ff.c **** 
 8993              		.loc 1 3660 1 is_stmt 0 view .LVU2932
 8994 001c 2046     		mov	r0, r4
 8995 001e 0DF5015D 		add	sp, sp, #8256
 8996 0022 06B0     		add	sp, sp, #24
 8997              	.LCFI91:
 8998              		.cfi_remember_state
 8999              		.cfi_def_cfa_offset 16
 9000              		@ sp needed
 9001 0024 70BD     		pop	{r4, r5, r6, pc}
 9002              	.LVL978:
 9003              	.L655:
 9004              	.LCFI92:
 9005              		.cfi_restore_state
3614:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
 9006              		.loc 1 3614 3 is_stmt 1 view .LVU2933
 9007 0026 03AB     		add	r3, sp, #12
 9008 0028 0DF50152 		add	r2, sp, #8256
 9009 002c 1032     		adds	r2, r2, #16
 9010 002e 1360     		str	r3, [r2]
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
 9011              		.loc 1 3615 3 view .LVU2934
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
 9012              		.loc 1 3615 9 is_stmt 0 view .LVU2935
 9013 0030 0199     		ldr	r1, [sp, #4]
 9014 0032 0DF58150 		add	r0, sp, #4128
 9015              	.LVL979:
3615:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
 9016              		.loc 1 3615 9 view .LVU2936
 9017 0036 1830     		adds	r0, r0, #24
 9018 0038 FFF7FEFF 		bl	follow_path
 9019              	.LVL980:
3616:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;			/* Cannot remove dot entry */
 9020              		.loc 1 3616 3 is_stmt 1 view .LVU2937
ARM GAS  /tmp/cc9KJrYz.s 			page 280


3619:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9021              		.loc 1 3619 3 view .LVU2938
3619:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9022              		.loc 1 3619 6 is_stmt 0 view .LVU2939
 9023 003c 0446     		mov	r4, r0
 9024 003e 30B9     		cbnz	r0, .L647
3619:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9025              		.loc 1 3619 21 is_stmt 1 discriminator 1 view .LVU2940
3619:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9026              		.loc 1 3619 27 is_stmt 0 discriminator 1 view .LVU2941
 9027 0040 0221     		movs	r1, #2
 9028 0042 0DF58150 		add	r0, sp, #4128
 9029              	.LVL981:
3619:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9030              		.loc 1 3619 27 discriminator 1 view .LVU2942
 9031 0046 1830     		adds	r0, r0, #24
 9032 0048 FFF7FEFF 		bl	chk_lock
 9033              	.LVL982:
 9034 004c 0446     		mov	r4, r0
 9035              	.LVL983:
 9036              	.L647:
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 9037              		.loc 1 3621 3 is_stmt 1 view .LVU2943
3621:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 9038              		.loc 1 3621 6 is_stmt 0 view .LVU2944
 9039 004e 002C     		cmp	r4, #0
 9040 0050 E4D1     		bne	.L646
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {
 9041              		.loc 1 3622 4 is_stmt 1 view .LVU2945
3622:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {
 9042              		.loc 1 3622 8 is_stmt 0 view .LVU2946
 9043 0052 0DF50153 		add	r3, sp, #8256
 9044 0056 0C33     		adds	r3, r3, #12
 9045 0058 1968     		ldr	r1, [r3]
 9046              	.LVL984:
3623:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 9047              		.loc 1 3623 4 is_stmt 1 view .LVU2947
3623:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;		/* Cannot remove the origin directory */
 9048              		.loc 1 3623 7 is_stmt 0 view .LVU2948
 9049 005a 41B3     		cbz	r1, .L651
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 9050              		.loc 1 3626 5 is_stmt 1 view .LVU2949
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 9051              		.loc 1 3626 12 is_stmt 0 view .LVU2950
 9052 005c CD7A     		ldrb	r5, [r1, #11]	@ zero_extendqisi2
3626:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = FR_DENIED;		/* Cannot remove R/O object */
 9053              		.loc 1 3626 8 view .LVU2951
 9054 005e 15F0010F 		tst	r5, #1
 9055 0062 27D1     		bne	.L652
3629:Middlewares/Third_Party/FatFs/src/ff.c **** 				dclst = ld_clust(dj.fs, dir);
 9056              		.loc 1 3629 4 is_stmt 1 view .LVU2952
3630:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dclst && (dir[DIR_Attr] & AM_DIR)) {	/* Is it a sub-directory ? */
 9057              		.loc 1 3630 5 view .LVU2953
3630:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dclst && (dir[DIR_Attr] & AM_DIR)) {	/* Is it a sub-directory ? */
 9058              		.loc 1 3630 13 is_stmt 0 view .LVU2954
 9059 0064 0DF50053 		add	r3, sp, #8192
 9060 0068 3833     		adds	r3, r3, #56
ARM GAS  /tmp/cc9KJrYz.s 			page 281


 9061 006a 1868     		ldr	r0, [r3]
 9062 006c FFF7FEFF 		bl	ld_clust
 9063              	.LVL985:
3631:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 9064              		.loc 1 3631 5 is_stmt 1 view .LVU2955
3631:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 9065              		.loc 1 3631 8 is_stmt 0 view .LVU2956
 9066 0070 0646     		mov	r6, r0
 9067 0072 08B3     		cbz	r0, .L648
3631:Middlewares/Third_Party/FatFs/src/ff.c **** #if _FS_RPATH
 9068              		.loc 1 3631 15 discriminator 1 view .LVU2957
 9069 0074 15F0100F 		tst	r5, #16
 9070 0078 1ED0     		beq	.L648
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.sclust = dclst;
 9071              		.loc 1 3638 7 is_stmt 1 view .LVU2958
 9072 007a 4FF48152 		mov	r2, #4128
 9073 007e 0DF58151 		add	r1, sp, #4128
 9074 0082 1831     		adds	r1, r1, #24
 9075 0084 06A8     		add	r0, sp, #24
 9076              	.LVL986:
3638:Middlewares/Third_Party/FatFs/src/ff.c **** 						sdj.sclust = dclst;
 9077              		.loc 1 3638 7 is_stmt 0 view .LVU2959
 9078 0086 FFF7FEFF 		bl	mem_cpy
 9079              	.LVL987:
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 2);
 9080              		.loc 1 3639 7 is_stmt 1 view .LVU2960
3639:Middlewares/Third_Party/FatFs/src/ff.c **** 						res = dir_sdi(&sdj, 2);
 9081              		.loc 1 3639 18 is_stmt 0 view .LVU2961
 9082 008a 16AB     		add	r3, sp, #88
 9083 008c C3F8C86F 		str	r6, [r3, #4040]
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 9084              		.loc 1 3640 7 is_stmt 1 view .LVU2962
3640:Middlewares/Third_Party/FatFs/src/ff.c **** 						if (res == FR_OK) {
 9085              		.loc 1 3640 13 is_stmt 0 view .LVU2963
 9086 0090 0221     		movs	r1, #2
 9087 0092 06A8     		add	r0, sp, #24
 9088 0094 FFF7FEFF 		bl	dir_sdi
 9089              	.LVL988:
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item (excluding dot entries) */
 9090              		.loc 1 3641 7 is_stmt 1 view .LVU2964
3641:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_read(&sdj, 0);			/* Read an item (excluding dot entries) */
 9091              		.loc 1 3641 10 is_stmt 0 view .LVU2965
 9092 0098 0446     		mov	r4, r0
 9093 009a 68B9     		cbnz	r0, .L648
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? (cannot remove) */
 9094              		.loc 1 3642 8 is_stmt 1 view .LVU2966
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? (cannot remove) */
 9095              		.loc 1 3642 14 is_stmt 0 view .LVU2967
 9096 009c 0021     		movs	r1, #0
 9097 009e 06A8     		add	r0, sp, #24
 9098              	.LVL989:
3642:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK) res = FR_DENIED;	/* Not empty? (cannot remove) */
 9099              		.loc 1 3642 14 view .LVU2968
 9100 00a0 FFF7FEFF 		bl	dir_read
 9101              	.LVL990:
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? (can remove) */
 9102              		.loc 1 3643 8 is_stmt 1 view .LVU2969
ARM GAS  /tmp/cc9KJrYz.s 			page 282


3643:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? (can remove) */
 9103              		.loc 1 3643 11 is_stmt 0 view .LVU2970
 9104 00a4 0446     		mov	r4, r0
 9105 00a6 D8B1     		cbz	r0, .L653
3644:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9106              		.loc 1 3644 8 is_stmt 1 view .LVU2971
3644:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 9107              		.loc 1 3644 11 is_stmt 0 view .LVU2972
 9108 00a8 0428     		cmp	r0, #4
 9109 00aa 05D1     		bne	.L648
 9110 00ac 06E0     		b	.L649
 9111              	.LVL991:
 9112              	.L651:
3607:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 9113              		.loc 1 3607 8 view .LVU2973
 9114 00ae 0026     		movs	r6, #0
3624:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 9115              		.loc 1 3624 9 view .LVU2974
 9116 00b0 0624     		movs	r4, #6
 9117              	.LVL992:
3624:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 9118              		.loc 1 3624 9 view .LVU2975
 9119 00b2 01E0     		b	.L648
 9120              	.LVL993:
 9121              	.L652:
3607:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 9122              		.loc 1 3607 8 view .LVU2976
 9123 00b4 0026     		movs	r6, #0
3627:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9124              		.loc 1 3627 10 view .LVU2977
 9125 00b6 0724     		movs	r4, #7
 9126              	.LVL994:
 9127              	.L648:
3649:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);		/* Remove the directory entry */
 9128              		.loc 1 3649 4 is_stmt 1 view .LVU2978
3649:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = dir_remove(&dj);		/* Remove the directory entry */
 9129              		.loc 1 3649 7 is_stmt 0 view .LVU2979
 9130 00b8 002C     		cmp	r4, #0
 9131 00ba AFD1     		bne	.L646
 9132              	.LVL995:
 9133              	.L649:
3650:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst)	/* Remove the cluster chain if exist */
 9134              		.loc 1 3650 5 is_stmt 1 view .LVU2980
3650:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK && dclst)	/* Remove the cluster chain if exist */
 9135              		.loc 1 3650 11 is_stmt 0 view .LVU2981
 9136 00bc 0DF58150 		add	r0, sp, #4128
 9137 00c0 1830     		adds	r0, r0, #24
 9138 00c2 FFF7FEFF 		bl	dir_remove
 9139              	.LVL996:
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, dclst);
 9140              		.loc 1 3651 5 is_stmt 1 view .LVU2982
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, dclst);
 9141              		.loc 1 3651 8 is_stmt 0 view .LVU2983
 9142 00c6 0446     		mov	r4, r0
 9143 00c8 00B9     		cbnz	r0, .L650
3651:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = remove_chain(dj.fs, dclst);
 9144              		.loc 1 3651 22 discriminator 1 view .LVU2984
ARM GAS  /tmp/cc9KJrYz.s 			page 283


 9145 00ca 5EB9     		cbnz	r6, .L656
 9146              	.LVL997:
 9147              	.L650:
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9148              		.loc 1 3653 5 is_stmt 1 view .LVU2985
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9149              		.loc 1 3653 8 is_stmt 0 view .LVU2986
 9150 00cc 002C     		cmp	r4, #0
 9151 00ce A5D1     		bne	.L646
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9152              		.loc 1 3653 23 is_stmt 1 discriminator 1 view .LVU2987
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9153              		.loc 1 3653 29 is_stmt 0 discriminator 1 view .LVU2988
 9154 00d0 0DF50053 		add	r3, sp, #8192
 9155 00d4 3833     		adds	r3, r3, #56
 9156 00d6 1868     		ldr	r0, [r3]
 9157 00d8 FFF7FEFF 		bl	sync_fs
 9158              	.LVL998:
 9159 00dc 0446     		mov	r4, r0
 9160              	.LVL999:
3653:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9161              		.loc 1 3653 29 discriminator 1 view .LVU2989
 9162 00de 9DE7     		b	.L646
 9163              	.LVL1000:
 9164              	.L653:
3643:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_NO_FILE) res = FR_OK;	/* Empty? (can remove) */
 9165              		.loc 1 3643 30 view .LVU2990
 9166 00e0 0724     		movs	r4, #7
 9167 00e2 E9E7     		b	.L648
 9168              	.LVL1001:
 9169              	.L656:
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
 9170              		.loc 1 3652 6 is_stmt 1 view .LVU2991
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
 9171              		.loc 1 3652 12 is_stmt 0 view .LVU2992
 9172 00e4 3146     		mov	r1, r6
 9173 00e6 0DF50053 		add	r3, sp, #8192
 9174 00ea 3833     		adds	r3, r3, #56
 9175 00ec 1868     		ldr	r0, [r3]
 9176              	.LVL1002:
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
 9177              		.loc 1 3652 12 view .LVU2993
 9178 00ee FFF7FEFF 		bl	remove_chain
 9179              	.LVL1003:
 9180 00f2 0446     		mov	r4, r0
 9181              	.LVL1004:
3652:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = sync_fs(dj.fs);
 9182              		.loc 1 3652 12 view .LVU2994
 9183 00f4 EAE7     		b	.L650
 9184              		.cfi_endproc
 9185              	.LFE119:
 9187              		.section	.text.f_mkdir,"ax",%progbits
 9188              		.align	1
 9189              		.global	f_mkdir
 9190              		.syntax unified
 9191              		.thumb
 9192              		.thumb_func
ARM GAS  /tmp/cc9KJrYz.s 			page 284


 9193              		.fpu softvfp
 9195              	f_mkdir:
 9196              	.LVL1005:
 9197              	.LFB120:
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9198              		.loc 1 3672 1 is_stmt 1 view -0
 9199              		.cfi_startproc
 9200              		@ args = 0, pretend = 0, frame = 4152
 9201              		@ frame_needed = 0, uses_anonymous_args = 0
3672:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9202              		.loc 1 3672 1 is_stmt 0 view .LVU2996
 9203 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 9204              	.LCFI93:
 9205              		.cfi_def_cfa_offset 36
 9206              		.cfi_offset 4, -36
 9207              		.cfi_offset 5, -32
 9208              		.cfi_offset 6, -28
 9209              		.cfi_offset 7, -24
 9210              		.cfi_offset 8, -20
 9211              		.cfi_offset 9, -16
 9212              		.cfi_offset 10, -12
 9213              		.cfi_offset 11, -8
 9214              		.cfi_offset 14, -4
 9215 0004 ADF5815D 		sub	sp, sp, #4128
 9216              	.LCFI94:
 9217              		.cfi_def_cfa_offset 4164
 9218 0008 87B0     		sub	sp, sp, #28
 9219              	.LCFI95:
 9220              		.cfi_def_cfa_offset 4192
 9221 000a 0190     		str	r0, [sp, #4]
3673:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 9222              		.loc 1 3673 2 is_stmt 1 view .LVU2997
3674:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir, n;
 9223              		.loc 1 3674 2 view .LVU2998
3675:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dsc, dcl, pcl, tm = GET_FATTIME();
 9224              		.loc 1 3675 2 view .LVU2999
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 9225              		.loc 1 3676 2 view .LVU3000
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 9226              		.loc 1 3676 28 is_stmt 0 view .LVU3001
 9227 000c FFF7FEFF 		bl	get_fattime
 9228              	.LVL1006:
3676:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 9229              		.loc 1 3676 28 view .LVU3002
 9230 0010 0546     		mov	r5, r0
 9231              	.LVL1007:
3677:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9232              		.loc 1 3677 2 is_stmt 1 view .LVU3003
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9233              		.loc 1 3681 2 view .LVU3004
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9234              		.loc 1 3681 8 is_stmt 0 view .LVU3005
 9235 0012 0122     		movs	r2, #1
 9236 0014 01A9     		add	r1, sp, #4
 9237 0016 0DF58050 		add	r0, sp, #4096
 9238              	.LVL1008:
3681:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
ARM GAS  /tmp/cc9KJrYz.s 			page 285


 9239              		.loc 1 3681 8 view .LVU3006
 9240 001a 1830     		adds	r0, r0, #24
 9241 001c FFF7FEFF 		bl	find_volume
 9242              	.LVL1009:
3682:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 9243              		.loc 1 3682 2 is_stmt 1 view .LVU3007
3682:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 9244              		.loc 1 3682 5 is_stmt 0 view .LVU3008
 9245 0020 0446     		mov	r4, r0
 9246 0022 28B1     		cbz	r0, .L675
 9247              	.LVL1010:
 9248              	.L658:
3730:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9249              		.loc 1 3730 13 is_stmt 1 view .LVU3009
3733:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9250              		.loc 1 3733 2 view .LVU3010
3734:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9251              		.loc 1 3734 1 is_stmt 0 view .LVU3011
 9252 0024 2046     		mov	r0, r4
 9253 0026 0DF5815D 		add	sp, sp, #4128
 9254 002a 07B0     		add	sp, sp, #28
 9255              	.LCFI96:
 9256              		.cfi_remember_state
 9257              		.cfi_def_cfa_offset 36
 9258              		@ sp needed
 9259 002c BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 9260              	.LVL1011:
 9261              	.L675:
 9262              	.LCFI97:
 9263              		.cfi_restore_state
3683:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);			/* Follow the file path */
 9264              		.loc 1 3683 3 is_stmt 1 view .LVU3012
 9265 0030 0EAB     		add	r3, sp, #56
 9266 0032 03AA     		add	r2, sp, #12
 9267 0034 C3F8F82F 		str	r2, [r3, #4088]
3684:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 9268              		.loc 1 3684 3 view .LVU3013
3684:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 9269              		.loc 1 3684 9 is_stmt 0 view .LVU3014
 9270 0038 0199     		ldr	r1, [sp, #4]
 9271 003a 06A8     		add	r0, sp, #24
 9272              	.LVL1012:
3684:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 9273              		.loc 1 3684 9 view .LVU3015
 9274 003c FFF7FEFF 		bl	follow_path
 9275              	.LVL1013:
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT))
 9276              		.loc 1 3685 3 is_stmt 1 view .LVU3016
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT))
 9277              		.loc 1 3685 6 is_stmt 0 view .LVU3017
 9278 0040 0028     		cmp	r0, #0
 9279 0042 00F0BC80 		beq	.L668
3686:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 9280              		.loc 1 3686 3 is_stmt 1 view .LVU3018
3688:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(dj.fs, 0);		/* Allocate a cluster for the new directory table */
 9281              		.loc 1 3688 3 view .LVU3019
3688:Middlewares/Third_Party/FatFs/src/ff.c **** 			dcl = create_chain(dj.fs, 0);		/* Allocate a cluster for the new directory table */
ARM GAS  /tmp/cc9KJrYz.s 			page 286


 9282              		.loc 1 3688 6 is_stmt 0 view .LVU3020
 9283 0046 0428     		cmp	r0, #4
 9284 0048 01D0     		beq	.L676
3684:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (res == FR_OK) res = FR_EXIST;		/* Any object with same name is already existing */
 9285              		.loc 1 3684 9 view .LVU3021
 9286 004a 0446     		mov	r4, r0
 9287 004c EAE7     		b	.L658
 9288              	.L676:
3689:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 9289              		.loc 1 3689 4 is_stmt 1 view .LVU3022
3689:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 9290              		.loc 1 3689 10 is_stmt 0 view .LVU3023
 9291 004e 0021     		movs	r1, #0
 9292 0050 0DF58053 		add	r3, sp, #4096
 9293 0054 1833     		adds	r3, r3, #24
 9294 0056 1868     		ldr	r0, [r3]
 9295              	.LVL1014:
3689:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_OK;
 9296              		.loc 1 3689 10 view .LVU3024
 9297 0058 FFF7FEFF 		bl	create_chain
 9298              	.LVL1015:
3690:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0) res = FR_DENIED;		/* No space to allocate a new cluster */
 9299              		.loc 1 3690 4 is_stmt 1 view .LVU3025
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 9300              		.loc 1 3691 4 view .LVU3026
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 9301              		.loc 1 3691 7 is_stmt 0 view .LVU3027
 9302 005c 8046     		mov	r8, r0
 9303 005e 00B9     		cbnz	r0, .L659
3691:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 1) res = FR_INT_ERR;
 9304              		.loc 1 3691 22 view .LVU3028
 9305 0060 0724     		movs	r4, #7
 9306              	.L659:
 9307              	.LVL1016:
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 9308              		.loc 1 3692 4 is_stmt 1 view .LVU3029
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 9309              		.loc 1 3692 7 is_stmt 0 view .LVU3030
 9310 0062 B8F1010F 		cmp	r8, #1
 9311 0066 12D0     		beq	.L677
 9312              	.LVL1017:
 9313              	.L660:
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)					/* Flush FAT */
 9314              		.loc 1 3693 4 is_stmt 1 view .LVU3031
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)					/* Flush FAT */
 9315              		.loc 1 3693 7 is_stmt 0 view .LVU3032
 9316 0068 B8F1FF3F 		cmp	r8, #-1
 9317 006c 19D0     		beq	.L672
3694:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_window(dj.fs);
 9318              		.loc 1 3694 4 is_stmt 1 view .LVU3033
3694:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_window(dj.fs);
 9319              		.loc 1 3694 7 is_stmt 0 view .LVU3034
 9320 006e 84B1     		cbz	r4, .L678
 9321              	.LVL1018:
 9322              	.L661:
3696:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(dj.fs, dcl);
 9323              		.loc 1 3696 4 is_stmt 1 view .LVU3035
ARM GAS  /tmp/cc9KJrYz.s 			page 287


3696:Middlewares/Third_Party/FatFs/src/ff.c **** 				dsc = clust2sect(dj.fs, dcl);
 9324              		.loc 1 3696 7 is_stmt 0 view .LVU3036
 9325 0070 CCB1     		cbz	r4, .L679
 9326              	.LVL1019:
 9327              	.L662:
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
 9328              		.loc 1 3718 4 is_stmt 1 view .LVU3037
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
 9329              		.loc 1 3718 7 is_stmt 0 view .LVU3038
 9330 0072 002C     		cmp	r4, #0
 9331 0074 00F08380 		beq	.L680
 9332              	.L666:
3719:Middlewares/Third_Party/FatFs/src/ff.c **** 				remove_chain(dj.fs, dcl);			/* Could not register, remove cluster chain */
 9333              		.loc 1 3719 4 is_stmt 1 view .LVU3039
3719:Middlewares/Third_Party/FatFs/src/ff.c **** 				remove_chain(dj.fs, dcl);			/* Could not register, remove cluster chain */
 9334              		.loc 1 3719 7 is_stmt 0 view .LVU3040
 9335 0078 002C     		cmp	r4, #0
 9336 007a 00F08580 		beq	.L667
3720:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 9337              		.loc 1 3720 5 is_stmt 1 view .LVU3041
 9338 007e 4146     		mov	r1, r8
 9339 0080 0DF58053 		add	r3, sp, #4096
 9340 0084 1833     		adds	r3, r3, #24
 9341 0086 1868     		ldr	r0, [r3]
 9342 0088 FFF7FEFF 		bl	remove_chain
 9343              	.LVL1020:
 9344 008c CAE7     		b	.L658
 9345              	.LVL1021:
 9346              	.L677:
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 9347              		.loc 1 3692 22 is_stmt 0 view .LVU3042
 9348 008e 0224     		movs	r4, #2
 9349              	.LVL1022:
3692:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (dcl == 0xFFFFFFFF) res = FR_DISK_ERR;
 9350              		.loc 1 3692 22 view .LVU3043
 9351 0090 EAE7     		b	.L660
 9352              	.LVL1023:
 9353              	.L678:
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 9354              		.loc 1 3695 5 is_stmt 1 view .LVU3044
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 9355              		.loc 1 3695 11 is_stmt 0 view .LVU3045
 9356 0092 0DF58053 		add	r3, sp, #4096
 9357 0096 1833     		adds	r3, r3, #24
 9358 0098 1868     		ldr	r0, [r3]
 9359              	.LVL1024:
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 9360              		.loc 1 3695 11 view .LVU3046
 9361 009a FFF7FEFF 		bl	sync_window
 9362              	.LVL1025:
 9363 009e 0446     		mov	r4, r0
 9364              	.LVL1026:
3695:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK) {					/* Initialize the new directory table */
 9365              		.loc 1 3695 11 view .LVU3047
 9366 00a0 E6E7     		b	.L661
 9367              	.LVL1027:
 9368              	.L672:
ARM GAS  /tmp/cc9KJrYz.s 			page 288


3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)					/* Flush FAT */
 9369              		.loc 1 3693 31 view .LVU3048
 9370 00a2 0124     		movs	r4, #1
 9371              	.LVL1028:
3693:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res == FR_OK)					/* Flush FAT */
 9372              		.loc 1 3693 31 view .LVU3049
 9373 00a4 E4E7     		b	.L661
 9374              	.LVL1029:
 9375              	.L679:
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.fs->win.d8;
 9376              		.loc 1 3697 5 is_stmt 1 view .LVU3050
3697:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir = dj.fs->win.d8;
 9377              		.loc 1 3697 11 is_stmt 0 view .LVU3051
 9378 00a6 0EAE     		add	r6, sp, #56
 9379 00a8 D6F8E07F 		ldr	r7, [r6, #4064]
 9380 00ac 4146     		mov	r1, r8
 9381 00ae 3846     		mov	r0, r7
 9382 00b0 FFF7FEFF 		bl	clust2sect
 9383              	.LVL1030:
 9384 00b4 8246     		mov	r10, r0
 9385              	.LVL1031:
3698:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir, 0, SS(dj.fs));
 9386              		.loc 1 3698 5 is_stmt 1 view .LVU3052
3699:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
 9387              		.loc 1 3699 5 view .LVU3053
3699:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
 9388              		.loc 1 3699 21 is_stmt 0 view .LVU3054
 9389 00b6 07F58053 		add	r3, r7, #4096
3699:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
 9390              		.loc 1 3699 5 view .LVU3055
 9391 00ba 5A89     		ldrh	r2, [r3, #10]
 9392 00bc 0021     		movs	r1, #0
 9393 00be 3846     		mov	r0, r7
 9394              	.LVL1032:
3699:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_set(dir + DIR_Name, ' ', 11);	/* Create "." entry */
 9395              		.loc 1 3699 5 view .LVU3056
 9396 00c0 FFF7FEFF 		bl	mem_set
 9397              	.LVL1033:
3700:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Name] = '.';
 9398              		.loc 1 3700 5 is_stmt 1 view .LVU3057
 9399 00c4 0B22     		movs	r2, #11
 9400 00c6 2021     		movs	r1, #32
 9401 00c8 3846     		mov	r0, r7
 9402 00ca FFF7FEFF 		bl	mem_set
 9403              	.LVL1034:
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;
 9404              		.loc 1 3701 5 view .LVU3058
3701:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;
 9405              		.loc 1 3701 19 is_stmt 0 view .LVU3059
 9406 00ce 4FF02E0B 		mov	fp, #46
 9407 00d2 87F800B0 		strb	fp, [r7]
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
 9408              		.loc 1 3702 5 is_stmt 1 view .LVU3060
3702:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);
 9409              		.loc 1 3702 19 is_stmt 0 view .LVU3061
 9410 00d6 1023     		movs	r3, #16
 9411 00d8 FB72     		strb	r3, [r7, #11]
ARM GAS  /tmp/cc9KJrYz.s 			page 289


3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);
 9412              		.loc 1 3703 5 is_stmt 1 view .LVU3062
 9413 00da BD75     		strb	r5, [r7, #22]
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);
 9414              		.loc 1 3703 5 view .LVU3063
 9415 00dc C5F30723 		ubfx	r3, r5, #8, #8
 9416 00e0 FB75     		strb	r3, [r7, #23]
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);
 9417              		.loc 1 3703 5 view .LVU3064
 9418 00e2 C5F30743 		ubfx	r3, r5, #16, #8
 9419 00e6 3B76     		strb	r3, [r7, #24]
3703:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);
 9420              		.loc 1 3703 5 view .LVU3065
 9421 00e8 2B0E     		lsrs	r3, r5, #24
 9422 00ea 7B76     		strb	r3, [r7, #25]
3704:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(dir + SZ_DIRE, dir, SZ_DIRE); 	/* Create ".." entry */
 9423              		.loc 1 3704 5 view .LVU3066
 9424 00ec 4146     		mov	r1, r8
 9425 00ee 3846     		mov	r0, r7
 9426 00f0 FFF7FEFF 		bl	st_clust
 9427              	.LVL1035:
3705:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[SZ_DIRE + 1] = '.'; pcl = dj.sclust;
 9428              		.loc 1 3705 5 view .LVU3067
3705:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[SZ_DIRE + 1] = '.'; pcl = dj.sclust;
 9429              		.loc 1 3705 17 is_stmt 0 view .LVU3068
 9430 00f4 07F12009 		add	r9, r7, #32
3705:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[SZ_DIRE + 1] = '.'; pcl = dj.sclust;
 9431              		.loc 1 3705 5 view .LVU3069
 9432 00f8 2022     		movs	r2, #32
 9433 00fa 3946     		mov	r1, r7
 9434 00fc 4846     		mov	r0, r9
 9435 00fe FFF7FEFF 		bl	mem_cpy
 9436              	.LVL1036:
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
 9437              		.loc 1 3706 5 is_stmt 1 view .LVU3070
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
 9438              		.loc 1 3706 22 is_stmt 0 view .LVU3071
 9439 0102 87F821B0 		strb	fp, [r7, #33]
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
 9440              		.loc 1 3706 29 is_stmt 1 view .LVU3072
3706:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (dj.fs->fs_type == FS_FAT32 && pcl == dj.fs->dirbase)
 9441              		.loc 1 3706 33 is_stmt 0 view .LVU3073
 9442 0106 D6F8E81F 		ldr	r1, [r6, #4072]
 9443              	.LVL1037:
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 9444              		.loc 1 3707 5 is_stmt 1 view .LVU3074
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 9445              		.loc 1 3707 11 is_stmt 0 view .LVU3075
 9446 010a D6F8E03F 		ldr	r3, [r6, #4064]
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 9447              		.loc 1 3707 14 view .LVU3076
 9448 010e 03F58052 		add	r2, r3, #4096
 9449 0112 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 9450              		.loc 1 3707 8 view .LVU3077
 9451 0114 032A     		cmp	r2, #3
 9452 0116 2BD0     		beq	.L681
ARM GAS  /tmp/cc9KJrYz.s 			page 290


 9453              	.LVL1038:
 9454              	.L663:
3709:Middlewares/Third_Party/FatFs/src/ff.c **** 				for (n = dj.fs->csize; n; n--) {	/* Write dot entries and clear following sectors */
 9455              		.loc 1 3709 5 is_stmt 1 view .LVU3078
 9456 0118 4846     		mov	r0, r9
 9457 011a FFF7FEFF 		bl	st_clust
 9458              	.LVL1039:
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 9459              		.loc 1 3710 5 view .LVU3079
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 9460              		.loc 1 3710 16 is_stmt 0 view .LVU3080
 9461 011e 0DF58053 		add	r3, sp, #4096
 9462 0122 1833     		adds	r3, r3, #24
 9463 0124 1B68     		ldr	r3, [r3]
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 9464              		.loc 1 3710 12 view .LVU3081
 9465 0126 03F58053 		add	r3, r3, #4096
 9466 012a 9E78     		ldrb	r6, [r3, #2]	@ zero_extendqisi2
 9467              	.LVL1040:
 9468              	.L664:
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 9469              		.loc 1 3710 28 is_stmt 1 discriminator 1 view .LVU3082
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 9470              		.loc 1 3710 5 is_stmt 0 discriminator 1 view .LVU3083
 9471 012c 002E     		cmp	r6, #0
 9472 012e A0D0     		beq	.L662
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
 9473              		.loc 1 3711 6 is_stmt 1 view .LVU3084
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
 9474              		.loc 1 3711 26 is_stmt 0 view .LVU3085
 9475 0130 0AF10109 		add	r9, r10, #1
 9476              	.LVL1041:
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
 9477              		.loc 1 3711 8 view .LVU3086
 9478 0134 0DF58053 		add	r3, sp, #4096
 9479 0138 1833     		adds	r3, r3, #24
 9480 013a 1868     		ldr	r0, [r3]
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
 9481              		.loc 1 3711 21 view .LVU3087
 9482 013c 00F58053 		add	r3, r0, #4096
 9483 0140 C3F82CA0 		str	r10, [r3, #44]
3712:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(dj.fs);
 9484              		.loc 1 3712 6 is_stmt 1 view .LVU3088
3712:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = sync_window(dj.fs);
 9485              		.loc 1 3712 19 is_stmt 0 view .LVU3089
 9486 0144 0122     		movs	r2, #1
 9487 0146 1A71     		strb	r2, [r3, #4]
3713:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 9488              		.loc 1 3713 6 is_stmt 1 view .LVU3090
3713:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res != FR_OK) break;
 9489              		.loc 1 3713 12 is_stmt 0 view .LVU3091
 9490 0148 FFF7FEFF 		bl	sync_window
 9491              	.LVL1042:
3714:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(dj.fs));
 9492              		.loc 1 3714 6 is_stmt 1 view .LVU3092
3714:Middlewares/Third_Party/FatFs/src/ff.c **** 					mem_set(dir, 0, SS(dj.fs));
 9493              		.loc 1 3714 9 is_stmt 0 view .LVU3093
ARM GAS  /tmp/cc9KJrYz.s 			page 291


 9494 014c 0446     		mov	r4, r0
 9495 014e 0028     		cmp	r0, #0
 9496 0150 8FD1     		bne	.L662
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9497              		.loc 1 3715 6 is_stmt 1 discriminator 2 view .LVU3094
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9498              		.loc 1 3715 22 is_stmt 0 discriminator 2 view .LVU3095
 9499 0152 0DF58053 		add	r3, sp, #4096
 9500 0156 1833     		adds	r3, r3, #24
 9501 0158 1B68     		ldr	r3, [r3]
 9502 015a 03F58053 		add	r3, r3, #4096
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9503              		.loc 1 3715 6 discriminator 2 view .LVU3096
 9504 015e 5A89     		ldrh	r2, [r3, #10]
 9505 0160 0021     		movs	r1, #0
 9506 0162 3846     		mov	r0, r7
 9507              	.LVL1043:
3715:Middlewares/Third_Party/FatFs/src/ff.c **** 				}
 9508              		.loc 1 3715 6 discriminator 2 view .LVU3097
 9509 0164 FFF7FEFF 		bl	mem_set
 9510              	.LVL1044:
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 9511              		.loc 1 3710 31 is_stmt 1 discriminator 2 view .LVU3098
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 9512              		.loc 1 3710 32 is_stmt 0 discriminator 2 view .LVU3099
 9513 0168 013E     		subs	r6, r6, #1
 9514              	.LVL1045:
3710:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->winsect = dsc++;
 9515              		.loc 1 3710 32 discriminator 2 view .LVU3100
 9516 016a F6B2     		uxtb	r6, r6
 9517              	.LVL1046:
3711:Middlewares/Third_Party/FatFs/src/ff.c **** 					dj.fs->wflag = 1;
 9518              		.loc 1 3711 26 discriminator 2 view .LVU3101
 9519 016c CA46     		mov	r10, r9
 9520 016e DDE7     		b	.L664
 9521              	.LVL1047:
 9522              	.L681:
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 9523              		.loc 1 3707 51 discriminator 1 view .LVU3102
 9524 0170 03F58053 		add	r3, r3, #4096
 9525 0174 5B6A     		ldr	r3, [r3, #36]
3707:Middlewares/Third_Party/FatFs/src/ff.c **** 					pcl = 0;
 9526              		.loc 1 3707 36 discriminator 1 view .LVU3103
 9527 0176 8B42     		cmp	r3, r1
 9528 0178 CED1     		bne	.L663
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir + SZ_DIRE, pcl);
 9529              		.loc 1 3708 10 view .LVU3104
 9530 017a 0021     		movs	r1, #0
 9531              	.LVL1048:
3708:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir + SZ_DIRE, pcl);
 9532              		.loc 1 3708 10 view .LVU3105
 9533 017c CCE7     		b	.L663
 9534              	.LVL1049:
 9535              	.L680:
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
 9536              		.loc 1 3718 22 is_stmt 1 discriminator 1 view .LVU3106
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
ARM GAS  /tmp/cc9KJrYz.s 			page 292


 9537              		.loc 1 3718 28 is_stmt 0 discriminator 1 view .LVU3107
 9538 017e 06A8     		add	r0, sp, #24
 9539 0180 FFF7FEFF 		bl	dir_register
 9540              	.LVL1050:
 9541 0184 0446     		mov	r4, r0
 9542              	.LVL1051:
3718:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (res != FR_OK) {
 9543              		.loc 1 3718 28 discriminator 1 view .LVU3108
 9544 0186 77E7     		b	.L666
 9545              	.L667:
3722:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;				/* Attribute */
 9546              		.loc 1 3722 5 is_stmt 1 view .LVU3109
3722:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;				/* Attribute */
 9547              		.loc 1 3722 9 is_stmt 0 view .LVU3110
 9548 0188 0EAC     		add	r4, sp, #56
 9549              	.LVL1052:
3722:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = AM_DIR;				/* Attribute */
 9550              		.loc 1 3722 9 view .LVU3111
 9551 018a D4F8F40F 		ldr	r0, [r4, #4084]
 9552              	.LVL1053:
3723:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);	/* Created time */
 9553              		.loc 1 3723 5 is_stmt 1 view .LVU3112
3723:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_DWORD(dir + DIR_WrtTime, tm);	/* Created time */
 9554              		.loc 1 3723 19 is_stmt 0 view .LVU3113
 9555 018e 1023     		movs	r3, #16
 9556 0190 C372     		strb	r3, [r0, #11]
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
 9557              		.loc 1 3724 5 is_stmt 1 view .LVU3114
 9558 0192 8575     		strb	r5, [r0, #22]
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
 9559              		.loc 1 3724 5 view .LVU3115
 9560 0194 C5F30723 		ubfx	r3, r5, #8, #8
 9561 0198 C375     		strb	r3, [r0, #23]
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
 9562              		.loc 1 3724 5 view .LVU3116
 9563 019a C5F30743 		ubfx	r3, r5, #16, #8
 9564 019e 0376     		strb	r3, [r0, #24]
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
 9565              		.loc 1 3724 5 view .LVU3117
 9566 01a0 2D0E     		lsrs	r5, r5, #24
 9567              	.LVL1054:
3724:Middlewares/Third_Party/FatFs/src/ff.c **** 				st_clust(dir, dcl);					/* Table start cluster */
 9568              		.loc 1 3724 5 is_stmt 0 view .LVU3118
 9569 01a2 4576     		strb	r5, [r0, #25]
3725:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 9570              		.loc 1 3725 5 is_stmt 1 view .LVU3119
 9571 01a4 4146     		mov	r1, r8
 9572 01a6 FFF7FEFF 		bl	st_clust
 9573              	.LVL1055:
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9574              		.loc 1 3726 5 view .LVU3120
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9575              		.loc 1 3726 7 is_stmt 0 view .LVU3121
 9576 01aa D4F8E00F 		ldr	r0, [r4, #4064]
3726:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9577              		.loc 1 3726 18 view .LVU3122
 9578 01ae 00F58053 		add	r3, r0, #4096
ARM GAS  /tmp/cc9KJrYz.s 			page 293


 9579 01b2 0122     		movs	r2, #1
 9580 01b4 1A71     		strb	r2, [r3, #4]
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9581              		.loc 1 3727 5 is_stmt 1 view .LVU3123
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9582              		.loc 1 3727 11 is_stmt 0 view .LVU3124
 9583 01b6 FFF7FEFF 		bl	sync_fs
 9584              	.LVL1056:
 9585 01ba 0446     		mov	r4, r0
 9586              	.LVL1057:
3727:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9587              		.loc 1 3727 11 view .LVU3125
 9588 01bc 32E7     		b	.L658
 9589              	.LVL1058:
 9590              	.L668:
3685:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_NO_FILE && (dj.fn[NSFLAG] & NS_DOT))
 9591              		.loc 1 3685 25 view .LVU3126
 9592 01be 0824     		movs	r4, #8
 9593 01c0 30E7     		b	.L658
 9594              		.cfi_endproc
 9595              	.LFE120:
 9597              		.section	.text.f_chmod,"ax",%progbits
 9598              		.align	1
 9599              		.global	f_chmod
 9600              		.syntax unified
 9601              		.thumb
 9602              		.thumb_func
 9603              		.fpu softvfp
 9605              	f_chmod:
 9606              	.LVL1059:
 9607              	.LFB121:
3748:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9608              		.loc 1 3748 1 is_stmt 1 view -0
 9609              		.cfi_startproc
 9610              		@ args = 0, pretend = 0, frame = 4152
 9611              		@ frame_needed = 0, uses_anonymous_args = 0
3748:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9612              		.loc 1 3748 1 is_stmt 0 view .LVU3128
 9613 0000 30B5     		push	{r4, r5, lr}
 9614              	.LCFI98:
 9615              		.cfi_def_cfa_offset 12
 9616              		.cfi_offset 4, -12
 9617              		.cfi_offset 5, -8
 9618              		.cfi_offset 14, -4
 9619 0002 ADF5815D 		sub	sp, sp, #4128
 9620              	.LCFI99:
 9621              		.cfi_def_cfa_offset 4140
 9622 0006 87B0     		sub	sp, sp, #28
 9623              	.LCFI100:
 9624              		.cfi_def_cfa_offset 4168
 9625 0008 0190     		str	r0, [sp, #4]
 9626 000a 0D46     		mov	r5, r1
 9627 000c 1446     		mov	r4, r2
3749:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 9628              		.loc 1 3749 2 is_stmt 1 view .LVU3129
3750:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 9629              		.loc 1 3750 2 view .LVU3130
ARM GAS  /tmp/cc9KJrYz.s 			page 294


3751:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 9630              		.loc 1 3751 2 view .LVU3131
3752:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9631              		.loc 1 3752 2 view .LVU3132
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9632              		.loc 1 3756 2 view .LVU3133
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9633              		.loc 1 3756 8 is_stmt 0 view .LVU3134
 9634 000e 0122     		movs	r2, #1
 9635              	.LVL1060:
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9636              		.loc 1 3756 8 view .LVU3135
 9637 0010 01A9     		add	r1, sp, #4
 9638              	.LVL1061:
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9639              		.loc 1 3756 8 view .LVU3136
 9640 0012 0DF58050 		add	r0, sp, #4096
 9641              	.LVL1062:
3756:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9642              		.loc 1 3756 8 view .LVU3137
 9643 0016 1830     		adds	r0, r0, #24
 9644 0018 FFF7FEFF 		bl	find_volume
 9645              	.LVL1063:
3757:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 9646              		.loc 1 3757 2 is_stmt 1 view .LVU3138
3757:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 9647              		.loc 1 3757 5 is_stmt 0 view .LVU3139
 9648 001c 18B1     		cbz	r0, .L686
 9649              	.LVL1064:
 9650              	.L683:
3776:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9651              		.loc 1 3776 2 is_stmt 1 view .LVU3140
3777:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9652              		.loc 1 3777 1 is_stmt 0 view .LVU3141
 9653 001e 0DF5815D 		add	sp, sp, #4128
 9654 0022 07B0     		add	sp, sp, #28
 9655              	.LCFI101:
 9656              		.cfi_remember_state
 9657              		.cfi_def_cfa_offset 12
 9658              		@ sp needed
 9659 0024 30BD     		pop	{r4, r5, pc}
 9660              	.LVL1065:
 9661              	.L686:
 9662              	.LCFI102:
 9663              		.cfi_restore_state
3758:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);		/* Follow the file path */
 9664              		.loc 1 3758 3 is_stmt 1 view .LVU3142
 9665 0026 0EAB     		add	r3, sp, #56
 9666 0028 03AA     		add	r2, sp, #12
 9667 002a C3F8F82F 		str	r2, [r3, #4088]
3759:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 9668              		.loc 1 3759 3 view .LVU3143
3759:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 9669              		.loc 1 3759 9 is_stmt 0 view .LVU3144
 9670 002e 0199     		ldr	r1, [sp, #4]
 9671 0030 06A8     		add	r0, sp, #24
 9672 0032 FFF7FEFF 		bl	follow_path
ARM GAS  /tmp/cc9KJrYz.s 			page 295


 9673              	.LVL1066:
3760:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
 9674              		.loc 1 3760 13 is_stmt 1 view .LVU3145
3761:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 9675              		.loc 1 3761 3 view .LVU3146
3763:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 9676              		.loc 1 3763 3 view .LVU3147
3763:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 9677              		.loc 1 3763 6 is_stmt 0 view .LVU3148
 9678 0036 0028     		cmp	r0, #0
 9679 0038 F1D1     		bne	.L683
3764:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {						/* Is it a root directory? */
 9680              		.loc 1 3764 4 is_stmt 1 view .LVU3149
3764:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {						/* Is it a root directory? */
 9681              		.loc 1 3764 8 is_stmt 0 view .LVU3150
 9682 003a 0DF58153 		add	r3, sp, #4128
 9683 003e 0C33     		adds	r3, r3, #12
 9684 0040 1868     		ldr	r0, [r3]
 9685              	.LVL1067:
3765:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 9686              		.loc 1 3765 4 is_stmt 1 view .LVU3151
3765:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 9687              		.loc 1 3765 7 is_stmt 0 view .LVU3152
 9688 0042 90B1     		cbz	r0, .L684
3768:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = (attr & mask) | (dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change */
 9689              		.loc 1 3768 5 is_stmt 1 view .LVU3153
3768:Middlewares/Third_Party/FatFs/src/ff.c **** 				dir[DIR_Attr] = (attr & mask) | (dir[DIR_Attr] & (BYTE)~mask);	/* Apply attribute change */
 9690              		.loc 1 3768 10 is_stmt 0 view .LVU3154
 9691 0044 04F02702 		and	r2, r4, #39
 9692              	.LVL1068:
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 9693              		.loc 1 3769 5 is_stmt 1 view .LVU3155
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 9694              		.loc 1 3769 41 is_stmt 0 view .LVU3156
 9695 0048 C37A     		ldrb	r3, [r0, #11]	@ zero_extendqisi2
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 9696              		.loc 1 3769 19 view .LVU3157
 9697 004a 83EA0501 		eor	r1, r3, r5
 9698 004e 0A40     		ands	r2, r2, r1
 9699              	.LVL1069:
3769:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 9700              		.loc 1 3769 19 view .LVU3158
 9701 0050 5A40     		eors	r2, r2, r3
 9702 0052 C272     		strb	r2, [r0, #11]
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9703              		.loc 1 3770 5 is_stmt 1 view .LVU3159
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9704              		.loc 1 3770 7 is_stmt 0 view .LVU3160
 9705 0054 0DF58053 		add	r3, sp, #4096
 9706 0058 1833     		adds	r3, r3, #24
 9707 005a 1868     		ldr	r0, [r3]
 9708              	.LVL1070:
3770:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 9709              		.loc 1 3770 18 view .LVU3161
 9710 005c 00F58053 		add	r3, r0, #4096
 9711 0060 0122     		movs	r2, #1
 9712 0062 1A71     		strb	r2, [r3, #4]
ARM GAS  /tmp/cc9KJrYz.s 			page 296


3771:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9713              		.loc 1 3771 5 is_stmt 1 view .LVU3162
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9714              		.loc 1 3771 11 is_stmt 0 view .LVU3163
 9715 0064 FFF7FEFF 		bl	sync_fs
 9716              	.LVL1071:
3771:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 9717              		.loc 1 3771 11 view .LVU3164
 9718 0068 D9E7     		b	.L683
 9719              	.LVL1072:
 9720              	.L684:
3766:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* File or sub directory */
 9721              		.loc 1 3766 9 view .LVU3165
 9722 006a 0620     		movs	r0, #6
 9723              	.LVL1073:
3766:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {						/* File or sub directory */
 9724              		.loc 1 3766 9 view .LVU3166
 9725 006c D7E7     		b	.L683
 9726              		.cfi_endproc
 9727              	.LFE121:
 9729              		.section	.text.f_rename,"ax",%progbits
 9730              		.align	1
 9731              		.global	f_rename
 9732              		.syntax unified
 9733              		.thumb
 9734              		.thumb_func
 9735              		.fpu softvfp
 9737              	f_rename:
 9738              	.LVL1074:
 9739              	.LFB122:
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9740              		.loc 1 3790 1 is_stmt 1 view -0
 9741              		.cfi_startproc
 9742              		@ args = 0, pretend = 0, frame = 8304
 9743              		@ frame_needed = 0, uses_anonymous_args = 0
3790:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 9744              		.loc 1 3790 1 is_stmt 0 view .LVU3168
 9745 0000 70B5     		push	{r4, r5, r6, lr}
 9746              	.LCFI103:
 9747              		.cfi_def_cfa_offset 16
 9748              		.cfi_offset 4, -16
 9749              		.cfi_offset 5, -12
 9750              		.cfi_offset 6, -8
 9751              		.cfi_offset 14, -4
 9752 0002 ADF5015D 		sub	sp, sp, #8256
 9753              	.LCFI104:
 9754              		.cfi_def_cfa_offset 8272
 9755 0006 8CB0     		sub	sp, sp, #48
 9756              	.LCFI105:
 9757              		.cfi_def_cfa_offset 8320
 9758 0008 0190     		str	r0, [sp, #4]
 9759 000a 0091     		str	r1, [sp, #0]
3791:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR djo, djn;
 9760              		.loc 1 3791 2 is_stmt 1 view .LVU3169
3792:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE buf[21], *dir;
 9761              		.loc 1 3792 2 view .LVU3170
3793:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD dw;
ARM GAS  /tmp/cc9KJrYz.s 			page 297


 9762              		.loc 1 3793 2 view .LVU3171
3794:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 9763              		.loc 1 3794 2 view .LVU3172
3795:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9764              		.loc 1 3795 2 view .LVU3173
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9765              		.loc 1 3799 2 view .LVU3174
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9766              		.loc 1 3799 8 is_stmt 0 view .LVU3175
 9767 000c 0122     		movs	r2, #1
 9768 000e 01A9     		add	r1, sp, #4
 9769              	.LVL1075:
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9770              		.loc 1 3799 8 view .LVU3176
 9771 0010 0DF50150 		add	r0, sp, #8256
 9772              	.LVL1076:
3799:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 9773              		.loc 1 3799 8 view .LVU3177
 9774 0014 1030     		adds	r0, r0, #16
 9775 0016 FFF7FEFF 		bl	find_volume
 9776              	.LVL1077:
3800:Middlewares/Third_Party/FatFs/src/ff.c **** 		djn.fs = djo.fs;
 9777              		.loc 1 3800 2 is_stmt 1 view .LVU3178
3800:Middlewares/Third_Party/FatFs/src/ff.c **** 		djn.fs = djo.fs;
 9778              		.loc 1 3800 5 is_stmt 0 view .LVU3179
 9779 001a 0446     		mov	r4, r0
 9780 001c 20B1     		cbz	r0, .L697
 9781              	.LVL1078:
 9782              	.L688:
3851:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 9783              		.loc 1 3851 13 is_stmt 1 view .LVU3180
3854:Middlewares/Third_Party/FatFs/src/ff.c **** }
 9784              		.loc 1 3854 2 view .LVU3181
3855:Middlewares/Third_Party/FatFs/src/ff.c **** 
 9785              		.loc 1 3855 1 is_stmt 0 view .LVU3182
 9786 001e 2046     		mov	r0, r4
 9787 0020 0DF5015D 		add	sp, sp, #8256
 9788 0024 0CB0     		add	sp, sp, #48
 9789              	.LCFI106:
 9790              		.cfi_remember_state
 9791              		.cfi_def_cfa_offset 16
 9792              		@ sp needed
 9793 0026 70BD     		pop	{r4, r5, r6, pc}
 9794              	.LVL1079:
 9795              	.L697:
 9796              	.LCFI107:
 9797              		.cfi_restore_state
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(djo);
 9798              		.loc 1 3801 3 is_stmt 1 view .LVU3183
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(djo);
 9799              		.loc 1 3801 15 is_stmt 0 view .LVU3184
 9800 0028 0DF58352 		add	r2, sp, #4192
 9801 002c 1032     		adds	r2, r2, #16
 9802 002e D2F8E01F 		ldr	r1, [r2, #4064]
3801:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(djo);
 9803              		.loc 1 3801 10 view .LVU3185
 9804 0032 1CAB     		add	r3, sp, #112
ARM GAS  /tmp/cc9KJrYz.s 			page 298


 9805 0034 C3F8C01F 		str	r1, [r3, #4032]
3802:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&djo, path_old);		/* Check old object */
 9806              		.loc 1 3802 3 is_stmt 1 view .LVU3186
 9807 0038 03A9     		add	r1, sp, #12
 9808 003a C2F8F81F 		str	r1, [r2, #4088]
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (djo.fn[NSFLAG] & NS_DOT))
 9809              		.loc 1 3803 3 view .LVU3187
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (djo.fn[NSFLAG] & NS_DOT))
 9810              		.loc 1 3803 9 is_stmt 0 view .LVU3188
 9811 003e 0199     		ldr	r1, [sp, #4]
 9812 0040 0DF58250 		add	r0, sp, #4160
 9813              	.LVL1080:
3803:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (djo.fn[NSFLAG] & NS_DOT))
 9814              		.loc 1 3803 9 view .LVU3189
 9815 0044 1030     		adds	r0, r0, #16
 9816 0046 FFF7FEFF 		bl	follow_path
 9817              	.LVL1081:
3804:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 9818              		.loc 1 3804 3 is_stmt 1 view .LVU3190
3807:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9819              		.loc 1 3807 3 view .LVU3191
3807:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9820              		.loc 1 3807 6 is_stmt 0 view .LVU3192
 9821 004a 0446     		mov	r4, r0
 9822 004c 30B9     		cbnz	r0, .L689
3807:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9823              		.loc 1 3807 21 is_stmt 1 discriminator 1 view .LVU3193
3807:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9824              		.loc 1 3807 27 is_stmt 0 discriminator 1 view .LVU3194
 9825 004e 0221     		movs	r1, #2
 9826 0050 0DF58250 		add	r0, sp, #4160
 9827              	.LVL1082:
3807:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 9828              		.loc 1 3807 27 discriminator 1 view .LVU3195
 9829 0054 1030     		adds	r0, r0, #16
 9830 0056 FFF7FEFF 		bl	chk_lock
 9831              	.LVL1083:
 9832 005a 0446     		mov	r4, r0
 9833              	.LVL1084:
 9834              	.L689:
3809:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!djo.dir) {						/* Is root dir? */
 9835              		.loc 1 3809 3 is_stmt 1 view .LVU3196
3809:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!djo.dir) {						/* Is root dir? */
 9836              		.loc 1 3809 6 is_stmt 0 view .LVU3197
 9837 005c 002C     		cmp	r4, #0
 9838 005e DED1     		bne	.L688
3810:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_FILE;
 9839              		.loc 1 3810 4 is_stmt 1 view .LVU3198
3810:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_FILE;
 9840              		.loc 1 3810 12 is_stmt 0 view .LVU3199
 9841 0060 0DF50153 		add	r3, sp, #8256
 9842 0064 2433     		adds	r3, r3, #36
 9843 0066 1968     		ldr	r1, [r3]
3810:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_NO_FILE;
 9844              		.loc 1 3810 7 view .LVU3200
 9845 0068 0029     		cmp	r1, #0
 9846 006a 00F08680 		beq	.L692
ARM GAS  /tmp/cc9KJrYz.s 			page 299


3813:Middlewares/Third_Party/FatFs/src/ff.c **** 				mem_cpy(&djn, &djo, sizeof (DIR));		/* Duplicate the directory object */
 9847              		.loc 1 3813 5 is_stmt 1 view .LVU3201
 9848 006e 1522     		movs	r2, #21
 9849 0070 0B31     		adds	r1, r1, #11
 9850 0072 06A8     		add	r0, sp, #24
 9851 0074 FFF7FEFF 		bl	mem_cpy
 9852              	.LVL1085:
3814:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (get_ldnumber(&path_new) >= 0)		/* Snip drive number off and ignore it */
 9853              		.loc 1 3814 5 view .LVU3202
 9854 0078 4FF48152 		mov	r2, #4128
 9855 007c 0DF58251 		add	r1, sp, #4160
 9856 0080 1031     		adds	r1, r1, #16
 9857 0082 0CA8     		add	r0, sp, #48
 9858 0084 FFF7FEFF 		bl	mem_cpy
 9859              	.LVL1086:
3815:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = follow_path(&djn, path_new);	/* and make sure if new object name is not conflicting */
 9860              		.loc 1 3815 5 view .LVU3203
3815:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = follow_path(&djn, path_new);	/* and make sure if new object name is not conflicting */
 9861              		.loc 1 3815 9 is_stmt 0 view .LVU3204
 9862 0088 6846     		mov	r0, sp
 9863 008a FFF7FEFF 		bl	get_ldnumber
 9864              	.LVL1087:
3815:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = follow_path(&djn, path_new);	/* and make sure if new object name is not conflicting */
 9865              		.loc 1 3815 8 view .LVU3205
 9866 008e 0028     		cmp	r0, #0
 9867 0090 38DA     		bge	.L698
3818:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_OK) res = FR_EXIST;		/* The new object name is already existing */
 9868              		.loc 1 3818 10 view .LVU3206
 9869 0092 0B24     		movs	r4, #11
 9870              	.LVL1088:
 9871              	.L690:
3820:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 9872              		.loc 1 3820 5 is_stmt 1 view .LVU3207
3820:Middlewares/Third_Party/FatFs/src/ff.c **** 					res = dir_register(&djn);			/* Register the new entry */
 9873              		.loc 1 3820 8 is_stmt 0 view .LVU3208
 9874 0094 042C     		cmp	r4, #4
 9875 0096 C2D1     		bne	.L688
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 9876              		.loc 1 3821 6 is_stmt 1 view .LVU3209
3821:Middlewares/Third_Party/FatFs/src/ff.c **** 					if (res == FR_OK) {
 9877              		.loc 1 3821 12 is_stmt 0 view .LVU3210
 9878 0098 0CA8     		add	r0, sp, #48
 9879 009a FFF7FEFF 		bl	dir_register
 9880              	.LVL1089:
3822:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where any interruption can cause a cross-link */
 9881              		.loc 1 3822 6 is_stmt 1 view .LVU3211
3822:Middlewares/Third_Party/FatFs/src/ff.c **** /* Start of critical section where any interruption can cause a cross-link */
 9882              		.loc 1 3822 9 is_stmt 0 view .LVU3212
 9883 009e 0446     		mov	r4, r0
 9884 00a0 0028     		cmp	r0, #0
 9885 00a2 BCD1     		bne	.L688
3824:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
 9886              		.loc 1 3824 7 is_stmt 1 view .LVU3213
3824:Middlewares/Third_Party/FatFs/src/ff.c **** 						mem_cpy(dir + 13, buf + 2, 19);
 9887              		.loc 1 3824 11 is_stmt 0 view .LVU3214
 9888 00a4 1CAE     		add	r6, sp, #112
 9889 00a6 D6F8D45F 		ldr	r5, [r6, #4052]
ARM GAS  /tmp/cc9KJrYz.s 			page 300


 9890              	.LVL1090:
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 9891              		.loc 1 3825 7 is_stmt 1 view .LVU3215
 9892 00aa 1322     		movs	r2, #19
 9893 00ac 0DF11A01 		add	r1, sp, #26
 9894 00b0 05F10D00 		add	r0, r5, #13
 9895              	.LVL1091:
3825:Middlewares/Third_Party/FatFs/src/ff.c **** 						dir[DIR_Attr] = buf[0] | AM_ARC;
 9896              		.loc 1 3825 7 is_stmt 0 view .LVU3216
 9897 00b4 FFF7FEFF 		bl	mem_cpy
 9898              	.LVL1092:
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 						djo.fs->wflag = 1;
 9899              		.loc 1 3826 7 is_stmt 1 view .LVU3217
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 						djo.fs->wflag = 1;
 9900              		.loc 1 3826 26 is_stmt 0 view .LVU3218
 9901 00b8 9DF81830 		ldrb	r3, [sp, #24]	@ zero_extendqisi2
3826:Middlewares/Third_Party/FatFs/src/ff.c **** 						djo.fs->wflag = 1;
 9902              		.loc 1 3826 21 view .LVU3219
 9903 00bc 43F02003 		orr	r3, r3, #32
 9904 00c0 EB72     		strb	r3, [r5, #11]
3827:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.sclust != djn.sclust) {	/* Update .. entry in the sub-dir
 9905              		.loc 1 3827 7 is_stmt 1 view .LVU3220
3827:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.sclust != djn.sclust) {	/* Update .. entry in the sub-dir
 9906              		.loc 1 3827 10 is_stmt 0 view .LVU3221
 9907 00c2 0DF50153 		add	r3, sp, #8256
 9908 00c6 1033     		adds	r3, r3, #16
 9909 00c8 1E68     		ldr	r6, [r3]
3827:Middlewares/Third_Party/FatFs/src/ff.c **** 						if ((dir[DIR_Attr] & AM_DIR) && djo.sclust != djn.sclust) {	/* Update .. entry in the sub-dir
 9910              		.loc 1 3827 21 view .LVU3222
 9911 00ca 06F58053 		add	r3, r6, #4096
 9912 00ce 0122     		movs	r2, #1
 9913 00d0 1A71     		strb	r2, [r3, #4]
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
 9914              		.loc 1 3828 7 is_stmt 1 view .LVU3223
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
 9915              		.loc 1 3828 15 is_stmt 0 view .LVU3224
 9916 00d2 EB7A     		ldrb	r3, [r5, #11]	@ zero_extendqisi2
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
 9917              		.loc 1 3828 10 view .LVU3225
 9918 00d4 13F0100F 		tst	r3, #16
 9919 00d8 2DD0     		beq	.L691
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
 9920              		.loc 1 3828 56 discriminator 1 view .LVU3226
 9921 00da 1CAB     		add	r3, sp, #112
 9922 00dc D3F8C83F 		ldr	r3, [r3, #4040]
3828:Middlewares/Third_Party/FatFs/src/ff.c **** 							dw = clust2sect(djo.fs, ld_clust(djo.fs, dir));
 9923              		.loc 1 3828 36 discriminator 1 view .LVU3227
 9924 00e0 0DF50152 		add	r2, sp, #8256
 9925 00e4 1832     		adds	r2, r2, #24
 9926 00e6 1268     		ldr	r2, [r2]
 9927 00e8 9A42     		cmp	r2, r3
 9928 00ea 24D0     		beq	.L691
3829:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 9929              		.loc 1 3829 8 is_stmt 1 view .LVU3228
3829:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (!dw) {
 9930              		.loc 1 3829 13 is_stmt 0 view .LVU3229
 9931 00ec 2946     		mov	r1, r5
ARM GAS  /tmp/cc9KJrYz.s 			page 301


 9932 00ee 3046     		mov	r0, r6
 9933 00f0 FFF7FEFF 		bl	ld_clust
 9934              	.LVL1093:
 9935 00f4 0146     		mov	r1, r0
 9936 00f6 3046     		mov	r0, r6
 9937 00f8 FFF7FEFF 		bl	clust2sect
 9938              	.LVL1094:
3830:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
 9939              		.loc 1 3830 8 is_stmt 1 view .LVU3230
3830:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = FR_INT_ERR;
 9940              		.loc 1 3830 11 is_stmt 0 view .LVU3231
 9941 00fc 0146     		mov	r1, r0
 9942 00fe 50B9     		cbnz	r0, .L699
3831:Middlewares/Third_Party/FatFs/src/ff.c **** 							} else {
 9943              		.loc 1 3831 13 view .LVU3232
 9944 0100 0224     		movs	r4, #2
 9945 0102 8CE7     		b	.L688
 9946              	.LVL1095:
 9947              	.L698:
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
 9948              		.loc 1 3816 6 is_stmt 1 view .LVU3233
3816:Middlewares/Third_Party/FatFs/src/ff.c **** 				else
 9949              		.loc 1 3816 12 is_stmt 0 view .LVU3234
 9950 0104 0099     		ldr	r1, [sp, #0]
 9951 0106 0CA8     		add	r0, sp, #48
 9952 0108 FFF7FEFF 		bl	follow_path
 9953              	.LVL1096:
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
 9954              		.loc 1 3819 5 is_stmt 1 view .LVU3235
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
 9955              		.loc 1 3819 8 is_stmt 0 view .LVU3236
 9956 010c 0446     		mov	r4, r0
 9957 010e 0028     		cmp	r0, #0
 9958 0110 C0D1     		bne	.L690
3819:Middlewares/Third_Party/FatFs/src/ff.c **** 				if (res == FR_NO_FILE) { 				/* It is a valid path and no name collision */
 9959              		.loc 1 3819 27 view .LVU3237
 9960 0112 0824     		movs	r4, #8
 9961 0114 83E7     		b	.L688
 9962              	.LVL1097:
 9963              	.L699:
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = djo.fs->win.d8 + SZ_DIRE * 1;	/* Ptr to .. entry */
 9964              		.loc 1 3833 9 is_stmt 1 view .LVU3238
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = djo.fs->win.d8 + SZ_DIRE * 1;	/* Ptr to .. entry */
 9965              		.loc 1 3833 15 is_stmt 0 view .LVU3239
 9966 0116 3046     		mov	r0, r6
 9967              	.LVL1098:
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = djo.fs->win.d8 + SZ_DIRE * 1;	/* Ptr to .. entry */
 9968              		.loc 1 3833 15 view .LVU3240
 9969 0118 FFF7FEFF 		bl	move_window
 9970              	.LVL1099:
3833:Middlewares/Third_Party/FatFs/src/ff.c **** 								dir = djo.fs->win.d8 + SZ_DIRE * 1;	/* Ptr to .. entry */
 9971              		.loc 1 3833 15 view .LVU3241
 9972 011c 0246     		mov	r2, r0
 9973              	.LVL1100:
3834:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 9974              		.loc 1 3834 9 is_stmt 1 view .LVU3242
3834:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
ARM GAS  /tmp/cc9KJrYz.s 			page 302


 9975              		.loc 1 3834 18 is_stmt 0 view .LVU3243
 9976 011e 0DF50153 		add	r3, sp, #8256
 9977 0122 1033     		adds	r3, r3, #16
 9978 0124 1B68     		ldr	r3, [r3]
3834:Middlewares/Third_Party/FatFs/src/ff.c **** 								if (res == FR_OK && dir[1] == '.') {
 9979              		.loc 1 3834 13 view .LVU3244
 9980 0126 03F12000 		add	r0, r3, #32
 9981              	.LVL1101:
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(dir, djn.sclust);
 9982              		.loc 1 3835 9 is_stmt 1 view .LVU3245
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(dir, djn.sclust);
 9983              		.loc 1 3835 12 is_stmt 0 view .LVU3246
 9984 012a 1446     		mov	r4, r2
 9985 012c 1AB9     		cbnz	r2, .L691
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(dir, djn.sclust);
 9986              		.loc 1 3835 32 discriminator 1 view .LVU3247
 9987 012e 93F82130 		ldrb	r3, [r3, #33]	@ zero_extendqisi2
3835:Middlewares/Third_Party/FatFs/src/ff.c **** 									st_clust(dir, djn.sclust);
 9988              		.loc 1 3835 26 discriminator 1 view .LVU3248
 9989 0132 2E2B     		cmp	r3, #46
 9990 0134 13D0     		beq	.L700
 9991              	.LVL1102:
 9992              	.L691:
3841:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_remove(&djo);		/* Remove old entry */
 9993              		.loc 1 3841 7 is_stmt 1 view .LVU3249
3841:Middlewares/Third_Party/FatFs/src/ff.c **** 							res = dir_remove(&djo);		/* Remove old entry */
 9994              		.loc 1 3841 10 is_stmt 0 view .LVU3250
 9995 0136 002C     		cmp	r4, #0
 9996 0138 7FF471AF 		bne	.L688
3842:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK)
 9997              		.loc 1 3842 8 is_stmt 1 view .LVU3251
3842:Middlewares/Third_Party/FatFs/src/ff.c **** 							if (res == FR_OK)
 9998              		.loc 1 3842 14 is_stmt 0 view .LVU3252
 9999 013c 0DF58250 		add	r0, sp, #4160
 10000 0140 1030     		adds	r0, r0, #16
 10001 0142 FFF7FEFF 		bl	dir_remove
 10002              	.LVL1103:
3843:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = sync_fs(djo.fs);
 10003              		.loc 1 3843 8 is_stmt 1 view .LVU3253
3843:Middlewares/Third_Party/FatFs/src/ff.c **** 								res = sync_fs(djo.fs);
 10004              		.loc 1 3843 11 is_stmt 0 view .LVU3254
 10005 0146 0446     		mov	r4, r0
 10006 0148 0028     		cmp	r0, #0
 10007 014a 7FF468AF 		bne	.L688
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 10008              		.loc 1 3844 9 is_stmt 1 view .LVU3255
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 10009              		.loc 1 3844 15 is_stmt 0 view .LVU3256
 10010 014e 0DF50153 		add	r3, sp, #8256
 10011 0152 1033     		adds	r3, r3, #16
 10012 0154 1868     		ldr	r0, [r3]
 10013              	.LVL1104:
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 10014              		.loc 1 3844 15 view .LVU3257
 10015 0156 FFF7FEFF 		bl	sync_fs
 10016              	.LVL1105:
 10017 015a 0446     		mov	r4, r0
ARM GAS  /tmp/cc9KJrYz.s 			page 303


 10018              	.LVL1106:
3844:Middlewares/Third_Party/FatFs/src/ff.c **** 						}
 10019              		.loc 1 3844 15 view .LVU3258
 10020 015c 5FE7     		b	.L688
 10021              	.LVL1107:
 10022              	.L700:
3836:Middlewares/Third_Party/FatFs/src/ff.c **** 									djo.fs->wflag = 1;
 10023              		.loc 1 3836 10 is_stmt 1 view .LVU3259
 10024 015e 1CAB     		add	r3, sp, #112
 10025 0160 D3F8C81F 		ldr	r1, [r3, #4040]
 10026 0164 FFF7FEFF 		bl	st_clust
 10027              	.LVL1108:
3837:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 10028              		.loc 1 3837 10 view .LVU3260
3837:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 10029              		.loc 1 3837 13 is_stmt 0 view .LVU3261
 10030 0168 0DF50153 		add	r3, sp, #8256
 10031 016c 1033     		adds	r3, r3, #16
 10032 016e 1B68     		ldr	r3, [r3]
3837:Middlewares/Third_Party/FatFs/src/ff.c **** 								}
 10033              		.loc 1 3837 24 view .LVU3262
 10034 0170 03F58053 		add	r3, r3, #4096
 10035 0174 0122     		movs	r2, #1
 10036 0176 1A71     		strb	r2, [r3, #4]
 10037 0178 DDE7     		b	.L691
 10038              	.LVL1109:
 10039              	.L692:
3811:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 10040              		.loc 1 3811 9 view .LVU3263
 10041 017a 0424     		movs	r4, #4
 10042              	.LVL1110:
3811:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {
 10043              		.loc 1 3811 9 view .LVU3264
 10044 017c 4FE7     		b	.L688
 10045              		.cfi_endproc
 10046              	.LFE122:
 10048              		.section	.text.f_utime,"ax",%progbits
 10049              		.align	1
 10050              		.global	f_utime
 10051              		.syntax unified
 10052              		.thumb
 10053              		.thumb_func
 10054              		.fpu softvfp
 10056              	f_utime:
 10057              	.LVL1111:
 10058              	.LFB123:
3868:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10059              		.loc 1 3868 1 is_stmt 1 view -0
 10060              		.cfi_startproc
 10061              		@ args = 0, pretend = 0, frame = 4152
 10062              		@ frame_needed = 0, uses_anonymous_args = 0
3868:Middlewares/Third_Party/FatFs/src/ff.c **** 	FRESULT res;
 10063              		.loc 1 3868 1 is_stmt 0 view .LVU3266
 10064 0000 10B5     		push	{r4, lr}
 10065              	.LCFI108:
 10066              		.cfi_def_cfa_offset 8
 10067              		.cfi_offset 4, -8
ARM GAS  /tmp/cc9KJrYz.s 			page 304


 10068              		.cfi_offset 14, -4
 10069 0002 ADF5815D 		sub	sp, sp, #4128
 10070              	.LCFI109:
 10071              		.cfi_def_cfa_offset 4136
 10072 0006 86B0     		sub	sp, sp, #24
 10073              	.LCFI110:
 10074              		.cfi_def_cfa_offset 4160
 10075 0008 0190     		str	r0, [sp, #4]
 10076 000a 0C46     		mov	r4, r1
3869:Middlewares/Third_Party/FatFs/src/ff.c **** 	DIR dj;
 10077              		.loc 1 3869 2 is_stmt 1 view .LVU3267
3870:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE *dir;
 10078              		.loc 1 3870 2 view .LVU3268
3871:Middlewares/Third_Party/FatFs/src/ff.c **** 	DEFINE_NAMEBUF;
 10079              		.loc 1 3871 2 view .LVU3269
3872:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10080              		.loc 1 3872 2 view .LVU3270
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10081              		.loc 1 3876 2 view .LVU3271
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10082              		.loc 1 3876 8 is_stmt 0 view .LVU3272
 10083 000c 0122     		movs	r2, #1
 10084 000e 01A9     		add	r1, sp, #4
 10085              	.LVL1112:
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10086              		.loc 1 3876 8 view .LVU3273
 10087 0010 0DF58050 		add	r0, sp, #4096
 10088              	.LVL1113:
3876:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (res == FR_OK) {
 10089              		.loc 1 3876 8 view .LVU3274
 10090 0014 1830     		adds	r0, r0, #24
 10091 0016 FFF7FEFF 		bl	find_volume
 10092              	.LVL1114:
3877:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 10093              		.loc 1 3877 2 is_stmt 1 view .LVU3275
3877:Middlewares/Third_Party/FatFs/src/ff.c **** 		INIT_BUF(dj);
 10094              		.loc 1 3877 5 is_stmt 0 view .LVU3276
 10095 001a 18B1     		cbz	r0, .L705
 10096              	.L702:
 10097              	.LVL1115:
3896:Middlewares/Third_Party/FatFs/src/ff.c **** }
 10098              		.loc 1 3896 2 is_stmt 1 view .LVU3277
3897:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10099              		.loc 1 3897 1 is_stmt 0 view .LVU3278
 10100 001c 0DF5815D 		add	sp, sp, #4128
 10101 0020 06B0     		add	sp, sp, #24
 10102              	.LCFI111:
 10103              		.cfi_remember_state
 10104              		.cfi_def_cfa_offset 8
 10105              		@ sp needed
 10106 0022 10BD     		pop	{r4, pc}
 10107              	.LVL1116:
 10108              	.L705:
 10109              	.LCFI112:
 10110              		.cfi_restore_state
3878:Middlewares/Third_Party/FatFs/src/ff.c **** 		res = follow_path(&dj, path);	/* Follow the file path */
 10111              		.loc 1 3878 3 is_stmt 1 view .LVU3279
ARM GAS  /tmp/cc9KJrYz.s 			page 305


 10112 0024 0EAB     		add	r3, sp, #56
 10113 0026 03AA     		add	r2, sp, #12
 10114 0028 C3F8F82F 		str	r2, [r3, #4088]
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 10115              		.loc 1 3879 3 view .LVU3280
3879:Middlewares/Third_Party/FatFs/src/ff.c **** 		FREE_BUF();
 10116              		.loc 1 3879 9 is_stmt 0 view .LVU3281
 10117 002c 0199     		ldr	r1, [sp, #4]
 10118 002e 06A8     		add	r0, sp, #24
 10119 0030 FFF7FEFF 		bl	follow_path
 10120              	.LVL1117:
3880:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (_FS_RPATH && res == FR_OK && (dj.fn[NSFLAG] & NS_DOT))
 10121              		.loc 1 3880 13 is_stmt 1 view .LVU3282
3881:Middlewares/Third_Party/FatFs/src/ff.c **** 			res = FR_INVALID_NAME;
 10122              		.loc 1 3881 3 view .LVU3283
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 10123              		.loc 1 3883 3 view .LVU3284
3883:Middlewares/Third_Party/FatFs/src/ff.c **** 			dir = dj.dir;
 10124              		.loc 1 3883 6 is_stmt 0 view .LVU3285
 10125 0034 0028     		cmp	r0, #0
 10126 0036 F1D1     		bne	.L702
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {					/* Root directory */
 10127              		.loc 1 3884 4 is_stmt 1 view .LVU3286
3884:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!dir) {					/* Root directory */
 10128              		.loc 1 3884 8 is_stmt 0 view .LVU3287
 10129 0038 0DF58153 		add	r3, sp, #4128
 10130 003c 0C33     		adds	r3, r3, #12
 10131 003e 1B68     		ldr	r3, [r3]
 10132              	.LVL1118:
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 10133              		.loc 1 3885 4 is_stmt 1 view .LVU3288
3885:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = FR_INVALID_NAME;
 10134              		.loc 1 3885 7 is_stmt 0 view .LVU3289
 10135 0040 A3B1     		cbz	r3, .L703
3888:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_WrtDate, fno->fdate);
 10136              		.loc 1 3888 5 is_stmt 1 view .LVU3290
 10137 0042 A279     		ldrb	r2, [r4, #6]	@ zero_extendqisi2
 10138 0044 9A75     		strb	r2, [r3, #22]
3888:Middlewares/Third_Party/FatFs/src/ff.c **** 				ST_WORD(dir + DIR_WrtDate, fno->fdate);
 10139              		.loc 1 3888 5 view .LVU3291
 10140 0046 E288     		ldrh	r2, [r4, #6]
 10141 0048 120A     		lsrs	r2, r2, #8
 10142 004a DA75     		strb	r2, [r3, #23]
3889:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 10143              		.loc 1 3889 5 view .LVU3292
 10144 004c 2279     		ldrb	r2, [r4, #4]	@ zero_extendqisi2
 10145 004e 1A76     		strb	r2, [r3, #24]
3889:Middlewares/Third_Party/FatFs/src/ff.c **** 				dj.fs->wflag = 1;
 10146              		.loc 1 3889 5 view .LVU3293
 10147 0050 A288     		ldrh	r2, [r4, #4]
 10148 0052 120A     		lsrs	r2, r2, #8
 10149 0054 5A76     		strb	r2, [r3, #25]
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 10150              		.loc 1 3890 5 view .LVU3294
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 10151              		.loc 1 3890 7 is_stmt 0 view .LVU3295
 10152 0056 0DF58053 		add	r3, sp, #4096
ARM GAS  /tmp/cc9KJrYz.s 			page 306


 10153              	.LVL1119:
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 10154              		.loc 1 3890 7 view .LVU3296
 10155 005a 1833     		adds	r3, r3, #24
 10156 005c 1868     		ldr	r0, [r3]
 10157              	.LVL1120:
3890:Middlewares/Third_Party/FatFs/src/ff.c **** 				res = sync_fs(dj.fs);
 10158              		.loc 1 3890 18 view .LVU3297
 10159 005e 00F58053 		add	r3, r0, #4096
 10160 0062 0122     		movs	r2, #1
 10161 0064 1A71     		strb	r2, [r3, #4]
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10162              		.loc 1 3891 5 is_stmt 1 view .LVU3298
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10163              		.loc 1 3891 11 is_stmt 0 view .LVU3299
 10164 0066 FFF7FEFF 		bl	sync_fs
 10165              	.LVL1121:
3891:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
 10166              		.loc 1 3891 11 view .LVU3300
 10167 006a D7E7     		b	.L702
 10168              	.LVL1122:
 10169              	.L703:
3886:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* File or sub-directory */
 10170              		.loc 1 3886 9 view .LVU3301
 10171 006c 0620     		movs	r0, #6
 10172              	.LVL1123:
3886:Middlewares/Third_Party/FatFs/src/ff.c **** 			} else {					/* File or sub-directory */
 10173              		.loc 1 3886 9 view .LVU3302
 10174 006e D5E7     		b	.L702
 10175              		.cfi_endproc
 10176              	.LFE123:
 10178              		.section	.rodata.f_mkfs.str1.4,"aMS",%progbits,1
 10179              		.align	2
 10180              	.LC1:
 10181 0000 EBFE904D 		.ascii	"\353\376\220MSDOS5.0\000"
 10181      53444F53 
 10181      352E3000 
 10182              		.align	2
 10183              	.LC2:
 10184 000c 4E4F204E 		.ascii	"NO NAME    FAT32   \000"
 10184      414D4520 
 10184      20202046 
 10184      41543332 
 10184      20202000 
 10185              		.align	2
 10186              	.LC3:
 10187 0020 4E4F204E 		.ascii	"NO NAME    FAT     \000"
 10187      414D4520 
 10187      20202046 
 10187      41542020 
 10187      20202000 
 10188              		.section	.text.f_mkfs,"ax",%progbits
 10189              		.align	1
 10190              		.global	f_mkfs
 10191              		.syntax unified
 10192              		.thumb
 10193              		.thumb_func
ARM GAS  /tmp/cc9KJrYz.s 			page 307


 10194              		.fpu softvfp
 10196              	f_mkfs:
 10197              	.LVL1124:
 10198              	.LFB124:
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD vst[] = { 1024,   512,  256,  128,   64,    32,   16,    8,    4,    2,   0};
 10199              		.loc 1 4143 1 is_stmt 1 view -0
 10200              		.cfi_startproc
 10201              		@ args = 0, pretend = 0, frame = 40
 10202              		@ frame_needed = 0, uses_anonymous_args = 0
4143:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD vst[] = { 1024,   512,  256,  128,   64,    32,   16,    8,    4,    2,   0};
 10203              		.loc 1 4143 1 is_stmt 0 view .LVU3304
 10204 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 10205              	.LCFI113:
 10206              		.cfi_def_cfa_offset 36
 10207              		.cfi_offset 4, -36
 10208              		.cfi_offset 5, -32
 10209              		.cfi_offset 6, -28
 10210              		.cfi_offset 7, -24
 10211              		.cfi_offset 8, -20
 10212              		.cfi_offset 9, -16
 10213              		.cfi_offset 10, -12
 10214              		.cfi_offset 11, -8
 10215              		.cfi_offset 14, -4
 10216 0004 8BB0     		sub	sp, sp, #44
 10217              	.LCFI114:
 10218              		.cfi_def_cfa_offset 80
 10219 0006 0790     		str	r0, [sp, #28]
4144:Middlewares/Third_Party/FatFs/src/ff.c **** 	static const WORD cst[] = {32768, 16384, 8192, 4096, 2048, 16384, 8192, 4096, 2048, 1024, 512};
 10220              		.loc 1 4144 2 is_stmt 1 view .LVU3305
4145:Middlewares/Third_Party/FatFs/src/ff.c **** 	int vol;
 10221              		.loc 1 4145 2 view .LVU3306
4146:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE fmt, md, sys, *tbl, pdrv, part;
 10222              		.loc 1 4146 2 view .LVU3307
4147:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n_clst, vs, n, wsect;
 10223              		.loc 1 4147 2 view .LVU3308
4148:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT i;
 10224              		.loc 1 4148 2 view .LVU3309
4149:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD b_vol, b_fat, b_dir, b_data;	/* LBA */
 10225              		.loc 1 4149 2 view .LVU3310
4150:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD n_vol, n_rsv, n_fat, n_dir;	/* Size */
 10226              		.loc 1 4150 2 view .LVU3311
4151:Middlewares/Third_Party/FatFs/src/ff.c **** 	FATFS *fs;
 10227              		.loc 1 4151 2 view .LVU3312
4152:Middlewares/Third_Party/FatFs/src/ff.c **** 	DSTATUS stat;
 10228              		.loc 1 4152 2 view .LVU3313
4153:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_TRIM
 10229              		.loc 1 4153 2 view .LVU3314
4160:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
 10230              		.loc 1 4160 2 view .LVU3315
4160:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
 10231              		.loc 1 4160 5 is_stmt 0 view .LVU3316
 10232 0008 0129     		cmp	r1, #1
 10233 000a 00F20483 		bhi	.L746
 10234 000e 8846     		mov	r8, r1
 10235 0010 1546     		mov	r5, r2
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 10236              		.loc 1 4161 2 is_stmt 1 view .LVU3317
ARM GAS  /tmp/cc9KJrYz.s 			page 308


4161:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 10237              		.loc 1 4161 8 is_stmt 0 view .LVU3318
 10238 0012 07A8     		add	r0, sp, #28
 10239              	.LVL1125:
4161:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (vol < 0) return FR_INVALID_DRIVE;
 10240              		.loc 1 4161 8 view .LVU3319
 10241 0014 FFF7FEFF 		bl	get_ldnumber
 10242              	.LVL1126:
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
 10243              		.loc 1 4162 2 is_stmt 1 view .LVU3320
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
 10244              		.loc 1 4162 5 is_stmt 0 view .LVU3321
 10245 0018 0028     		cmp	r0, #0
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
 10246              		.loc 1 4162 5 view .LVU3322
 10247 001a C0F20083 		blt	.L747
4163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;
 10248              		.loc 1 4163 2 is_stmt 1 view .LVU3323
4163:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!fs) return FR_NOT_ENABLED;
 10249              		.loc 1 4163 5 is_stmt 0 view .LVU3324
 10250 001e AC4B     		ldr	r3, .L791
 10251 0020 53F82060 		ldr	r6, [r3, r0, lsl #2]
 10252              	.LVL1127:
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
 10253              		.loc 1 4164 2 is_stmt 1 view .LVU3325
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
 10254              		.loc 1 4164 5 is_stmt 0 view .LVU3326
 10255 0024 002E     		cmp	r6, #0
 10256 0026 00F0FC82 		beq	.L748
4165:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 10257              		.loc 1 4165 2 is_stmt 1 view .LVU3327
4165:Middlewares/Third_Party/FatFs/src/ff.c **** 	pdrv = LD2PD(vol);	/* Physical drive */
 10258              		.loc 1 4165 14 is_stmt 0 view .LVU3328
 10259 002a 06F58053 		add	r3, r6, #4096
 10260 002e 0022     		movs	r2, #0
 10261 0030 1A70     		strb	r2, [r3]
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:auto detect, 1-4:get from partition table)*/
 10262              		.loc 1 4166 2 is_stmt 1 view .LVU3329
4166:Middlewares/Third_Party/FatFs/src/ff.c **** 	part = LD2PT(vol);	/* Partition (0:auto detect, 1-4:get from partition table)*/
 10263              		.loc 1 4166 7 is_stmt 0 view .LVU3330
 10264 0032 C4B2     		uxtb	r4, r0
 10265              	.LVL1128:
4167:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10266              		.loc 1 4167 2 is_stmt 1 view .LVU3331
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 10267              		.loc 1 4170 2 view .LVU3332
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 10268              		.loc 1 4170 9 is_stmt 0 view .LVU3333
 10269 0034 2046     		mov	r0, r4
 10270              	.LVL1129:
4170:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_NOINIT) return FR_NOT_READY;
 10271              		.loc 1 4170 9 view .LVU3334
 10272 0036 FFF7FEFF 		bl	disk_initialize
 10273              	.LVL1130:
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 10274              		.loc 1 4171 2 is_stmt 1 view .LVU3335
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
ARM GAS  /tmp/cc9KJrYz.s 			page 309


 10275              		.loc 1 4171 5 is_stmt 0 view .LVU3336
 10276 003a 10F0010F 		tst	r0, #1
 10277 003e 40F0F282 		bne	.L749
4172:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get disk sector size */
 10278              		.loc 1 4172 2 is_stmt 1 view .LVU3337
4172:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get disk sector size */
 10279              		.loc 1 4172 5 is_stmt 0 view .LVU3338
 10280 0042 10F0040F 		tst	r0, #4
 10281 0046 40F0F082 		bne	.L750
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 10282              		.loc 1 4174 2 is_stmt 1 view .LVU3339
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 10283              		.loc 1 4174 6 is_stmt 0 view .LVU3340
 10284 004a 06F58052 		add	r2, r6, #4096
 10285 004e 0A32     		adds	r2, r2, #10
 10286 0050 0221     		movs	r1, #2
 10287 0052 2046     		mov	r0, r4
 10288              	.LVL1131:
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 10289              		.loc 1 4174 6 view .LVU3341
 10290 0054 FFF7FEFF 		bl	disk_ioctl
 10291              	.LVL1132:
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 10292              		.loc 1 4174 5 view .LVU3342
 10293 0058 0028     		cmp	r0, #0
 10294 005a 40F0E882 		bne	.L751
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 10295              		.loc 1 4174 62 discriminator 1 view .LVU3343
 10296 005e 06F58053 		add	r3, r6, #4096
 10297 0062 5B89     		ldrh	r3, [r3, #10]
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 10298              		.loc 1 4174 59 discriminator 1 view .LVU3344
 10299 0064 B3F5805F 		cmp	r3, #4096
 10300 0068 00F2E382 		bhi	.L752
4174:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 10301              		.loc 1 4174 79 discriminator 2 view .LVU3345
 10302 006c B3F5007F 		cmp	r3, #512
 10303 0070 01D2     		bcs	.L777
4175:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 10304              		.loc 1 4175 10 view .LVU3346
 10305 0072 0120     		movs	r0, #1
 10306 0074 D0E2     		b	.L707
 10307              	.L777:
4177:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get partition information from partition table in the MBR */
 10308              		.loc 1 4177 2 is_stmt 1 view .LVU3347
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10309              		.loc 1 4187 3 view .LVU3348
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10310              		.loc 1 4187 7 is_stmt 0 view .LVU3349
 10311 0076 08AA     		add	r2, sp, #32
 10312 0078 0121     		movs	r1, #1
 10313 007a 2046     		mov	r0, r4
 10314 007c FFF7FEFF 		bl	disk_ioctl
 10315              	.LVL1133:
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10316              		.loc 1 4187 6 view .LVU3350
 10317 0080 0028     		cmp	r0, #0
ARM GAS  /tmp/cc9KJrYz.s 			page 310


 10318 0082 40F0D882 		bne	.L754
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10319              		.loc 1 4187 69 discriminator 1 view .LVU3351
 10320 0086 0898     		ldr	r0, [sp, #32]
4187:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 10321              		.loc 1 4187 60 discriminator 1 view .LVU3352
 10322 0088 7F28     		cmp	r0, #127
 10323 008a 40F2D682 		bls	.L755
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol -= b_vol;				/* Volume size */
 10324              		.loc 1 4189 3 is_stmt 1 view .LVU3353
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol -= b_vol;				/* Volume size */
 10325              		.loc 1 4189 21 is_stmt 0 view .LVU3354
 10326 008e B8F1000F 		cmp	r8, #0
 10327 0092 14D0     		beq	.L756
 10328 0094 0023     		movs	r3, #0
 10329 0096 0193     		str	r3, [sp, #4]
 10330              	.L708:
 10331              	.LVL1134:
4190:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10332              		.loc 1 4190 3 is_stmt 1 discriminator 4 view .LVU3355
4190:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10333              		.loc 1 4190 9 is_stmt 0 discriminator 4 view .LVU3356
 10334 0098 019B     		ldr	r3, [sp, #4]
 10335 009a C01A     		subs	r0, r0, r3
 10336 009c 0890     		str	r0, [sp, #32]
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) {						/* AU auto selection */
 10337              		.loc 1 4193 2 is_stmt 1 discriminator 4 view .LVU3357
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) {						/* AU auto selection */
 10338              		.loc 1 4193 15 is_stmt 0 discriminator 4 view .LVU3358
 10339 009e 6B1E     		subs	r3, r5, #1
4193:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) {						/* AU auto selection */
 10340              		.loc 1 4193 5 discriminator 4 view .LVU3359
 10341 00a0 1D42     		tst	r5, r3
 10342 00a2 00D1     		bne	.L709
4194:Middlewares/Third_Party/FatFs/src/ff.c **** 		vs = n_vol / (2000 / (SS(fs) / 512));
 10343              		.loc 1 4194 2 is_stmt 1 view .LVU3360
4194:Middlewares/Third_Party/FatFs/src/ff.c **** 		vs = n_vol / (2000 / (SS(fs) / 512));
 10344              		.loc 1 4194 5 is_stmt 0 view .LVU3361
 10345 00a4 BDB9     		cbnz	r5, .L710
 10346              	.L709:
 10347              	.LVL1135:
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; vs < vst[i]; i++) ;
 10348              		.loc 1 4195 3 is_stmt 1 view .LVU3362
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; vs < vst[i]; i++) ;
 10349              		.loc 1 4195 25 is_stmt 0 view .LVU3363
 10350 00a6 06F58053 		add	r3, r6, #4096
 10351 00aa 5B89     		ldrh	r3, [r3, #10]
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; vs < vst[i]; i++) ;
 10352              		.loc 1 4195 32 view .LVU3364
 10353 00ac 5B0A     		lsrs	r3, r3, #9
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; vs < vst[i]; i++) ;
 10354              		.loc 1 4195 22 view .LVU3365
 10355 00ae 4FF4FA61 		mov	r1, #2000
 10356 00b2 91FBF3F1 		sdiv	r1, r1, r3
4195:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (i = 0; vs < vst[i]; i++) ;
 10357              		.loc 1 4195 6 view .LVU3366
 10358 00b6 B0FBF1F1 		udiv	r1, r0, r1
ARM GAS  /tmp/cc9KJrYz.s 			page 311


 10359              	.LVL1136:
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 10360              		.loc 1 4196 3 is_stmt 1 view .LVU3367
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 10361              		.loc 1 4196 10 is_stmt 0 view .LVU3368
 10362 00ba 0023     		movs	r3, #0
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 10363              		.loc 1 4196 3 view .LVU3369
 10364 00bc 03E0     		b	.L711
 10365              	.LVL1137:
 10366              	.L756:
4189:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_vol -= b_vol;				/* Volume size */
 10367              		.loc 1 4189 21 view .LVU3370
 10368 00be 3F23     		movs	r3, #63
 10369 00c0 0193     		str	r3, [sp, #4]
 10370 00c2 E9E7     		b	.L708
 10371              	.LVL1138:
 10372              	.L712:
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 10373              		.loc 1 4196 33 is_stmt 1 discriminator 3 view .LVU3371
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 10374              		.loc 1 4196 28 discriminator 3 view .LVU3372
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 10375              		.loc 1 4196 29 is_stmt 0 discriminator 3 view .LVU3373
 10376 00c4 0133     		adds	r3, r3, #1
 10377              	.LVL1139:
 10378              	.L711:
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 10379              		.loc 1 4196 15 is_stmt 1 discriminator 1 view .LVU3374
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 10380              		.loc 1 4196 23 is_stmt 0 discriminator 1 view .LVU3375
 10381 00c6 834A     		ldr	r2, .L791+4
 10382 00c8 32F81320 		ldrh	r2, [r2, r3, lsl #1]
4196:Middlewares/Third_Party/FatFs/src/ff.c **** 		au = cst[i];
 10383              		.loc 1 4196 3 discriminator 1 view .LVU3376
 10384 00cc 9142     		cmp	r1, r2
 10385 00ce F9D3     		bcc	.L712
4197:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10386              		.loc 1 4197 3 is_stmt 1 view .LVU3377
4197:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10387              		.loc 1 4197 11 is_stmt 0 view .LVU3378
 10388 00d0 814A     		ldr	r2, .L791+8
 10389 00d2 32F81350 		ldrh	r5, [r2, r3, lsl #1]
 10390              	.LVL1140:
 10391              	.L710:
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
 10392              		.loc 1 4199 2 is_stmt 1 view .LVU3379
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
 10393              		.loc 1 4199 5 is_stmt 0 view .LVU3380
 10394 00d6 B5F5007F 		cmp	r5, #512
 10395 00da 04D3     		bcc	.L713
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
 10396              		.loc 1 4199 21 is_stmt 1 discriminator 1 view .LVU3381
4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
 10397              		.loc 1 4199 27 is_stmt 0 discriminator 1 view .LVU3382
 10398 00dc 06F58053 		add	r3, r6, #4096
 10399 00e0 5B89     		ldrh	r3, [r3, #10]
ARM GAS  /tmp/cc9KJrYz.s 			page 312


4199:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (!au) au = 1;
 10400              		.loc 1 4199 24 discriminator 1 view .LVU3383
 10401 00e2 B5FBF3F5 		udiv	r5, r5, r3
 10402              	.LVL1141:
 10403              	.L713:
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au > 128) au = 128;
 10404              		.loc 1 4200 2 is_stmt 1 view .LVU3384
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au > 128) au = 128;
 10405              		.loc 1 4200 5 is_stmt 0 view .LVU3385
 10406 00e6 1DB1     		cbz	r5, .L757
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10407              		.loc 1 4201 2 is_stmt 1 view .LVU3386
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10408              		.loc 1 4201 5 is_stmt 0 view .LVU3387
 10409 00e8 802D     		cmp	r5, #128
 10410 00ea 02D9     		bls	.L714
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10411              		.loc 1 4201 19 view .LVU3388
 10412 00ec 8025     		movs	r5, #128
 10413              	.LVL1142:
4201:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10414              		.loc 1 4201 19 view .LVU3389
 10415 00ee 00E0     		b	.L714
 10416              	.LVL1143:
 10417              	.L757:
4200:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (au > 128) au = 128;
 10418              		.loc 1 4200 14 view .LVU3390
 10419 00f0 0125     		movs	r5, #1
 10420              	.LVL1144:
 10421              	.L714:
4204:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 10422              		.loc 1 4204 2 is_stmt 1 view .LVU3391
4204:Middlewares/Third_Party/FatFs/src/ff.c **** 	fmt = FS_FAT12;
 10423              		.loc 1 4204 9 is_stmt 0 view .LVU3392
 10424 00f2 B0FBF5F3 		udiv	r3, r0, r5
 10425              	.LVL1145:
4205:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT16) fmt = FS_FAT16;
 10426              		.loc 1 4205 2 is_stmt 1 view .LVU3393
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT32) fmt = FS_FAT32;
 10427              		.loc 1 4206 2 view .LVU3394
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT32) fmt = FS_FAT32;
 10428              		.loc 1 4206 5 is_stmt 0 view .LVU3395
 10429 00f6 40F6F572 		movw	r2, #4085
 10430 00fa 9342     		cmp	r3, r2
 10431 00fc 1CD8     		bhi	.L759
4205:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT16) fmt = FS_FAT16;
 10432              		.loc 1 4205 6 view .LVU3396
 10433 00fe 4FF0010A 		mov	r10, #1
 10434              	.L715:
 10435              	.LVL1146:
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10436              		.loc 1 4207 2 is_stmt 1 view .LVU3397
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10437              		.loc 1 4207 5 is_stmt 0 view .LVU3398
 10438 0102 4FF6F572 		movw	r2, #65525
 10439 0106 9342     		cmp	r3, r2
 10440 0108 19D8     		bhi	.L760
ARM GAS  /tmp/cc9KJrYz.s 			page 313


4210:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = ((n_clst * 4) + 8 + SS(fs) - 1) / SS(fs);
 10441              		.loc 1 4210 2 is_stmt 1 view .LVU3399
4210:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = ((n_clst * 4) + 8 + SS(fs) - 1) / SS(fs);
 10442              		.loc 1 4210 5 is_stmt 0 view .LVU3400
 10443 010a BAF1030F 		cmp	r10, #3
 10444 010e 18D0     		beq	.L716
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 10445              		.loc 1 4215 3 is_stmt 1 view .LVU3401
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 10446              		.loc 1 4215 56 is_stmt 0 view .LVU3402
 10447 0110 BAF1010F 		cmp	r10, #1
 10448 0114 66D0     		beq	.L778
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 10449              		.loc 1 4215 71 discriminator 2 view .LVU3403
 10450 0116 9F1C     		adds	r7, r3, #2
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 10451              		.loc 1 4215 56 discriminator 2 view .LVU3404
 10452 0118 7F00     		lsls	r7, r7, #1
 10453              	.LVL1147:
 10454              	.L720:
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 1;
 10455              		.loc 1 4216 3 is_stmt 1 discriminator 4 view .LVU3405
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 1;
 10456              		.loc 1 4216 20 is_stmt 0 discriminator 4 view .LVU3406
 10457 011a 06F58053 		add	r3, r6, #4096
 10458 011e 5B89     		ldrh	r3, [r3, #10]
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 1;
 10459              		.loc 1 4216 18 discriminator 4 view .LVU3407
 10460 0120 1F44     		add	r7, r7, r3
 10461              	.LVL1148:
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 1;
 10462              		.loc 1 4216 27 discriminator 4 view .LVU3408
 10463 0122 013F     		subs	r7, r7, #1
4216:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 1;
 10464              		.loc 1 4216 9 discriminator 4 view .LVU3409
 10465 0124 B7FBF3F7 		udiv	r7, r7, r3
 10466              	.LVL1149:
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = (DWORD)N_ROOTDIR * SZ_DIRE / SS(fs);
 10467              		.loc 1 4217 3 is_stmt 1 discriminator 4 view .LVU3410
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10468              		.loc 1 4218 3 discriminator 4 view .LVU3411
4218:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10469              		.loc 1 4218 38 is_stmt 0 discriminator 4 view .LVU3412
 10470 0128 4FF48042 		mov	r2, #16384
 10471 012c B2FBF3F3 		udiv	r3, r2, r3
 10472 0130 0293     		str	r3, [sp, #8]
 10473              	.LVL1150:
4217:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = (DWORD)N_ROOTDIR * SZ_DIRE / SS(fs);
 10474              		.loc 1 4217 9 discriminator 4 view .LVU3413
 10475 0132 4FF0010B 		mov	fp, #1
 10476 0136 11E0     		b	.L718
 10477              	.LVL1151:
 10478              	.L759:
4206:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_clst >= MIN_FAT32) fmt = FS_FAT32;
 10479              		.loc 1 4206 31 view .LVU3414
 10480 0138 4FF0020A 		mov	r10, #2
 10481 013c E1E7     		b	.L715
ARM GAS  /tmp/cc9KJrYz.s 			page 314


 10482              	.LVL1152:
 10483              	.L760:
4207:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10484              		.loc 1 4207 31 view .LVU3415
 10485 013e 4FF0030A 		mov	r10, #3
 10486              	.LVL1153:
 10487              	.L716:
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
 10488              		.loc 1 4211 3 is_stmt 1 view .LVU3416
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
 10489              		.loc 1 4211 25 is_stmt 0 view .LVU3417
 10490 0142 9F1C     		adds	r7, r3, #2
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
 10491              		.loc 1 4211 31 view .LVU3418
 10492 0144 06F58053 		add	r3, r6, #4096
 10493              	.LVL1154:
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
 10494              		.loc 1 4211 31 view .LVU3419
 10495 0148 5B89     		ldrh	r3, [r3, #10]
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
 10496              		.loc 1 4211 29 view .LVU3420
 10497 014a 03EB8707 		add	r7, r3, r7, lsl #2
 10498              	.LVL1155:
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
 10499              		.loc 1 4211 38 view .LVU3421
 10500 014e 013F     		subs	r7, r7, #1
4211:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv = 32;
 10501              		.loc 1 4211 9 view .LVU3422
 10502 0150 B7FBF3F7 		udiv	r7, r7, r3
 10503              	.LVL1156:
4212:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = 0;
 10504              		.loc 1 4212 3 is_stmt 1 view .LVU3423
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 10505              		.loc 1 4213 3 view .LVU3424
4213:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 10506              		.loc 1 4213 9 is_stmt 0 view .LVU3425
 10507 0154 0023     		movs	r3, #0
 10508 0156 0293     		str	r3, [sp, #8]
4212:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_dir = 0;
 10509              		.loc 1 4212 9 view .LVU3426
 10510 0158 4FF0200B 		mov	fp, #32
 10511              	.LVL1157:
 10512              	.L718:
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_dir = b_fat + n_fat * N_FATS;		/* Directory area start sector */
 10513              		.loc 1 4220 2 is_stmt 1 view .LVU3427
4220:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_dir = b_fat + n_fat * N_FATS;		/* Directory area start sector */
 10514              		.loc 1 4220 8 is_stmt 0 view .LVU3428
 10515 015c 019A     		ldr	r2, [sp, #4]
 10516 015e 0BEB0203 		add	r3, fp, r2
 10517 0162 0393     		str	r3, [sp, #12]
 10518              	.LVL1158:
4221:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_data = b_dir + n_dir;				/* Data area start sector */
 10519              		.loc 1 4221 2 is_stmt 1 view .LVU3429
4221:Middlewares/Third_Party/FatFs/src/ff.c **** 	b_data = b_dir + n_dir;				/* Data area start sector */
 10520              		.loc 1 4221 8 is_stmt 0 view .LVU3430
 10521 0164 07EB0309 		add	r9, r7, r3
 10522              	.LVL1159:
ARM GAS  /tmp/cc9KJrYz.s 			page 315


4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < b_data + au - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
 10523              		.loc 1 4222 2 is_stmt 1 view .LVU3431
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < b_data + au - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
 10524              		.loc 1 4222 9 is_stmt 0 view .LVU3432
 10525 0168 029B     		ldr	r3, [sp, #8]
 10526              	.LVL1160:
4222:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < b_data + au - b_vol) return FR_MKFS_ABORTED;	/* Too small volume */
 10527              		.loc 1 4222 9 view .LVU3433
 10528 016a 9944     		add	r9, r9, r3
 10529              	.LVL1161:
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10530              		.loc 1 4223 2 is_stmt 1 view .LVU3434
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10531              		.loc 1 4223 21 is_stmt 0 view .LVU3435
 10532 016c 05EB0903 		add	r3, r5, r9
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10533              		.loc 1 4223 26 view .LVU3436
 10534 0170 9B1A     		subs	r3, r3, r2
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10535              		.loc 1 4223 5 view .LVU3437
 10536 0172 9842     		cmp	r0, r3
 10537 0174 C0F06382 		bcc	.L761
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 10538              		.loc 1 4226 2 is_stmt 1 view .LVU3438
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 10539              		.loc 1 4226 6 is_stmt 0 view .LVU3439
 10540 0178 09AA     		add	r2, sp, #36
 10541 017a 0321     		movs	r1, #3
 10542 017c 2046     		mov	r0, r4
 10543              	.LVL1162:
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 10544              		.loc 1 4226 6 view .LVU3440
 10545 017e FFF7FEFF 		bl	disk_ioctl
 10546              	.LVL1163:
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 10547              		.loc 1 4226 5 view .LVU3441
 10548 0182 20B9     		cbnz	r0, .L721
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 10549              		.loc 1 4226 56 discriminator 2 view .LVU3442
 10550 0184 099B     		ldr	r3, [sp, #36]
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 10551              		.loc 1 4226 53 discriminator 2 view .LVU3443
 10552 0186 13B1     		cbz	r3, .L721
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 10553              		.loc 1 4226 59 discriminator 4 view .LVU3444
 10554 0188 B3F5004F 		cmp	r3, #32768
 10555 018c 01D9     		bls	.L722
 10556              	.L721:
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 10557              		.loc 1 4226 73 is_stmt 1 discriminator 5 view .LVU3445
4226:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (b_data + n - 1) & ~(n - 1);	/* Next nearest erase block from current data start */
 10558              		.loc 1 4226 75 is_stmt 0 discriminator 5 view .LVU3446
 10559 018e 0123     		movs	r3, #1
 10560 0190 0993     		str	r3, [sp, #36]
 10561              	.L722:
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 10562              		.loc 1 4227 2 is_stmt 1 view .LVU3447
ARM GAS  /tmp/cc9KJrYz.s 			page 316


4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 10563              		.loc 1 4227 14 is_stmt 0 view .LVU3448
 10564 0192 099A     		ldr	r2, [sp, #36]
 10565 0194 02EB0903 		add	r3, r2, r9
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 10566              		.loc 1 4227 18 view .LVU3449
 10567 0198 013B     		subs	r3, r3, #1
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 10568              		.loc 1 4227 25 view .LVU3450
 10569 019a 5242     		rsbs	r2, r2, #0
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 10570              		.loc 1 4227 23 view .LVU3451
 10571 019c 1340     		ands	r3, r3, r2
4227:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = (n - b_data) / N_FATS;
 10572              		.loc 1 4227 4 view .LVU3452
 10573 019e 0993     		str	r3, [sp, #36]
4228:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {		/* FAT32: Move FAT offset */
 10574              		.loc 1 4228 2 is_stmt 1 view .LVU3453
4228:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {		/* FAT32: Move FAT offset */
 10575              		.loc 1 4228 9 is_stmt 0 view .LVU3454
 10576 01a0 A3EB0903 		sub	r3, r3, r9
4228:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {		/* FAT32: Move FAT offset */
 10577              		.loc 1 4228 4 view .LVU3455
 10578 01a4 0993     		str	r3, [sp, #36]
4229:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv += n;
 10579              		.loc 1 4229 2 is_stmt 1 view .LVU3456
4229:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_rsv += n;
 10580              		.loc 1 4229 5 is_stmt 0 view .LVU3457
 10581 01a6 BAF1030F 		cmp	r10, #3
 10582 01aa 21D0     		beq	.L779
4233:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10583              		.loc 1 4233 3 is_stmt 1 view .LVU3458
4233:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10584              		.loc 1 4233 9 is_stmt 0 view .LVU3459
 10585 01ac 1F44     		add	r7, r7, r3
 10586              	.LVL1164:
 10587              	.L724:
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 10588              		.loc 1 4237 2 is_stmt 1 view .LVU3460
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 10589              		.loc 1 4237 18 is_stmt 0 view .LVU3461
 10590 01ae 089A     		ldr	r2, [sp, #32]
 10591 01b0 A2EB0B03 		sub	r3, r2, fp
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 10592              		.loc 1 4237 26 view .LVU3462
 10593 01b4 DB1B     		subs	r3, r3, r7
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 10594              		.loc 1 4237 43 view .LVU3463
 10595 01b6 0299     		ldr	r1, [sp, #8]
 10596 01b8 5B1A     		subs	r3, r3, r1
4237:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   (fmt == FS_FAT16 && n_clst < MIN_FAT16)
 10597              		.loc 1 4237 9 view .LVU3464
 10598 01ba B3FBF5F3 		udiv	r3, r3, r5
 10599 01be 0593     		str	r3, [sp, #20]
 10600              	.LVL1165:
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| (fmt == FS_FAT32 && n_clst < MIN_FAT32))
 10601              		.loc 1 4238 2 is_stmt 1 view .LVU3465
ARM GAS  /tmp/cc9KJrYz.s 			page 317


4238:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| (fmt == FS_FAT32 && n_clst < MIN_FAT32))
 10602              		.loc 1 4238 5 is_stmt 0 view .LVU3466
 10603 01c0 BAF1020F 		cmp	r10, #2
 10604 01c4 19D0     		beq	.L780
 10605              	.LVL1166:
 10606              	.L725:
4239:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_MKFS_ABORTED;
 10607              		.loc 1 4239 3 view .LVU3467
 10608 01c6 BAF1030F 		cmp	r10, #3
 10609 01ca 1DD0     		beq	.L781
 10610              	.L726:
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x0C;		/* FAT32X */
 10611              		.loc 1 4243 2 is_stmt 1 view .LVU3468
4243:Middlewares/Third_Party/FatFs/src/ff.c **** 		sys = 0x0C;		/* FAT32X */
 10612              		.loc 1 4243 5 is_stmt 0 view .LVU3469
 10613 01cc BAF1030F 		cmp	r10, #3
 10614 01d0 26D0     		beq	.L764
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x01;	/* FAT12(<65536) */
 10615              		.loc 1 4246 3 is_stmt 1 view .LVU3470
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x01;	/* FAT12(<65536) */
 10616              		.loc 1 4246 6 is_stmt 0 view .LVU3471
 10617 01d2 BAF1010F 		cmp	r10, #1
 10618 01d6 1ED0     		beq	.L782
 10619              	.L728:
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10620              		.loc 1 4249 4 is_stmt 1 view .LVU3472
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10621              		.loc 1 4249 8 is_stmt 0 view .LVU3473
 10622 01d8 B2F5803F 		cmp	r2, #65536
 10623 01dc 75D2     		bcs	.L766
 10624 01de 4FF00409 		mov	r9, #4
 10625              	.LVL1167:
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10626              		.loc 1 4249 8 view .LVU3474
 10627 01e2 1FE0     		b	.L727
 10628              	.LVL1168:
 10629              	.L778:
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 10630              		.loc 1 4215 39 discriminator 1 view .LVU3475
 10631 01e4 03EB4303 		add	r3, r3, r3, lsl #1
 10632              	.LVL1169:
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 10633              		.loc 1 4215 43 discriminator 1 view .LVU3476
 10634 01e8 5F1C     		adds	r7, r3, #1
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 10635              		.loc 1 4215 48 discriminator 1 view .LVU3477
 10636 01ea 7F08     		lsrs	r7, r7, #1
4215:Middlewares/Third_Party/FatFs/src/ff.c **** 		n_fat = (n_fat + SS(fs) - 1) / SS(fs);
 10637              		.loc 1 4215 56 discriminator 1 view .LVU3478
 10638 01ec 0337     		adds	r7, r7, #3
 10639 01ee 94E7     		b	.L720
 10640              	.LVL1170:
 10641              	.L779:
4230:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat += n;
 10642              		.loc 1 4230 3 is_stmt 1 view .LVU3479
4230:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_fat += n;
 10643              		.loc 1 4230 9 is_stmt 0 view .LVU3480
ARM GAS  /tmp/cc9KJrYz.s 			page 318


 10644 01f0 9B44     		add	fp, fp, r3
 10645              	.LVL1171:
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {					/* FAT12/16: Expand FAT size */
 10646              		.loc 1 4231 3 is_stmt 1 view .LVU3481
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {					/* FAT12/16: Expand FAT size */
 10647              		.loc 1 4231 9 is_stmt 0 view .LVU3482
 10648 01f2 039A     		ldr	r2, [sp, #12]
 10649 01f4 1A44     		add	r2, r2, r3
 10650 01f6 0392     		str	r2, [sp, #12]
 10651              	.LVL1172:
4231:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {					/* FAT12/16: Expand FAT size */
 10652              		.loc 1 4231 9 view .LVU3483
 10653 01f8 D9E7     		b	.L724
 10654              	.LVL1173:
 10655              	.L780:
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| (fmt == FS_FAT32 && n_clst < MIN_FAT32))
 10656              		.loc 1 4238 26 discriminator 1 view .LVU3484
 10657 01fa 40F6F573 		movw	r3, #4085
 10658              	.LVL1174:
4238:Middlewares/Third_Party/FatFs/src/ff.c **** 		|| (fmt == FS_FAT32 && n_clst < MIN_FAT32))
 10659              		.loc 1 4238 26 discriminator 1 view .LVU3485
 10660 01fe 0599     		ldr	r1, [sp, #20]
 10661 0200 9942     		cmp	r1, r3
 10662 0202 E0D8     		bhi	.L725
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10663              		.loc 1 4240 10 view .LVU3486
 10664 0204 0E20     		movs	r0, #14
 10665 0206 07E2     		b	.L707
 10666              	.L781:
4239:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_MKFS_ABORTED;
 10667              		.loc 1 4239 23 discriminator 1 view .LVU3487
 10668 0208 4FF6F573 		movw	r3, #65525
 10669 020c 0599     		ldr	r1, [sp, #20]
 10670 020e 9942     		cmp	r1, r3
 10671 0210 DCD8     		bhi	.L726
4240:Middlewares/Third_Party/FatFs/src/ff.c **** 
 10672              		.loc 1 4240 10 view .LVU3488
 10673 0212 0E20     		movs	r0, #14
 10674 0214 00E2     		b	.L707
 10675              	.L782:
4246:Middlewares/Third_Party/FatFs/src/ff.c **** 			sys = 0x01;	/* FAT12(<65536) */
 10676              		.loc 1 4246 23 discriminator 1 view .LVU3489
 10677 0216 B2F5803F 		cmp	r2, #65536
 10678 021a DDD2     		bcs	.L728
4247:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10679              		.loc 1 4247 8 view .LVU3490
 10680 021c D146     		mov	r9, r10
 10681              	.LVL1175:
4247:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 10682              		.loc 1 4247 8 view .LVU3491
 10683 021e 01E0     		b	.L727
 10684              	.LVL1176:
 10685              	.L764:
4244:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 10686              		.loc 1 4244 7 view .LVU3492
 10687 0220 4FF00C09 		mov	r9, #12
 10688              	.LVL1177:
ARM GAS  /tmp/cc9KJrYz.s 			page 319


 10689              	.L727:
4253:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Update system ID in the partition table */
 10690              		.loc 1 4253 2 is_stmt 1 view .LVU3493
4261:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF0;
 10691              		.loc 1 4261 3 view .LVU3494
4261:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF0;
 10692              		.loc 1 4261 6 is_stmt 0 view .LVU3495
 10693 0224 B8F1000F 		cmp	r8, #0
 10694 0228 5AD1     		bne	.L767
4264:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fs->win.d8 + MBR_Table;	/* Create partition table for single partition in the drive */
 10695              		.loc 1 4264 4 is_stmt 1 view .LVU3496
4264:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fs->win.d8 + MBR_Table;	/* Create partition table for single partition in the drive */
 10696              		.loc 1 4264 27 is_stmt 0 view .LVU3497
 10697 022a 06F58053 		add	r3, r6, #4096
4264:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl = fs->win.d8 + MBR_Table;	/* Create partition table for single partition in the drive */
 10698              		.loc 1 4264 4 view .LVU3498
 10699 022e 5A89     		ldrh	r2, [r3, #10]
 10700 0230 0021     		movs	r1, #0
 10701 0232 3046     		mov	r0, r6
 10702 0234 FFF7FEFF 		bl	mem_set
 10703              	.LVL1178:
4265:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[1] = 1;						/* Partition start head */
 10704              		.loc 1 4265 4 is_stmt 1 view .LVU3499
4266:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[2] = 1;						/* Partition start sector */
 10705              		.loc 1 4266 4 view .LVU3500
4266:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[2] = 1;						/* Partition start sector */
 10706              		.loc 1 4266 11 is_stmt 0 view .LVU3501
 10707 0238 0123     		movs	r3, #1
 10708 023a 86F8BF31 		strb	r3, [r6, #447]
4267:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[3] = 0;						/* Partition start cylinder */
 10709              		.loc 1 4267 4 is_stmt 1 view .LVU3502
4267:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[3] = 0;						/* Partition start cylinder */
 10710              		.loc 1 4267 11 is_stmt 0 view .LVU3503
 10711 023e 86F8C031 		strb	r3, [r6, #448]
4268:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[4] = sys;					/* System type */
 10712              		.loc 1 4268 4 is_stmt 1 view .LVU3504
4268:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[4] = sys;					/* System type */
 10713              		.loc 1 4268 11 is_stmt 0 view .LVU3505
 10714 0242 0022     		movs	r2, #0
 10715 0244 86F8C121 		strb	r2, [r6, #449]
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[5] = 254;					/* Partition end head */
 10716              		.loc 1 4269 4 is_stmt 1 view .LVU3506
4269:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[5] = 254;					/* Partition end head */
 10717              		.loc 1 4269 11 is_stmt 0 view .LVU3507
 10718 0248 86F8C291 		strb	r9, [r6, #450]
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + n_vol) / 63 / 255;
 10719              		.loc 1 4270 4 is_stmt 1 view .LVU3508
4270:Middlewares/Third_Party/FatFs/src/ff.c **** 			n = (b_vol + n_vol) / 63 / 255;
 10720              		.loc 1 4270 11 is_stmt 0 view .LVU3509
 10721 024c FE21     		movs	r1, #254
 10722 024e 86F8C311 		strb	r1, [r6, #451]
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
 10723              		.loc 1 4271 4 is_stmt 1 view .LVU3510
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
 10724              		.loc 1 4271 15 is_stmt 0 view .LVU3511
 10725 0252 0898     		ldr	r0, [sp, #32]
 10726 0254 0199     		ldr	r1, [sp, #4]
ARM GAS  /tmp/cc9KJrYz.s 			page 320


 10727 0256 01EB000C 		add	ip, r1, r0
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
 10728              		.loc 1 4271 29 view .LVU3512
 10729 025a 2049     		ldr	r1, .L791+12
 10730 025c A1FB0CE1 		umull	lr, r1, r1, ip
 10731 0260 ACEB010C 		sub	ip, ip, r1
 10732 0264 01EB5C01 		add	r1, r1, ip, lsr #1
 10733 0268 4FEA513C 		lsr	ip, r1, #13
4271:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[6] = (BYTE)(n >> 2 | 63);	/* Partition end sector */
 10734              		.loc 1 4271 6 view .LVU3513
 10735 026c CDF824C0 		str	ip, [sp, #36]
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[7] = (BYTE)n;				/* End cylinder */
 10736              		.loc 1 4272 4 is_stmt 1 view .LVU3514
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[7] = (BYTE)n;				/* End cylinder */
 10737              		.loc 1 4272 22 is_stmt 0 view .LVU3515
 10738 0270 C90B     		lsrs	r1, r1, #15
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[7] = (BYTE)n;				/* End cylinder */
 10739              		.loc 1 4272 13 view .LVU3516
 10740 0272 41F03F01 		orr	r1, r1, #63
4272:Middlewares/Third_Party/FatFs/src/ff.c **** 			tbl[7] = (BYTE)n;				/* End cylinder */
 10741              		.loc 1 4272 11 view .LVU3517
 10742 0276 86F8C411 		strb	r1, [r6, #452]
4273:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 63);			/* Partition start in LBA */
 10743              		.loc 1 4273 4 is_stmt 1 view .LVU3518
4273:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 63);			/* Partition start in LBA */
 10744              		.loc 1 4273 11 is_stmt 0 view .LVU3519
 10745 027a 86F8C5C1 		strb	ip, [r6, #453]
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
 10746              		.loc 1 4274 4 is_stmt 1 view .LVU3520
 10747 027e 3F21     		movs	r1, #63
 10748 0280 86F8C611 		strb	r1, [r6, #454]
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
 10749              		.loc 1 4274 4 view .LVU3521
 10750 0284 86F8C721 		strb	r2, [r6, #455]
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
 10751              		.loc 1 4274 4 view .LVU3522
 10752 0288 86F8C821 		strb	r2, [r6, #456]
4274:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 12, n_vol);		/* Partition size in LBA */
 10753              		.loc 1 4274 4 view .LVU3523
 10754 028c 86F8C921 		strb	r2, [r6, #457]
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
 10755              		.loc 1 4275 4 view .LVU3524
 10756 0290 86F8CA01 		strb	r0, [r6, #458]
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
 10757              		.loc 1 4275 4 view .LVU3525
 10758 0294 C0F30721 		ubfx	r1, r0, #8, #8
 10759 0298 86F8CB11 		strb	r1, [r6, #459]
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
 10760              		.loc 1 4275 4 view .LVU3526
 10761 029c C0F30741 		ubfx	r1, r0, #16, #8
 10762 02a0 86F8CC11 		strb	r1, [r6, #460]
4275:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_WORD(fs->win.d8 + BS_55AA, 0xAA55);	/* MBR signature */
 10763              		.loc 1 4275 4 view .LVU3527
 10764 02a4 000E     		lsrs	r0, r0, #24
 10765 02a6 86F8CD01 		strb	r0, [r6, #461]
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, fs->win.d8, 0, 1) != RES_OK)	/* Write it to the MBR */
 10766              		.loc 1 4276 4 view .LVU3528
ARM GAS  /tmp/cc9KJrYz.s 			page 321


 10767 02aa 5521     		movs	r1, #85
 10768 02ac 86F8FE11 		strb	r1, [r6, #510]
4276:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, fs->win.d8, 0, 1) != RES_OK)	/* Write it to the MBR */
 10769              		.loc 1 4276 4 view .LVU3529
 10770 02b0 AA21     		movs	r1, #170
 10771 02b2 86F8FF11 		strb	r1, [r6, #511]
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10772              		.loc 1 4277 4 view .LVU3530
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10773              		.loc 1 4277 8 is_stmt 0 view .LVU3531
 10774 02b6 3146     		mov	r1, r6
 10775 02b8 2046     		mov	r0, r4
 10776 02ba FFF7FEFF 		bl	disk_write
 10777              	.LVL1179:
4277:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10778              		.loc 1 4277 7 view .LVU3532
 10779 02be 0028     		cmp	r0, #0
 10780 02c0 40F0BF81 		bne	.L768
4279:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10781              		.loc 1 4279 7 view .LVU3533
 10782 02c4 F823     		movs	r3, #248
 10783 02c6 0493     		str	r3, [sp, #16]
 10784 02c8 0CE0     		b	.L729
 10785              	.LVL1180:
 10786              	.L766:
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10787              		.loc 1 4249 8 view .LVU3534
 10788 02ca 4FF00609 		mov	r9, #6
 10789              	.LVL1181:
4249:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 10790              		.loc 1 4249 8 view .LVU3535
 10791 02ce A9E7     		b	.L727
 10792              	.L792:
 10793              		.align	2
 10794              	.L791:
 10795 02d0 00000000 		.word	.LANCHOR2
 10796 02d4 00000000 		.word	.LANCHOR4
 10797 02d8 00000000 		.word	.LANCHOR5
 10798 02dc 5B561505 		.word	85284443
 10799              	.LVL1182:
 10800              	.L767:
4262:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {	/* Create partition table (FDISK) */
 10801              		.loc 1 4262 7 view .LVU3536
 10802 02e0 F023     		movs	r3, #240
 10803 02e2 0493     		str	r3, [sp, #16]
 10804              	.L729:
 10805              	.LVL1183:
4284:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_set(tbl, 0, SS(fs));
 10806              		.loc 1 4284 2 is_stmt 1 view .LVU3537
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(tbl, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code, OEM name */
 10807              		.loc 1 4285 2 view .LVU3538
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(tbl, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code, OEM name */
 10808              		.loc 1 4285 18 is_stmt 0 view .LVU3539
 10809 02e4 06F58058 		add	r8, r6, #4096
4285:Middlewares/Third_Party/FatFs/src/ff.c **** 	mem_cpy(tbl, "\xEB\xFE\x90" "MSDOS5.0", 11);/* Boot jump code, OEM name */
 10810              		.loc 1 4285 2 view .LVU3540
 10811 02e8 B8F80A20 		ldrh	r2, [r8, #10]
ARM GAS  /tmp/cc9KJrYz.s 			page 322


 10812 02ec 0021     		movs	r1, #0
 10813 02ee 3046     		mov	r0, r6
 10814 02f0 FFF7FEFF 		bl	mem_set
 10815              	.LVL1184:
4286:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = SS(fs);								/* Sector size */
 10816              		.loc 1 4286 2 is_stmt 1 view .LVU3541
 10817 02f4 0B22     		movs	r2, #11
 10818 02f6 D849     		ldr	r1, .L793
 10819 02f8 3046     		mov	r0, r6
 10820 02fa FFF7FEFF 		bl	mem_cpy
 10821              	.LVL1185:
4287:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_BytsPerSec, i);
 10822              		.loc 1 4287 2 view .LVU3542
4287:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_BytsPerSec, i);
 10823              		.loc 1 4287 6 is_stmt 0 view .LVU3543
 10824 02fe B8F80A30 		ldrh	r3, [r8, #10]
 10825              	.LVL1186:
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_SecPerClus] = (BYTE)au;			/* Sectors per cluster */
 10826              		.loc 1 4288 2 is_stmt 1 view .LVU3544
 10827 0302 F372     		strb	r3, [r6, #11]
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_SecPerClus] = (BYTE)au;			/* Sectors per cluster */
 10828              		.loc 1 4288 2 view .LVU3545
 10829 0304 1B0A     		lsrs	r3, r3, #8
 10830              	.LVL1187:
4288:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_SecPerClus] = (BYTE)au;			/* Sectors per cluster */
 10831              		.loc 1 4288 2 is_stmt 0 view .LVU3546
 10832 0306 3373     		strb	r3, [r6, #12]
4289:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RsvdSecCnt, n_rsv);	/* Reserved sectors */
 10833              		.loc 1 4289 2 is_stmt 1 view .LVU3547
4289:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RsvdSecCnt, n_rsv);	/* Reserved sectors */
 10834              		.loc 1 4289 22 is_stmt 0 view .LVU3548
 10835 0308 7573     		strb	r5, [r6, #13]
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_NumFATs] = N_FATS;				/* Number of FATs */
 10836              		.loc 1 4290 2 is_stmt 1 view .LVU3549
 10837 030a 86F80EB0 		strb	fp, [r6, #14]
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_NumFATs] = N_FATS;				/* Number of FATs */
 10838              		.loc 1 4290 2 view .LVU3550
 10839 030e CBF3072B 		ubfx	fp, fp, #8, #8
 10840              	.LVL1188:
4290:Middlewares/Third_Party/FatFs/src/ff.c **** 	tbl[BPB_NumFATs] = N_FATS;				/* Number of FATs */
 10841              		.loc 1 4290 2 is_stmt 0 view .LVU3551
 10842 0312 86F80FB0 		strb	fp, [r6, #15]
4291:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (fmt == FS_FAT32) ? 0 : N_ROOTDIR;	/* Number of root directory entries */
 10843              		.loc 1 4291 2 is_stmt 1 view .LVU3552
4291:Middlewares/Third_Party/FatFs/src/ff.c **** 	i = (fmt == FS_FAT32) ? 0 : N_ROOTDIR;	/* Number of root directory entries */
 10844              		.loc 1 4291 19 is_stmt 0 view .LVU3553
 10845 0316 0123     		movs	r3, #1
 10846 0318 3374     		strb	r3, [r6, #16]
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RootEntCnt, i);
 10847              		.loc 1 4292 2 is_stmt 1 view .LVU3554
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RootEntCnt, i);
 10848              		.loc 1 4292 28 is_stmt 0 view .LVU3555
 10849 031a BAF1030F 		cmp	r10, #3
 10850 031e 00F0A680 		beq	.L783
 10851 0322 4FF40073 		mov	r3, #512
 10852              	.L730:
 10853              	.LVL1189:
ARM GAS  /tmp/cc9KJrYz.s 			page 323


4293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < 0x10000) {					/* Number of total sectors */
 10854              		.loc 1 4293 2 is_stmt 1 discriminator 4 view .LVU3556
 10855 0326 DAB2     		uxtb	r2, r3
 10856 0328 7274     		strb	r2, [r6, #17]
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < 0x10000) {					/* Number of total sectors */
 10857              		.loc 1 4293 2 discriminator 4 view .LVU3557
 10858 032a 1B0A     		lsrs	r3, r3, #8
 10859              	.LVL1190:
4293:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (n_vol < 0x10000) {					/* Number of total sectors */
 10860              		.loc 1 4293 2 is_stmt 0 discriminator 4 view .LVU3558
 10861 032c B374     		strb	r3, [r6, #18]
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_TotSec16, n_vol);
 10862              		.loc 1 4294 2 is_stmt 1 discriminator 4 view .LVU3559
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_TotSec16, n_vol);
 10863              		.loc 1 4294 12 is_stmt 0 discriminator 4 view .LVU3560
 10864 032e 089B     		ldr	r3, [sp, #32]
4294:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_TotSec16, n_vol);
 10865              		.loc 1 4294 5 discriminator 4 view .LVU3561
 10866 0330 B3F5803F 		cmp	r3, #65536
 10867 0334 80F09D80 		bcs	.L731
4295:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 10868              		.loc 1 4295 3 is_stmt 1 view .LVU3562
 10869 0338 F374     		strb	r3, [r6, #19]
4295:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 10870              		.loc 1 4295 3 view .LVU3563
 10871 033a C3F30723 		ubfx	r3, r3, #8, #8
 10872 033e 3375     		strb	r3, [r6, #20]
 10873              	.L732:
4299:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_SecPerTrk, 63);		/* Number of sectors per track */
 10874              		.loc 1 4299 2 view .LVU3564
4299:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_SecPerTrk, 63);		/* Number of sectors per track */
 10875              		.loc 1 4299 17 is_stmt 0 view .LVU3565
 10876 0340 049B     		ldr	r3, [sp, #16]
 10877 0342 7375     		strb	r3, [r6, #21]
4300:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_NumHeads, 255);		/* Number of heads */
 10878              		.loc 1 4300 2 is_stmt 1 view .LVU3566
 10879 0344 3F23     		movs	r3, #63
 10880 0346 3376     		strb	r3, [r6, #24]
4300:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_NumHeads, 255);		/* Number of heads */
 10881              		.loc 1 4300 2 view .LVU3567
 10882 0348 0023     		movs	r3, #0
 10883 034a 7376     		strb	r3, [r6, #25]
4301:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_DWORD(tbl + BPB_HiddSec, b_vol);		/* Hidden sectors */
 10884              		.loc 1 4301 2 view .LVU3568
 10885 034c FF22     		movs	r2, #255
 10886 034e B276     		strb	r2, [r6, #26]
4301:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_DWORD(tbl + BPB_HiddSec, b_vol);		/* Hidden sectors */
 10887              		.loc 1 4301 2 view .LVU3569
 10888 0350 F376     		strb	r3, [r6, #27]
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
 10889              		.loc 1 4302 2 view .LVU3570
 10890 0352 019B     		ldr	r3, [sp, #4]
 10891 0354 3377     		strb	r3, [r6, #28]
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
 10892              		.loc 1 4302 2 view .LVU3571
 10893 0356 0023     		movs	r3, #0
 10894 0358 7377     		strb	r3, [r6, #29]
ARM GAS  /tmp/cc9KJrYz.s 			page 324


4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
 10895              		.loc 1 4302 2 view .LVU3572
 10896 035a B377     		strb	r3, [r6, #30]
4302:Middlewares/Third_Party/FatFs/src/ff.c **** 	n = GET_FATTIME();						/* Use current time as VSN */
 10897              		.loc 1 4302 2 view .LVU3573
 10898 035c F377     		strb	r3, [r6, #31]
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 10899              		.loc 1 4303 2 view .LVU3574
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 10900              		.loc 1 4303 6 is_stmt 0 view .LVU3575
 10901 035e FFF7FEFF 		bl	get_fattime
 10902              	.LVL1191:
4303:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32) {
 10903              		.loc 1 4303 4 view .LVU3576
 10904 0362 0990     		str	r0, [sp, #36]
4304:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID32, n);		/* VSN */
 10905              		.loc 1 4304 2 is_stmt 1 view .LVU3577
4304:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BS_VolID32, n);		/* VSN */
 10906              		.loc 1 4304 5 is_stmt 0 view .LVU3578
 10907 0364 BAF1030F 		cmp	r10, #3
 10908 0368 00F09180 		beq	.L784
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
 10909              		.loc 1 4314 3 is_stmt 1 view .LVU3579
 10910 036c 86F82700 		strb	r0, [r6, #39]
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
 10911              		.loc 1 4314 3 view .LVU3580
 10912 0370 C0F30723 		ubfx	r3, r0, #8, #8
 10913 0374 86F82830 		strb	r3, [r6, #40]
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
 10914              		.loc 1 4314 3 view .LVU3581
 10915 0378 C0F30743 		ubfx	r3, r0, #16, #8
 10916 037c 86F82930 		strb	r3, [r6, #41]
4314:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FATSz16, n_fat);	/* Number of sectors per FAT */
 10917              		.loc 1 4314 3 view .LVU3582
 10918 0380 000E     		lsrs	r0, r0, #24
 10919 0382 86F82A00 		strb	r0, [r6, #42]
4315:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum] = 0x80;				/* Drive number */
 10920              		.loc 1 4315 3 view .LVU3583
 10921 0386 B775     		strb	r7, [r6, #22]
4315:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum] = 0x80;				/* Drive number */
 10922              		.loc 1 4315 3 view .LVU3584
 10923 0388 C7F30723 		ubfx	r3, r7, #8, #8
 10924 038c F375     		strb	r3, [r6, #23]
4316:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig] = 0x29;				/* Extended boot signature */
 10925              		.loc 1 4316 3 view .LVU3585
4316:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig] = 0x29;				/* Extended boot signature */
 10926              		.loc 1 4316 18 is_stmt 0 view .LVU3586
 10927 038e 8023     		movs	r3, #128
 10928 0390 86F82430 		strb	r3, [r6, #36]
4317:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 10929              		.loc 1 4317 3 is_stmt 1 view .LVU3587
4317:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab, "NO NAME    " "FAT     ", 19);	/* Volume label, FAT signature */
 10930              		.loc 1 4317 19 is_stmt 0 view .LVU3588
 10931 0394 2923     		movs	r3, #41
 10932 0396 86F82630 		strb	r3, [r6, #38]
4318:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 10933              		.loc 1 4318 3 is_stmt 1 view .LVU3589
ARM GAS  /tmp/cc9KJrYz.s 			page 325


 10934 039a 1322     		movs	r2, #19
 10935 039c AF49     		ldr	r1, .L793+4
 10936 039e 06F12B00 		add	r0, r6, #43
 10937 03a2 FFF7FEFF 		bl	mem_cpy
 10938              	.LVL1192:
 10939              	.L734:
4320:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_write(pdrv, tbl, b_vol, 1) != RES_OK)	/* Write it to the VBR sector */
 10940              		.loc 1 4320 2 view .LVU3590
 10941 03a6 5523     		movs	r3, #85
 10942 03a8 86F8FE31 		strb	r3, [r6, #510]
4320:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (disk_write(pdrv, tbl, b_vol, 1) != RES_OK)	/* Write it to the VBR sector */
 10943              		.loc 1 4320 2 view .LVU3591
 10944 03ac AA23     		movs	r3, #170
 10945 03ae 86F8FF31 		strb	r3, [r6, #511]
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 10946              		.loc 1 4321 2 view .LVU3592
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 10947              		.loc 1 4321 6 is_stmt 0 view .LVU3593
 10948 03b2 0123     		movs	r3, #1
 10949 03b4 019A     		ldr	r2, [sp, #4]
 10950 03b6 3146     		mov	r1, r6
 10951 03b8 2046     		mov	r0, r4
 10952 03ba FFF7FEFF 		bl	disk_write
 10953              	.LVL1193:
4321:Middlewares/Third_Party/FatFs/src/ff.c **** 		return FR_DISK_ERR;
 10954              		.loc 1 4321 5 view .LVU3594
 10955 03be 0028     		cmp	r0, #0
 10956 03c0 40F04181 		bne	.L770
4323:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 6, 1);
 10957              		.loc 1 4323 2 is_stmt 1 view .LVU3595
4323:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 6, 1);
 10958              		.loc 1 4323 5 is_stmt 0 view .LVU3596
 10959 03c4 BAF1030F 		cmp	r10, #3
 10960 03c8 00F09C80 		beq	.L785
 10961              	.L735:
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10962              		.loc 1 4344 8 discriminator 1 view .LVU3597
 10963 03cc 4FF0000B 		mov	fp, #0
 10964 03d0 DDF80C90 		ldr	r9, [sp, #12]
 10965              	.LVL1194:
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 10966              		.loc 1 4344 8 discriminator 1 view .LVU3598
 10967 03d4 0695     		str	r5, [sp, #24]
 10968 03d6 049D     		ldr	r5, [sp, #16]
 10969              	.LVL1195:
 10970              	.L741:
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
 10971              		.loc 1 4328 14 is_stmt 1 discriminator 1 view .LVU3599
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
 10972              		.loc 1 4328 2 is_stmt 0 discriminator 1 view .LVU3600
 10973 03d8 BBF1000F 		cmp	fp, #0
 10974 03dc 40F0B980 		bne	.L786
4329:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = md;								/* Media descriptor byte */
 10975              		.loc 1 4329 3 is_stmt 1 view .LVU3601
4329:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = md;								/* Media descriptor byte */
 10976              		.loc 1 4329 19 is_stmt 0 view .LVU3602
 10977 03e0 06F58053 		add	r3, r6, #4096
ARM GAS  /tmp/cc9KJrYz.s 			page 326


4329:Middlewares/Third_Party/FatFs/src/ff.c **** 		n = md;								/* Media descriptor byte */
 10978              		.loc 1 4329 3 view .LVU3603
 10979 03e4 5A89     		ldrh	r2, [r3, #10]
 10980 03e6 0021     		movs	r1, #0
 10981 03e8 3046     		mov	r0, r6
 10982 03ea FFF7FEFF 		bl	mem_set
 10983              	.LVL1196:
4330:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt != FS_FAT32) {
 10984              		.loc 1 4330 3 is_stmt 1 view .LVU3604
4330:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (fmt != FS_FAT32) {
 10985              		.loc 1 4330 5 is_stmt 0 view .LVU3605
 10986 03ee 2A46     		mov	r2, r5
 10987 03f0 0995     		str	r5, [sp, #36]
4331:Middlewares/Third_Party/FatFs/src/ff.c **** 			n |= (fmt == FS_FAT12) ? 0x00FFFF00 : 0xFFFFFF00;
 10988              		.loc 1 4331 3 is_stmt 1 view .LVU3606
4331:Middlewares/Third_Party/FatFs/src/ff.c **** 			n |= (fmt == FS_FAT12) ? 0x00FFFF00 : 0xFFFFFF00;
 10989              		.loc 1 4331 6 is_stmt 0 view .LVU3607
 10990 03f2 BAF1030F 		cmp	r10, #3
 10991 03f6 00F08F80 		beq	.L736
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
 10992              		.loc 1 4332 4 is_stmt 1 view .LVU3608
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
 10993              		.loc 1 4332 40 is_stmt 0 view .LVU3609
 10994 03fa BAF1010F 		cmp	r10, #1
 10995 03fe 00F08980 		beq	.L787
 10996 0402 6FF0FF03 		mvn	r3, #255
 10997              	.L737:
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
 10998              		.loc 1 4332 6 discriminator 4 view .LVU3610
 10999 0406 1343     		orrs	r3, r3, r2
 11000 0408 0993     		str	r3, [sp, #36]
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 11001              		.loc 1 4333 4 is_stmt 1 discriminator 4 view .LVU3611
 11002 040a 3370     		strb	r3, [r6]
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 11003              		.loc 1 4333 4 discriminator 4 view .LVU3612
 11004 040c BDF82430 		ldrh	r3, [sp, #36]
 11005 0410 1B0A     		lsrs	r3, r3, #8
 11006 0412 7370     		strb	r3, [r6, #1]
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 11007              		.loc 1 4333 4 discriminator 4 view .LVU3613
 11008 0414 9DF82630 		ldrb	r3, [sp, #38]	@ zero_extendqisi2
 11009 0418 B370     		strb	r3, [r6, #2]
4333:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
 11010              		.loc 1 4333 4 discriminator 4 view .LVU3614
 11011 041a 9DF82730 		ldrb	r3, [sp, #39]	@ zero_extendqisi2
 11012 041e F370     		strb	r3, [r6, #3]
 11013              	.L738:
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 11014              		.loc 1 4340 3 view .LVU3615
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 11015              		.loc 1 4340 7 is_stmt 0 view .LVU3616
 11016 0420 09F10108 		add	r8, r9, #1
 11017              	.LVL1197:
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 11018              		.loc 1 4340 7 view .LVU3617
 11019 0424 0123     		movs	r3, #1
ARM GAS  /tmp/cc9KJrYz.s 			page 327


 11020 0426 4A46     		mov	r2, r9
 11021 0428 3146     		mov	r1, r6
 11022 042a 2046     		mov	r0, r4
 11023 042c FFF7FEFF 		bl	disk_write
 11024              	.LVL1198:
4340:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 11025              		.loc 1 4340 6 view .LVU3618
 11026 0430 0028     		cmp	r0, #0
 11027 0432 40F00A81 		bne	.L772
4342:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < n_fat; n++) {		/* This loop may take a time on FAT32 volume due to many single se
 11028              		.loc 1 4342 3 is_stmt 1 view .LVU3619
4342:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < n_fat; n++) {		/* This loop may take a time on FAT32 volume due to many single se
 11029              		.loc 1 4342 19 is_stmt 0 view .LVU3620
 11030 0436 06F58053 		add	r3, r6, #4096
4342:Middlewares/Third_Party/FatFs/src/ff.c **** 		for (n = 1; n < n_fat; n++) {		/* This loop may take a time on FAT32 volume due to many single se
 11031              		.loc 1 4342 3 view .LVU3621
 11032 043a 5A89     		ldrh	r2, [r3, #10]
 11033 043c 0021     		movs	r1, #0
 11034 043e 3046     		mov	r0, r6
 11035 0440 FFF7FEFF 		bl	mem_set
 11036              	.LVL1199:
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 11037              		.loc 1 4343 3 is_stmt 1 view .LVU3622
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 11038              		.loc 1 4343 10 is_stmt 0 view .LVU3623
 11039 0444 0123     		movs	r3, #1
 11040 0446 0993     		str	r3, [sp, #36]
 11041 0448 4246     		mov	r2, r8
 11042              	.LVL1200:
 11043              	.L739:
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 11044              		.loc 1 4343 15 is_stmt 1 discriminator 1 view .LVU3624
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 11045              		.loc 1 4343 17 is_stmt 0 discriminator 1 view .LVU3625
 11046 044a 099B     		ldr	r3, [sp, #36]
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 11047              		.loc 1 4343 3 discriminator 1 view .LVU3626
 11048 044c 9F42     		cmp	r7, r3
 11049 044e 7CD9     		bls	.L788
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 11050              		.loc 1 4344 4 is_stmt 1 view .LVU3627
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 11051              		.loc 1 4344 8 is_stmt 0 view .LVU3628
 11052 0450 02F10109 		add	r9, r2, #1
 11053              	.LVL1201:
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 11054              		.loc 1 4344 8 view .LVU3629
 11055 0454 0123     		movs	r3, #1
 11056 0456 3146     		mov	r1, r6
 11057 0458 2046     		mov	r0, r4
 11058 045a FFF7FEFF 		bl	disk_write
 11059              	.LVL1202:
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 11060              		.loc 1 4344 7 view .LVU3630
 11061 045e 0028     		cmp	r0, #0
 11062 0460 40F0F580 		bne	.L773
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
ARM GAS  /tmp/cc9KJrYz.s 			page 328


 11063              		.loc 1 4343 26 is_stmt 1 discriminator 2 view .LVU3631
4343:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 11064              		.loc 1 4343 27 is_stmt 0 discriminator 2 view .LVU3632
 11065 0464 099B     		ldr	r3, [sp, #36]
 11066 0466 0133     		adds	r3, r3, #1
 11067 0468 0993     		str	r3, [sp, #36]
4344:Middlewares/Third_Party/FatFs/src/ff.c **** 				return FR_DISK_ERR;
 11068              		.loc 1 4344 8 discriminator 2 view .LVU3633
 11069 046a 4A46     		mov	r2, r9
 11070 046c EDE7     		b	.L739
 11071              	.LVL1203:
 11072              	.L783:
4292:Middlewares/Third_Party/FatFs/src/ff.c **** 	ST_WORD(tbl + BPB_RootEntCnt, i);
 11073              		.loc 1 4292 28 view .LVU3634
 11074 046e 0023     		movs	r3, #0
 11075 0470 59E7     		b	.L730
 11076              	.LVL1204:
 11077              	.L731:
4297:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 11078              		.loc 1 4297 3 is_stmt 1 view .LVU3635
 11079 0472 86F82030 		strb	r3, [r6, #32]
4297:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 11080              		.loc 1 4297 3 view .LVU3636
 11081 0476 C3F30722 		ubfx	r2, r3, #8, #8
 11082 047a 86F82120 		strb	r2, [r6, #33]
4297:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 11083              		.loc 1 4297 3 view .LVU3637
 11084 047e C3F30742 		ubfx	r2, r3, #16, #8
 11085 0482 86F82220 		strb	r2, [r6, #34]
4297:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 11086              		.loc 1 4297 3 view .LVU3638
 11087 0486 1B0E     		lsrs	r3, r3, #24
 11088 0488 86F82330 		strb	r3, [r6, #35]
 11089 048c 58E7     		b	.L732
 11090              	.L784:
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
 11091              		.loc 1 4305 3 view .LVU3639
 11092 048e 86F84300 		strb	r0, [r6, #67]
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
 11093              		.loc 1 4305 3 view .LVU3640
 11094 0492 C0F30723 		ubfx	r3, r0, #8, #8
 11095 0496 86F84430 		strb	r3, [r6, #68]
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
 11096              		.loc 1 4305 3 view .LVU3641
 11097 049a C0F30743 		ubfx	r3, r0, #16, #8
 11098 049e 86F84530 		strb	r3, [r6, #69]
4305:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_FATSz32, n_fat);	/* Number of sectors per FAT */
 11099              		.loc 1 4305 3 view .LVU3642
 11100 04a2 000E     		lsrs	r0, r0, #24
 11101 04a4 86F84600 		strb	r0, [r6, #70]
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
 11102              		.loc 1 4306 3 view .LVU3643
 11103 04a8 86F82470 		strb	r7, [r6, #36]
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
 11104              		.loc 1 4306 3 view .LVU3644
 11105 04ac C7F30723 		ubfx	r3, r7, #8, #8
 11106 04b0 86F82530 		strb	r3, [r6, #37]
ARM GAS  /tmp/cc9KJrYz.s 			page 329


4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
 11107              		.loc 1 4306 3 view .LVU3645
 11108 04b4 C7F30743 		ubfx	r3, r7, #16, #8
 11109 04b8 86F82630 		strb	r3, [r6, #38]
4306:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + BPB_RootClus, 2);	/* Root directory start cluster (2) */
 11110              		.loc 1 4306 3 view .LVU3646
 11111 04bc 3B0E     		lsrs	r3, r7, #24
 11112 04be 86F82730 		strb	r3, [r6, #39]
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
 11113              		.loc 1 4307 3 view .LVU3647
 11114 04c2 0223     		movs	r3, #2
 11115 04c4 86F82C30 		strb	r3, [r6, #44]
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
 11116              		.loc 1 4307 3 view .LVU3648
 11117 04c8 0023     		movs	r3, #0
 11118 04ca 86F82D30 		strb	r3, [r6, #45]
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
 11119              		.loc 1 4307 3 view .LVU3649
 11120 04ce 86F82E30 		strb	r3, [r6, #46]
4307:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_FSInfo, 1);		/* FSINFO record offset (VBR + 1) */
 11121              		.loc 1 4307 3 view .LVU3650
 11122 04d2 86F82F30 		strb	r3, [r6, #47]
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_BkBootSec, 6);	/* Backup boot record offset (VBR + 6) */
 11123              		.loc 1 4308 3 view .LVU3651
 11124 04d6 0122     		movs	r2, #1
 11125 04d8 86F83020 		strb	r2, [r6, #48]
4308:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BPB_BkBootSec, 6);	/* Backup boot record offset (VBR + 6) */
 11126              		.loc 1 4308 3 view .LVU3652
 11127 04dc 86F83130 		strb	r3, [r6, #49]
4309:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum32] = 0x80;			/* Drive number */
 11128              		.loc 1 4309 3 view .LVU3653
 11129 04e0 0622     		movs	r2, #6
 11130 04e2 86F83220 		strb	r2, [r6, #50]
4309:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_DrvNum32] = 0x80;			/* Drive number */
 11131              		.loc 1 4309 3 view .LVU3654
 11132 04e6 86F83330 		strb	r3, [r6, #51]
4310:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig32] = 0x29;			/* Extended boot signature */
 11133              		.loc 1 4310 3 view .LVU3655
4310:Middlewares/Third_Party/FatFs/src/ff.c **** 		tbl[BS_BootSig32] = 0x29;			/* Extended boot signature */
 11134              		.loc 1 4310 20 is_stmt 0 view .LVU3656
 11135 04ea 8023     		movs	r3, #128
 11136 04ec 86F84030 		strb	r3, [r6, #64]
4311:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
 11137              		.loc 1 4311 3 is_stmt 1 view .LVU3657
4311:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_cpy(tbl + BS_VolLab32, "NO NAME    " "FAT32   ", 19);	/* Volume label, FAT signature */
 11138              		.loc 1 4311 21 is_stmt 0 view .LVU3658
 11139 04f0 2923     		movs	r3, #41
 11140 04f2 86F84230 		strb	r3, [r6, #66]
4312:Middlewares/Third_Party/FatFs/src/ff.c **** 	} else {
 11141              		.loc 1 4312 3 is_stmt 1 view .LVU3659
 11142 04f6 1322     		movs	r2, #19
 11143 04f8 5949     		ldr	r1, .L793+8
 11144 04fa 06F14700 		add	r0, r6, #71
 11145 04fe FFF7FEFF 		bl	mem_cpy
 11146              	.LVL1205:
 11147 0502 50E7     		b	.L734
 11148              	.L785:
ARM GAS  /tmp/cc9KJrYz.s 			page 330


4324:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11149              		.loc 1 4324 3 view .LVU3660
 11150 0504 0123     		movs	r3, #1
 11151 0506 019A     		ldr	r2, [sp, #4]
 11152 0508 0632     		adds	r2, r2, #6
 11153 050a 3146     		mov	r1, r6
 11154 050c 2046     		mov	r0, r4
 11155 050e FFF7FEFF 		bl	disk_write
 11156              	.LVL1206:
 11157 0512 5BE7     		b	.L735
 11158              	.LVL1207:
 11159              	.L787:
4332:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT12/16) */
 11160              		.loc 1 4332 40 is_stmt 0 view .LVU3661
 11161 0514 534B     		ldr	r3, .L793+12
 11162 0516 76E7     		b	.L737
 11163              	.L736:
4335:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT32) */
 11164              		.loc 1 4335 4 is_stmt 1 view .LVU3662
4335:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 0, n);			/* Reserve cluster #0-1 (FAT32) */
 11165              		.loc 1 4335 6 is_stmt 0 view .LVU3663
 11166 0518 65F0FF03 		orn	r3, r5, #255
 11167 051c 0993     		str	r3, [sp, #36]
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 4, 0xFFFFFFFF);
 11168              		.loc 1 4336 4 is_stmt 1 view .LVU3664
 11169 051e 3370     		strb	r3, [r6]
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 4, 0xFFFFFFFF);
 11170              		.loc 1 4336 4 view .LVU3665
 11171 0520 BDF82430 		ldrh	r3, [sp, #36]
 11172 0524 1B0A     		lsrs	r3, r3, #8
 11173 0526 7370     		strb	r3, [r6, #1]
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 4, 0xFFFFFFFF);
 11174              		.loc 1 4336 4 view .LVU3666
 11175 0528 9DF82630 		ldrb	r3, [sp, #38]	@ zero_extendqisi2
 11176 052c B370     		strb	r3, [r6, #2]
4336:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 4, 0xFFFFFFFF);
 11177              		.loc 1 4336 4 view .LVU3667
 11178 052e 9DF82730 		ldrb	r3, [sp, #39]	@ zero_extendqisi2
 11179 0532 F370     		strb	r3, [r6, #3]
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 0x0FFFFFFF);	/* Reserve cluster #2 for root directory */
 11180              		.loc 1 4337 4 view .LVU3668
 11181 0534 FF23     		movs	r3, #255
 11182 0536 3371     		strb	r3, [r6, #4]
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 0x0FFFFFFF);	/* Reserve cluster #2 for root directory */
 11183              		.loc 1 4337 4 view .LVU3669
 11184 0538 7371     		strb	r3, [r6, #5]
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 0x0FFFFFFF);	/* Reserve cluster #2 for root directory */
 11185              		.loc 1 4337 4 view .LVU3670
 11186 053a B371     		strb	r3, [r6, #6]
4337:Middlewares/Third_Party/FatFs/src/ff.c **** 			ST_DWORD(tbl + 8, 0x0FFFFFFF);	/* Reserve cluster #2 for root directory */
 11187              		.loc 1 4337 4 view .LVU3671
 11188 053c F371     		strb	r3, [r6, #7]
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11189              		.loc 1 4338 4 view .LVU3672
 11190 053e 3372     		strb	r3, [r6, #8]
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11191              		.loc 1 4338 4 view .LVU3673
ARM GAS  /tmp/cc9KJrYz.s 			page 331


 11192 0540 7372     		strb	r3, [r6, #9]
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11193              		.loc 1 4338 4 view .LVU3674
 11194 0542 B372     		strb	r3, [r6, #10]
4338:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11195              		.loc 1 4338 4 view .LVU3675
 11196 0544 0F23     		movs	r3, #15
 11197 0546 F372     		strb	r3, [r6, #11]
 11198 0548 6AE7     		b	.L738
 11199              	.LVL1208:
 11200              	.L788:
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
 11201              		.loc 1 4328 26 discriminator 2 view .LVU3676
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
 11202              		.loc 1 4328 27 is_stmt 0 discriminator 2 view .LVU3677
 11203 054a 0BF1010B 		add	fp, fp, #1
 11204              	.LVL1209:
4328:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* 1st sector of the FAT  */
 11205              		.loc 1 4328 27 discriminator 2 view .LVU3678
 11206 054e 9146     		mov	r9, r2
 11207 0550 42E7     		b	.L741
 11208              	.LVL1210:
 11209              	.L786:
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 11210              		.loc 1 4350 29 view .LVU3679
 11211 0552 CDF80C90 		str	r9, [sp, #12]
 11212              	.LVL1211:
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 11213              		.loc 1 4350 29 view .LVU3680
 11214 0556 069D     		ldr	r5, [sp, #24]
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 11215              		.loc 1 4350 2 is_stmt 1 view .LVU3681
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 11216              		.loc 1 4350 29 is_stmt 0 view .LVU3682
 11217 0558 BAF1030F 		cmp	r10, #3
 11218 055c 18D0     		beq	.L789
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 11219              		.loc 1 4350 29 view .LVU3683
 11220 055e 039D     		ldr	r5, [sp, #12]
 11221 0560 029F     		ldr	r7, [sp, #8]
 11222              	.LVL1212:
 11223              	.L744:
4351:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (disk_write(pdrv, tbl, wsect++, 1) != RES_OK)
 11224              		.loc 1 4351 2 is_stmt 1 view .LVU3684
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 11225              		.loc 1 4352 3 view .LVU3685
 11226 0562 2A46     		mov	r2, r5
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 11227              		.loc 1 4352 7 is_stmt 0 view .LVU3686
 11228 0564 0123     		movs	r3, #1
 11229 0566 1D44     		add	r5, r5, r3
 11230              	.LVL1213:
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 11231              		.loc 1 4352 7 view .LVU3687
 11232 0568 3146     		mov	r1, r6
 11233 056a 2046     		mov	r0, r4
 11234 056c FFF7FEFF 		bl	disk_write
ARM GAS  /tmp/cc9KJrYz.s 			page 332


 11235              	.LVL1214:
4352:Middlewares/Third_Party/FatFs/src/ff.c **** 			return FR_DISK_ERR;
 11236              		.loc 1 4352 6 view .LVU3688
 11237 0570 0028     		cmp	r0, #0
 11238 0572 6ED1     		bne	.L774
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11239              		.loc 1 4354 10 is_stmt 1 view .LVU3689
 11240              	.LVL1215:
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11241              		.loc 1 4354 2 is_stmt 0 view .LVU3690
 11242 0574 013F     		subs	r7, r7, #1
 11243              	.LVL1216:
4354:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11244              		.loc 1 4354 2 view .LVU3691
 11245 0576 F4D1     		bne	.L744
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_LeadSig, 0x41615252);
 11246              		.loc 1 4364 2 is_stmt 1 view .LVU3692
4364:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_LeadSig, 0x41615252);
 11247              		.loc 1 4364 5 is_stmt 0 view .LVU3693
 11248 0578 BAF1030F 		cmp	r10, #3
 11249 057c 0BD0     		beq	.L790
 11250              	.LVL1217:
 11251              	.L745:
4374:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11252              		.loc 1 4374 2 is_stmt 1 view .LVU3694
4374:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11253              		.loc 1 4374 10 is_stmt 0 view .LVU3695
 11254 057e 0022     		movs	r2, #0
 11255 0580 1146     		mov	r1, r2
 11256 0582 2046     		mov	r0, r4
 11257 0584 FFF7FEFF 		bl	disk_ioctl
 11258              	.LVL1218:
4374:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11259              		.loc 1 4374 60 view .LVU3696
 11260 0588 0038     		subs	r0, r0, #0
 11261 058a 18BF     		it	ne
 11262 058c 0120     		movne	r0, #1
 11263 058e 43E0     		b	.L707
 11264              	.LVL1219:
 11265              	.L789:
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 11266              		.loc 1 4350 29 view .LVU3697
 11267 0590 2F46     		mov	r7, r5
 11268              	.LVL1220:
4350:Middlewares/Third_Party/FatFs/src/ff.c **** 	do {
 11269              		.loc 1 4350 29 view .LVU3698
 11270 0592 4D46     		mov	r5, r9
 11271 0594 E5E7     		b	.L744
 11272              	.LVL1221:
 11273              	.L790:
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
 11274              		.loc 1 4365 3 is_stmt 1 view .LVU3699
 11275 0596 5223     		movs	r3, #82
 11276 0598 3370     		strb	r3, [r6]
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
 11277              		.loc 1 4365 3 view .LVU3700
 11278 059a 7370     		strb	r3, [r6, #1]
ARM GAS  /tmp/cc9KJrYz.s 			page 333


4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
 11279              		.loc 1 4365 3 view .LVU3701
 11280 059c 6123     		movs	r3, #97
 11281 059e B370     		strb	r3, [r6, #2]
4365:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_StrucSig, 0x61417272);
 11282              		.loc 1 4365 3 view .LVU3702
 11283 05a0 4122     		movs	r2, #65
 11284 05a2 F270     		strb	r2, [r6, #3]
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 11285              		.loc 1 4366 3 view .LVU3703
 11286 05a4 7221     		movs	r1, #114
 11287 05a6 86F8E411 		strb	r1, [r6, #484]
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 11288              		.loc 1 4366 3 view .LVU3704
 11289 05aa 86F8E511 		strb	r1, [r6, #485]
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 11290              		.loc 1 4366 3 view .LVU3705
 11291 05ae 86F8E621 		strb	r2, [r6, #486]
4366:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Free_Count, n_clst - 1);	/* Number of free clusters */
 11292              		.loc 1 4366 3 view .LVU3706
 11293 05b2 86F8E731 		strb	r3, [r6, #487]
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 11294              		.loc 1 4367 3 view .LVU3707
 11295 05b6 059A     		ldr	r2, [sp, #20]
 11296 05b8 531E     		subs	r3, r2, #1
 11297 05ba 86F8E831 		strb	r3, [r6, #488]
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 11298              		.loc 1 4367 3 view .LVU3708
 11299 05be C3F30723 		ubfx	r3, r3, #8, #8
 11300 05c2 86F8E931 		strb	r3, [r6, #489]
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 11301              		.loc 1 4367 3 view .LVU3709
 11302 05c6 531E     		subs	r3, r2, #1
 11303 05c8 C3F30742 		ubfx	r2, r3, #16, #8
 11304 05cc 86F8EA21 		strb	r2, [r6, #490]
4367:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_DWORD(tbl + FSI_Nxt_Free, 2);			/* Last allocated cluster# */
 11305              		.loc 1 4367 3 view .LVU3710
 11306 05d0 1B0E     		lsrs	r3, r3, #24
 11307 05d2 86F8EB31 		strb	r3, [r6, #491]
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
 11308              		.loc 1 4368 3 view .LVU3711
 11309 05d6 0223     		movs	r3, #2
 11310 05d8 86F8EC31 		strb	r3, [r6, #492]
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
 11311              		.loc 1 4368 3 view .LVU3712
 11312 05dc 0023     		movs	r3, #0
 11313 05de 86F8ED31 		strb	r3, [r6, #493]
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
 11314              		.loc 1 4368 3 view .LVU3713
 11315 05e2 86F8EE31 		strb	r3, [r6, #494]
4368:Middlewares/Third_Party/FatFs/src/ff.c **** 		ST_WORD(tbl + BS_55AA, 0xAA55);
 11316              		.loc 1 4368 3 view .LVU3714
 11317 05e6 86F8EF31 		strb	r3, [r6, #495]
4369:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 1, 1);	/* Write original (VBR + 1) */
 11318              		.loc 1 4369 3 view .LVU3715
 11319 05ea 5523     		movs	r3, #85
 11320 05ec 86F8FE31 		strb	r3, [r6, #510]
ARM GAS  /tmp/cc9KJrYz.s 			page 334


4369:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 1, 1);	/* Write original (VBR + 1) */
 11321              		.loc 1 4369 3 view .LVU3716
 11322 05f0 AA23     		movs	r3, #170
 11323 05f2 86F8FF31 		strb	r3, [r6, #511]
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 7, 1);	/* Write backup (VBR + 7) */
 11324              		.loc 1 4370 3 view .LVU3717
 11325 05f6 0123     		movs	r3, #1
 11326 05f8 019D     		ldr	r5, [sp, #4]
 11327              	.LVL1222:
4370:Middlewares/Third_Party/FatFs/src/ff.c **** 		disk_write(pdrv, tbl, b_vol + 7, 1);	/* Write backup (VBR + 7) */
 11328              		.loc 1 4370 3 is_stmt 0 view .LVU3718
 11329 05fa 2A46     		mov	r2, r5
 11330 05fc 1A44     		add	r2, r2, r3
 11331 05fe 3146     		mov	r1, r6
 11332 0600 2046     		mov	r0, r4
 11333 0602 FFF7FEFF 		bl	disk_write
 11334              	.LVL1223:
4371:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 11335              		.loc 1 4371 3 is_stmt 1 view .LVU3719
 11336 0606 0123     		movs	r3, #1
 11337 0608 2A46     		mov	r2, r5
 11338 060a 0732     		adds	r2, r2, #7
 11339 060c 3146     		mov	r1, r6
 11340 060e 2046     		mov	r0, r4
 11341 0610 FFF7FEFF 		bl	disk_write
 11342              	.LVL1224:
 11343 0614 B3E7     		b	.L745
 11344              	.LVL1225:
 11345              	.L746:
4160:Middlewares/Third_Party/FatFs/src/ff.c **** 	vol = get_ldnumber(&path);
 11346              		.loc 1 4160 22 is_stmt 0 view .LVU3720
 11347 0616 1320     		movs	r0, #19
 11348              	.LVL1226:
 11349              	.L707:
4375:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11350              		.loc 1 4375 1 view .LVU3721
 11351 0618 0BB0     		add	sp, sp, #44
 11352              	.LCFI115:
 11353              		.cfi_remember_state
 11354              		.cfi_def_cfa_offset 36
 11355              		@ sp needed
 11356 061a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 11357              	.LVL1227:
 11358              	.L747:
 11359              	.LCFI116:
 11360              		.cfi_restore_state
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
 11361              		.loc 1 4162 22 view .LVU3722
 11362 061e 0B20     		movs	r0, #11
 11363              	.LVL1228:
4162:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs = FatFs[vol];
 11364              		.loc 1 4162 22 view .LVU3723
 11365 0620 FAE7     		b	.L707
 11366              	.LVL1229:
 11367              	.L748:
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
 11368              		.loc 1 4164 18 view .LVU3724
ARM GAS  /tmp/cc9KJrYz.s 			page 335


 11369 0622 0C20     		movs	r0, #12
 11370              	.LVL1230:
4164:Middlewares/Third_Party/FatFs/src/ff.c **** 	fs->fs_type = 0;
 11371              		.loc 1 4164 18 view .LVU3725
 11372 0624 F8E7     		b	.L707
 11373              	.LVL1231:
 11374              	.L749:
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 11375              		.loc 1 4171 32 view .LVU3726
 11376 0626 0320     		movs	r0, #3
 11377              	.LVL1232:
4171:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (stat & STA_PROTECT) return FR_WRITE_PROTECTED;
 11378              		.loc 1 4171 32 view .LVU3727
 11379 0628 F6E7     		b	.L707
 11380              	.LVL1233:
 11381              	.L750:
4172:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get disk sector size */
 11382              		.loc 1 4172 33 view .LVU3728
 11383 062a 0A20     		movs	r0, #10
 11384              	.LVL1234:
4172:Middlewares/Third_Party/FatFs/src/ff.c **** #if _MAX_SS != _MIN_SS		/* Get disk sector size */
 11385              		.loc 1 4172 33 view .LVU3729
 11386 062c F4E7     		b	.L707
 11387              	.L751:
4175:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 11388              		.loc 1 4175 10 view .LVU3730
 11389 062e 0120     		movs	r0, #1
 11390 0630 F2E7     		b	.L707
 11391              	.L752:
 11392 0632 0120     		movs	r0, #1
 11393 0634 F0E7     		b	.L707
 11394              	.L754:
4188:Middlewares/Third_Party/FatFs/src/ff.c **** 		b_vol = (sfd) ? 0 : 63;		/* Volume start sector */
 11395              		.loc 1 4188 11 view .LVU3731
 11396 0636 0120     		movs	r0, #1
 11397 0638 EEE7     		b	.L707
 11398              	.L755:
 11399 063a 0120     		movs	r0, #1
 11400 063c ECE7     		b	.L707
 11401              	.LVL1235:
 11402              	.L761:
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11403              		.loc 1 4223 42 view .LVU3732
 11404 063e 0E20     		movs	r0, #14
 11405              	.LVL1236:
4223:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11406              		.loc 1 4223 42 view .LVU3733
 11407 0640 EAE7     		b	.L707
 11408              	.LVL1237:
 11409              	.L768:
4278:Middlewares/Third_Party/FatFs/src/ff.c **** 			md = 0xF8;
 11410              		.loc 1 4278 12 view .LVU3734
 11411 0642 0120     		movs	r0, #1
 11412 0644 E8E7     		b	.L707
 11413              	.LVL1238:
 11414              	.L770:
4322:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (fmt == FS_FAT32)					/* Write backup VBR if needed (VBR + 6) */
ARM GAS  /tmp/cc9KJrYz.s 			page 336


 11415              		.loc 1 4322 10 view .LVU3735
 11416 0646 0120     		movs	r0, #1
 11417 0648 E6E7     		b	.L707
 11418              	.LVL1239:
 11419              	.L772:
4341:Middlewares/Third_Party/FatFs/src/ff.c **** 		mem_set(tbl, 0, SS(fs));			/* Fill following FAT entries with zero */
 11420              		.loc 1 4341 11 view .LVU3736
 11421 064a 0120     		movs	r0, #1
 11422 064c E4E7     		b	.L707
 11423              	.LVL1240:
 11424              	.L773:
4345:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 11425              		.loc 1 4345 12 view .LVU3737
 11426 064e 0120     		movs	r0, #1
 11427 0650 E2E7     		b	.L707
 11428              	.LVL1241:
 11429              	.L774:
4353:Middlewares/Third_Party/FatFs/src/ff.c **** 	} while (--i);
 11430              		.loc 1 4353 11 view .LVU3738
 11431 0652 0120     		movs	r0, #1
 11432 0654 E0E7     		b	.L707
 11433              	.L794:
 11434 0656 00BF     		.align	2
 11435              	.L793:
 11436 0658 00000000 		.word	.LC1
 11437 065c 20000000 		.word	.LC3
 11438 0660 0C000000 		.word	.LC2
 11439 0664 00FFFF00 		.word	16776960
 11440              		.cfi_endproc
 11441              	.LFE124:
 11443              		.section	.text.f_gets,"ax",%progbits
 11444              		.align	1
 11445              		.global	f_gets
 11446              		.syntax unified
 11447              		.thumb
 11448              		.thumb_func
 11449              		.fpu softvfp
 11451              	f_gets:
 11452              	.LVL1242:
 11453              	.LFB125:
4462:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
 11454              		.loc 1 4462 1 is_stmt 1 view -0
 11455              		.cfi_startproc
 11456              		@ args = 0, pretend = 0, frame = 8
 11457              		@ frame_needed = 0, uses_anonymous_args = 0
4462:Middlewares/Third_Party/FatFs/src/ff.c **** 	int n = 0;
 11458              		.loc 1 4462 1 is_stmt 0 view .LVU3740
 11459 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 11460              	.LCFI117:
 11461              		.cfi_def_cfa_offset 24
 11462              		.cfi_offset 4, -24
 11463              		.cfi_offset 5, -20
 11464              		.cfi_offset 6, -16
 11465              		.cfi_offset 7, -12
 11466              		.cfi_offset 8, -8
 11467              		.cfi_offset 14, -4
 11468 0004 82B0     		sub	sp, sp, #8
ARM GAS  /tmp/cc9KJrYz.s 			page 337


 11469              	.LCFI118:
 11470              		.cfi_def_cfa_offset 32
 11471 0006 8046     		mov	r8, r0
 11472 0008 0E46     		mov	r6, r1
 11473 000a 1746     		mov	r7, r2
4463:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
 11474              		.loc 1 4463 2 is_stmt 1 view .LVU3741
 11475              	.LVL1243:
4464:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
 11476              		.loc 1 4464 2 view .LVU3742
4465:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT rc;
 11477              		.loc 1 4465 2 view .LVU3743
4466:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11478              		.loc 1 4466 2 view .LVU3744
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 11479              		.loc 1 4469 2 view .LVU3745
4464:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE s[2];
 11480              		.loc 1 4464 12 is_stmt 0 view .LVU3746
 11481 000c 0446     		mov	r4, r0
4463:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, *p = buff;
 11482              		.loc 1 4463 6 view .LVU3747
 11483 000e 0025     		movs	r5, #0
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 11484              		.loc 1 4469 8 view .LVU3748
 11485 0010 01E0     		b	.L796
 11486              	.LVL1244:
 11487              	.L801:
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 11488              		.loc 1 4469 8 view .LVU3749
 11489 0012 A446     		mov	ip, r4
 11490              	.LVL1245:
 11491              	.L798:
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 11492              		.loc 1 4469 8 view .LVU3750
 11493 0014 6446     		mov	r4, ip
 11494              	.LVL1246:
 11495              	.L796:
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 11496              		.loc 1 4469 8 is_stmt 1 view .LVU3751
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 11497              		.loc 1 4469 17 is_stmt 0 view .LVU3752
 11498 0016 731E     		subs	r3, r6, #1
4469:Middlewares/Third_Party/FatFs/src/ff.c **** #if _USE_LFN && _LFN_UNICODE
 11499              		.loc 1 4469 8 view .LVU3753
 11500 0018 AB42     		cmp	r3, r5
 11501 001a 13DD     		ble	.L797
4514:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (rc != 1) break;
 11502              		.loc 1 4514 3 is_stmt 1 view .LVU3754
 11503 001c 6B46     		mov	r3, sp
 11504 001e 0122     		movs	r2, #1
 11505 0020 01A9     		add	r1, sp, #4
 11506 0022 3846     		mov	r0, r7
 11507 0024 FFF7FEFF 		bl	f_read
 11508              	.LVL1247:
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 11509              		.loc 1 4515 3 view .LVU3755
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
ARM GAS  /tmp/cc9KJrYz.s 			page 338


 11510              		.loc 1 4515 10 is_stmt 0 view .LVU3756
 11511 0028 009B     		ldr	r3, [sp]
4515:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = s[0];
 11512              		.loc 1 4515 6 view .LVU3757
 11513 002a 012B     		cmp	r3, #1
 11514 002c 0AD1     		bne	.L797
4516:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 11515              		.loc 1 4516 3 is_stmt 1 view .LVU3758
4516:Middlewares/Third_Party/FatFs/src/ff.c **** #endif
 11516              		.loc 1 4516 5 is_stmt 0 view .LVU3759
 11517 002e 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 11518              	.LVL1248:
4518:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
 11519              		.loc 1 4518 3 is_stmt 1 view .LVU3760
4518:Middlewares/Third_Party/FatFs/src/ff.c **** 		*p++ = c;
 11520              		.loc 1 4518 6 is_stmt 0 view .LVU3761
 11521 0032 0D2B     		cmp	r3, #13
 11522 0034 EDD0     		beq	.L801
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 11523              		.loc 1 4519 3 is_stmt 1 view .LVU3762
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 11524              		.loc 1 4519 5 is_stmt 0 view .LVU3763
 11525 0036 A446     		mov	ip, r4
 11526              	.LVL1249:
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 11527              		.loc 1 4519 8 view .LVU3764
 11528 0038 0CF8013B 		strb	r3, [ip], #1
 11529              	.LVL1250:
4520:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 11530              		.loc 1 4520 3 is_stmt 1 view .LVU3765
4520:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '\n') break;		/* Break on EOL */
 11531              		.loc 1 4520 4 is_stmt 0 view .LVU3766
 11532 003c 0135     		adds	r5, r5, #1
 11533              	.LVL1251:
4521:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 11534              		.loc 1 4521 3 is_stmt 1 view .LVU3767
4521:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
 11535              		.loc 1 4521 6 is_stmt 0 view .LVU3768
 11536 003e 0A2B     		cmp	r3, #10
 11537 0040 E8D1     		bne	.L798
4519:Middlewares/Third_Party/FatFs/src/ff.c **** 		n++;
 11538              		.loc 1 4519 5 view .LVU3769
 11539 0042 6446     		mov	r4, ip
 11540              	.LVL1252:
 11541              	.L797:
4523:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
 11542              		.loc 1 4523 2 is_stmt 1 view .LVU3770
4523:Middlewares/Third_Party/FatFs/src/ff.c **** 	return n ? buff : 0;			/* When no data read (eof or error), return with error. */
 11543              		.loc 1 4523 5 is_stmt 0 view .LVU3771
 11544 0044 0023     		movs	r3, #0
 11545 0046 2370     		strb	r3, [r4]
4524:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11546              		.loc 1 4524 2 is_stmt 1 view .LVU3772
4524:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11547              		.loc 1 4524 18 is_stmt 0 view .LVU3773
 11548 0048 1DB1     		cbz	r5, .L803
4524:Middlewares/Third_Party/FatFs/src/ff.c **** }
ARM GAS  /tmp/cc9KJrYz.s 			page 339


 11549              		.loc 1 4524 18 view .LVU3774
 11550 004a 4046     		mov	r0, r8
 11551              	.L795:
4525:Middlewares/Third_Party/FatFs/src/ff.c **** 
 11552              		.loc 1 4525 1 view .LVU3775
 11553 004c 02B0     		add	sp, sp, #8
 11554              	.LCFI119:
 11555              		.cfi_remember_state
 11556              		.cfi_def_cfa_offset 24
 11557              		@ sp needed
 11558 004e BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 11559              	.LVL1253:
 11560              	.L803:
 11561              	.LCFI120:
 11562              		.cfi_restore_state
4524:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11563              		.loc 1 4524 18 view .LVU3776
 11564 0052 0020     		movs	r0, #0
 11565 0054 FAE7     		b	.L795
 11566              		.cfi_endproc
 11567              	.LFE125:
 11569              		.section	.text.f_putc,"ax",%progbits
 11570              		.align	1
 11571              		.global	f_putc
 11572              		.syntax unified
 11573              		.thumb
 11574              		.thumb_func
 11575              		.fpu softvfp
 11577              	f_putc:
 11578              	.LVL1254:
 11579              	.LFB127:
4596:Middlewares/Third_Party/FatFs/src/ff.c **** 
4597:Middlewares/Third_Party/FatFs/src/ff.c **** 
4598:Middlewares/Third_Party/FatFs/src/ff.c **** 
4599:Middlewares/Third_Party/FatFs/src/ff.c **** int f_putc (
4600:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c,	/* A character to be output */
4601:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp		/* Pointer to the file object */
4602:Middlewares/Third_Party/FatFs/src/ff.c **** )
4603:Middlewares/Third_Party/FatFs/src/ff.c **** {
 11580              		.loc 1 4603 1 is_stmt 1 view -0
 11581              		.cfi_startproc
 11582              		@ args = 0, pretend = 0, frame = 80
 11583              		@ frame_needed = 0, uses_anonymous_args = 0
 11584              		.loc 1 4603 1 is_stmt 0 view .LVU3778
 11585 0000 00B5     		push	{lr}
 11586              	.LCFI121:
 11587              		.cfi_def_cfa_offset 4
 11588              		.cfi_offset 14, -4
 11589 0002 95B0     		sub	sp, sp, #84
 11590              	.LCFI122:
 11591              		.cfi_def_cfa_offset 88
4604:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 11592              		.loc 1 4604 2 is_stmt 1 view .LVU3779
4605:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
 11593              		.loc 1 4605 2 view .LVU3780
4606:Middlewares/Third_Party/FatFs/src/ff.c **** 
4607:Middlewares/Third_Party/FatFs/src/ff.c **** 
ARM GAS  /tmp/cc9KJrYz.s 			page 340


4608:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.fp = fp;			/* Initialize output buffer */
 11594              		.loc 1 4608 2 view .LVU3781
 11595              		.loc 1 4608 8 is_stmt 0 view .LVU3782
 11596 0004 0191     		str	r1, [sp, #4]
4609:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.nchr = pb.idx = 0;
 11597              		.loc 1 4609 2 is_stmt 1 view .LVU3783
 11598              		.loc 1 4609 19 is_stmt 0 view .LVU3784
 11599 0006 0023     		movs	r3, #0
 11600 0008 0293     		str	r3, [sp, #8]
 11601              		.loc 1 4609 10 view .LVU3785
 11602 000a 0393     		str	r3, [sp, #12]
4610:Middlewares/Third_Party/FatFs/src/ff.c **** 
4611:Middlewares/Third_Party/FatFs/src/ff.c **** 	putc_bfd(&pb, c);	/* Put a character */
 11603              		.loc 1 4611 2 is_stmt 1 view .LVU3786
 11604 000c 0146     		mov	r1, r0
 11605              	.LVL1255:
 11606              		.loc 1 4611 2 is_stmt 0 view .LVU3787
 11607 000e 01A8     		add	r0, sp, #4
 11608              	.LVL1256:
 11609              		.loc 1 4611 2 view .LVU3788
 11610 0010 FFF7FEFF 		bl	putc_bfd
 11611              	.LVL1257:
4612:Middlewares/Third_Party/FatFs/src/ff.c **** 
4613:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb.idx >= 0	/* Flush buffered characters to the file */
 11612              		.loc 1 4613 2 is_stmt 1 view .LVU3789
 11613              		.loc 1 4613 11 is_stmt 0 view .LVU3790
 11614 0014 029A     		ldr	r2, [sp, #8]
 11615              		.loc 1 4613 5 view .LVU3791
 11616 0016 002A     		cmp	r2, #0
 11617 0018 0DDB     		blt	.L807
4614:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb.fp, pb.buf, (UINT)pb.idx, &nw) == FR_OK
 11618              		.loc 1 4614 6 view .LVU3792
 11619 001a 6B46     		mov	r3, sp
 11620 001c 04A9     		add	r1, sp, #16
 11621 001e 0198     		ldr	r0, [sp, #4]
 11622 0020 FFF7FEFF 		bl	f_write
 11623              	.LVL1258:
 11624              		.loc 1 4614 3 view .LVU3793
 11625 0024 50B9     		cbnz	r0, .L808
4615:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb.idx == nw) return pb.nchr;
 11626              		.loc 1 4615 3 view .LVU3794
 11627 0026 029A     		ldr	r2, [sp, #8]
 11628 0028 009B     		ldr	r3, [sp]
 11629 002a 9A42     		cmp	r2, r3
 11630 002c 09D1     		bne	.L809
 11631              		.loc 1 4615 26 is_stmt 1 discriminator 1 view .LVU3795
 11632              		.loc 1 4615 35 is_stmt 0 discriminator 1 view .LVU3796
 11633 002e 0398     		ldr	r0, [sp, #12]
 11634              	.L805:
4616:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
4617:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11635              		.loc 1 4617 1 view .LVU3797
 11636 0030 15B0     		add	sp, sp, #84
 11637              	.LCFI123:
 11638              		.cfi_remember_state
 11639              		.cfi_def_cfa_offset 4
 11640              		@ sp needed
ARM GAS  /tmp/cc9KJrYz.s 			page 341


 11641 0032 5DF804FB 		ldr	pc, [sp], #4
 11642              	.L807:
 11643              	.LCFI124:
 11644              		.cfi_restore_state
4616:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 11645              		.loc 1 4616 9 view .LVU3798
 11646 0036 4FF0FF30 		mov	r0, #-1
 11647 003a F9E7     		b	.L805
 11648              	.L808:
 11649 003c 4FF0FF30 		mov	r0, #-1
 11650 0040 F6E7     		b	.L805
 11651              	.L809:
 11652 0042 4FF0FF30 		mov	r0, #-1
 11653 0046 F3E7     		b	.L805
 11654              		.cfi_endproc
 11655              	.LFE127:
 11657              		.section	.text.f_puts,"ax",%progbits
 11658              		.align	1
 11659              		.global	f_puts
 11660              		.syntax unified
 11661              		.thumb
 11662              		.thumb_func
 11663              		.fpu softvfp
 11665              	f_puts:
 11666              	.LVL1259:
 11667              	.LFB128:
4618:Middlewares/Third_Party/FatFs/src/ff.c **** 
4619:Middlewares/Third_Party/FatFs/src/ff.c **** 
4620:Middlewares/Third_Party/FatFs/src/ff.c **** 
4621:Middlewares/Third_Party/FatFs/src/ff.c **** 
4622:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4623:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a string to the file                                              */
4624:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4625:Middlewares/Third_Party/FatFs/src/ff.c **** 
4626:Middlewares/Third_Party/FatFs/src/ff.c **** int f_puts (
4627:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* str,	/* Pointer to the string to be output */
4628:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp				/* Pointer to the file object */
4629:Middlewares/Third_Party/FatFs/src/ff.c **** )
4630:Middlewares/Third_Party/FatFs/src/ff.c **** {
 11668              		.loc 1 4630 1 is_stmt 1 view -0
 11669              		.cfi_startproc
 11670              		@ args = 0, pretend = 0, frame = 80
 11671              		@ frame_needed = 0, uses_anonymous_args = 0
 11672              		.loc 1 4630 1 is_stmt 0 view .LVU3800
 11673 0000 10B5     		push	{r4, lr}
 11674              	.LCFI125:
 11675              		.cfi_def_cfa_offset 8
 11676              		.cfi_offset 4, -8
 11677              		.cfi_offset 14, -4
 11678 0002 94B0     		sub	sp, sp, #80
 11679              	.LCFI126:
 11680              		.cfi_def_cfa_offset 88
 11681 0004 0446     		mov	r4, r0
4631:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 11682              		.loc 1 4631 2 is_stmt 1 view .LVU3801
4632:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw;
 11683              		.loc 1 4632 2 view .LVU3802
ARM GAS  /tmp/cc9KJrYz.s 			page 342


4633:Middlewares/Third_Party/FatFs/src/ff.c **** 
4634:Middlewares/Third_Party/FatFs/src/ff.c **** 
4635:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.fp = fp;				/* Initialize output buffer */
 11684              		.loc 1 4635 2 view .LVU3803
 11685              		.loc 1 4635 8 is_stmt 0 view .LVU3804
 11686 0006 0191     		str	r1, [sp, #4]
4636:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.nchr = pb.idx = 0;
 11687              		.loc 1 4636 2 is_stmt 1 view .LVU3805
 11688              		.loc 1 4636 19 is_stmt 0 view .LVU3806
 11689 0008 0023     		movs	r3, #0
 11690 000a 0293     		str	r3, [sp, #8]
 11691              		.loc 1 4636 10 view .LVU3807
 11692 000c 0393     		str	r3, [sp, #12]
4637:Middlewares/Third_Party/FatFs/src/ff.c **** 
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 	while (*str)			/* Put the string */
 11693              		.loc 1 4638 2 is_stmt 1 view .LVU3808
 11694              		.loc 1 4638 8 is_stmt 0 view .LVU3809
 11695 000e 03E0     		b	.L812
 11696              	.LVL1260:
 11697              	.L813:
4639:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(&pb, *str++);
 11698              		.loc 1 4639 3 is_stmt 1 view .LVU3810
 11699              		.loc 1 4639 21 is_stmt 0 view .LVU3811
 11700 0010 0134     		adds	r4, r4, #1
 11701              	.LVL1261:
 11702              		.loc 1 4639 3 view .LVU3812
 11703 0012 01A8     		add	r0, sp, #4
 11704 0014 FFF7FEFF 		bl	putc_bfd
 11705              	.LVL1262:
 11706              	.L812:
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(&pb, *str++);
 11707              		.loc 1 4638 8 is_stmt 1 view .LVU3813
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(&pb, *str++);
 11708              		.loc 1 4638 9 is_stmt 0 view .LVU3814
 11709 0018 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
4638:Middlewares/Third_Party/FatFs/src/ff.c **** 		putc_bfd(&pb, *str++);
 11710              		.loc 1 4638 8 view .LVU3815
 11711 001a 0029     		cmp	r1, #0
 11712 001c F8D1     		bne	.L813
4640:Middlewares/Third_Party/FatFs/src/ff.c **** 
4641:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb.idx >= 0		/* Flush buffered characters to the file */
 11713              		.loc 1 4641 2 is_stmt 1 view .LVU3816
 11714              		.loc 1 4641 11 is_stmt 0 view .LVU3817
 11715 001e 029A     		ldr	r2, [sp, #8]
 11716              		.loc 1 4641 5 view .LVU3818
 11717 0020 002A     		cmp	r2, #0
 11718 0022 0CDB     		blt	.L815
4642:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb.fp, pb.buf, (UINT)pb.idx, &nw) == FR_OK
 11719              		.loc 1 4642 6 view .LVU3819
 11720 0024 6B46     		mov	r3, sp
 11721 0026 04A9     		add	r1, sp, #16
 11722 0028 0198     		ldr	r0, [sp, #4]
 11723 002a FFF7FEFF 		bl	f_write
 11724              	.LVL1263:
 11725              		.loc 1 4642 3 view .LVU3820
 11726 002e 48B9     		cbnz	r0, .L816
4643:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb.idx == nw) return pb.nchr;
ARM GAS  /tmp/cc9KJrYz.s 			page 343


 11727              		.loc 1 4643 3 view .LVU3821
 11728 0030 029A     		ldr	r2, [sp, #8]
 11729 0032 009B     		ldr	r3, [sp]
 11730 0034 9A42     		cmp	r2, r3
 11731 0036 08D1     		bne	.L817
 11732              		.loc 1 4643 26 is_stmt 1 discriminator 1 view .LVU3822
 11733              		.loc 1 4643 35 is_stmt 0 discriminator 1 view .LVU3823
 11734 0038 0398     		ldr	r0, [sp, #12]
 11735              	.L811:
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
4645:Middlewares/Third_Party/FatFs/src/ff.c **** }
 11736              		.loc 1 4645 1 view .LVU3824
 11737 003a 14B0     		add	sp, sp, #80
 11738              	.LCFI127:
 11739              		.cfi_remember_state
 11740              		.cfi_def_cfa_offset 8
 11741              		@ sp needed
 11742 003c 10BD     		pop	{r4, pc}
 11743              	.LVL1264:
 11744              	.L815:
 11745              	.LCFI128:
 11746              		.cfi_restore_state
4644:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 11747              		.loc 1 4644 9 view .LVU3825
 11748 003e 4FF0FF30 		mov	r0, #-1
 11749 0042 FAE7     		b	.L811
 11750              	.L816:
 11751 0044 4FF0FF30 		mov	r0, #-1
 11752 0048 F7E7     		b	.L811
 11753              	.L817:
 11754 004a 4FF0FF30 		mov	r0, #-1
 11755 004e F4E7     		b	.L811
 11756              		.cfi_endproc
 11757              	.LFE128:
 11759              		.section	.text.f_printf,"ax",%progbits
 11760              		.align	1
 11761              		.global	f_printf
 11762              		.syntax unified
 11763              		.thumb
 11764              		.thumb_func
 11765              		.fpu softvfp
 11767              	f_printf:
 11768              	.LVL1265:
 11769              	.LFB129:
4646:Middlewares/Third_Party/FatFs/src/ff.c **** 
4647:Middlewares/Third_Party/FatFs/src/ff.c **** 
4648:Middlewares/Third_Party/FatFs/src/ff.c **** 
4649:Middlewares/Third_Party/FatFs/src/ff.c **** 
4650:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4651:Middlewares/Third_Party/FatFs/src/ff.c **** /* Put a formatted string to the file                                    */
4652:Middlewares/Third_Party/FatFs/src/ff.c **** /*-----------------------------------------------------------------------*/
4653:Middlewares/Third_Party/FatFs/src/ff.c **** 
4654:Middlewares/Third_Party/FatFs/src/ff.c **** int f_printf (
4655:Middlewares/Third_Party/FatFs/src/ff.c **** 	FIL* fp,			/* Pointer to the file object */
4656:Middlewares/Third_Party/FatFs/src/ff.c **** 	const TCHAR* fmt,	/* Pointer to the format string */
4657:Middlewares/Third_Party/FatFs/src/ff.c **** 	...					/* Optional arguments... */
4658:Middlewares/Third_Party/FatFs/src/ff.c **** )
ARM GAS  /tmp/cc9KJrYz.s 			page 344


4659:Middlewares/Third_Party/FatFs/src/ff.c **** {
 11770              		.loc 1 4659 1 is_stmt 1 view -0
 11771              		.cfi_startproc
 11772              		@ args = 4, pretend = 12, frame = 104
 11773              		@ frame_needed = 0, uses_anonymous_args = 1
 11774              		.loc 1 4659 1 is_stmt 0 view .LVU3827
 11775 0000 0EB4     		push	{r1, r2, r3}
 11776              	.LCFI129:
 11777              		.cfi_def_cfa_offset 12
 11778              		.cfi_offset 1, -12
 11779              		.cfi_offset 2, -8
 11780              		.cfi_offset 3, -4
 11781 0002 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 11782              	.LCFI130:
 11783              		.cfi_def_cfa_offset 44
 11784              		.cfi_offset 4, -44
 11785              		.cfi_offset 5, -40
 11786              		.cfi_offset 6, -36
 11787              		.cfi_offset 7, -32
 11788              		.cfi_offset 8, -28
 11789              		.cfi_offset 9, -24
 11790              		.cfi_offset 10, -20
 11791              		.cfi_offset 14, -16
 11792 0006 9BB0     		sub	sp, sp, #108
 11793              	.LCFI131:
 11794              		.cfi_def_cfa_offset 152
 11795 0008 23AB     		add	r3, sp, #140
 11796 000a 53F8045B 		ldr	r5, [r3], #4
4660:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_list arp;
 11797              		.loc 1 4660 2 is_stmt 1 view .LVU3828
4661:Middlewares/Third_Party/FatFs/src/ff.c **** 	BYTE f, r;
 11798              		.loc 1 4661 2 view .LVU3829
4662:Middlewares/Third_Party/FatFs/src/ff.c **** 	UINT nw, i, j, w;
 11799              		.loc 1 4662 2 view .LVU3830
4663:Middlewares/Third_Party/FatFs/src/ff.c **** 	DWORD v;
 11800              		.loc 1 4663 2 view .LVU3831
4664:Middlewares/Third_Party/FatFs/src/ff.c **** 	TCHAR c, d, s[16], *p;
 11801              		.loc 1 4664 2 view .LVU3832
4665:Middlewares/Third_Party/FatFs/src/ff.c **** 	putbuff pb;
 11802              		.loc 1 4665 2 view .LVU3833
4666:Middlewares/Third_Party/FatFs/src/ff.c **** 
4667:Middlewares/Third_Party/FatFs/src/ff.c **** 
4668:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.fp = fp;				/* Initialize output buffer */
 11803              		.loc 1 4668 2 view .LVU3834
 11804              		.loc 1 4668 8 is_stmt 0 view .LVU3835
 11805 000e 0190     		str	r0, [sp, #4]
4669:Middlewares/Third_Party/FatFs/src/ff.c **** 	pb.nchr = pb.idx = 0;
 11806              		.loc 1 4669 2 is_stmt 1 view .LVU3836
 11807              		.loc 1 4669 19 is_stmt 0 view .LVU3837
 11808 0010 0022     		movs	r2, #0
 11809 0012 0292     		str	r2, [sp, #8]
 11810              		.loc 1 4669 10 view .LVU3838
 11811 0014 0392     		str	r2, [sp, #12]
4670:Middlewares/Third_Party/FatFs/src/ff.c **** 
4671:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_start(arp, fmt);
 11812              		.loc 1 4671 2 is_stmt 1 view .LVU3839
 11813 0016 1993     		str	r3, [sp, #100]
ARM GAS  /tmp/cc9KJrYz.s 			page 345


 11814 0018 F4E0     		b	.L820
 11815              	.LVL1266:
 11816              	.L822:
4672:Middlewares/Third_Party/FatFs/src/ff.c **** 
4673:Middlewares/Third_Party/FatFs/src/ff.c **** 	for (;;) {
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
4677:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
4678:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
4679:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4680:Middlewares/Third_Party/FatFs/src/ff.c **** 		w = f = 0;
 11817              		.loc 1 4680 3 view .LVU3840
4681:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 11818              		.loc 1 4681 3 view .LVU3841
 11819              		.loc 1 4681 11 is_stmt 0 view .LVU3842
 11820 001a 0235     		adds	r5, r5, #2
 11821              	.LVL1267:
 11822              		.loc 1 4681 5 view .LVU3843
 11823 001c 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 11824              	.LVL1268:
4682:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == '0') {				/* Flag: '0' padding */
 11825              		.loc 1 4682 3 is_stmt 1 view .LVU3844
 11826              		.loc 1 4682 6 is_stmt 0 view .LVU3845
 11827 001e 3029     		cmp	r1, #48
 11828 0020 04D0     		beq	.L875
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
4684:Middlewares/Third_Party/FatFs/src/ff.c **** 		} else {
4685:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (c == '-') {			/* Flag: left justified */
 11829              		.loc 1 4685 4 is_stmt 1 view .LVU3846
 11830              		.loc 1 4685 7 is_stmt 0 view .LVU3847
 11831 0022 2D29     		cmp	r1, #45
 11832 0024 06D0     		beq	.L876
4680:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 11833              		.loc 1 4680 9 view .LVU3848
 11834 0026 0026     		movs	r6, #0
 11835              	.LVL1269:
 11836              	.L825:
4680:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 11837              		.loc 1 4680 9 view .LVU3849
 11838 0028 0024     		movs	r4, #0
 11839 002a 0EE0     		b	.L826
 11840              	.LVL1270:
 11841              	.L875:
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 11842              		.loc 1 4683 4 is_stmt 1 view .LVU3850
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 11843              		.loc 1 4683 11 view .LVU3851
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 11844              		.loc 1 4683 19 is_stmt 0 view .LVU3852
 11845 002c A51C     		adds	r5, r4, #2
 11846              	.LVL1271:
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
 11847              		.loc 1 4683 13 view .LVU3853
 11848 002e 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 11849              	.LVL1272:
4683:Middlewares/Third_Party/FatFs/src/ff.c **** 			f = 1; c = *fmt++;
ARM GAS  /tmp/cc9KJrYz.s 			page 346


 11850              		.loc 1 4683 6 view .LVU3854
 11851 0030 0126     		movs	r6, #1
 11852 0032 F9E7     		b	.L825
 11853              	.LVL1273:
 11854              	.L876:
4686:Middlewares/Third_Party/FatFs/src/ff.c **** 				f = 2; c = *fmt++;
 11855              		.loc 1 4686 5 is_stmt 1 view .LVU3855
 11856              		.loc 1 4686 12 view .LVU3856
 11857              		.loc 1 4686 20 is_stmt 0 view .LVU3857
 11858 0034 A51C     		adds	r5, r4, #2
 11859              	.LVL1274:
 11860              		.loc 1 4686 14 view .LVU3858
 11861 0036 6178     		ldrb	r1, [r4, #1]	@ zero_extendqisi2
 11862              	.LVL1275:
 11863              		.loc 1 4686 7 view .LVU3859
 11864 0038 0226     		movs	r6, #2
 11865 003a F5E7     		b	.L825
 11866              	.LVL1276:
 11867              	.L827:
4687:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4688:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4689:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (IsDigit(c)) {		/* Precision */
4690:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 11868              		.loc 1 4690 4 is_stmt 1 view .LVU3860
 11869              		.loc 1 4690 10 is_stmt 0 view .LVU3861
 11870 003c 04EB8404 		add	r4, r4, r4, lsl #2
 11871              	.LVL1277:
 11872              		.loc 1 4690 15 view .LVU3862
 11873 0040 01EB4404 		add	r4, r1, r4, lsl #1
 11874              		.loc 1 4690 6 view .LVU3863
 11875 0044 303C     		subs	r4, r4, #48
 11876              	.LVL1278:
4691:Middlewares/Third_Party/FatFs/src/ff.c **** 			c = *fmt++;
 11877              		.loc 1 4691 4 is_stmt 1 view .LVU3864
 11878              		.loc 1 4691 6 is_stmt 0 view .LVU3865
 11879 0046 15F8011B 		ldrb	r1, [r5], #1	@ zero_extendqisi2
 11880              	.LVL1279:
 11881              	.L826:
4689:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 11882              		.loc 1 4689 9 is_stmt 1 view .LVU3866
4689:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 11883              		.loc 1 4689 10 is_stmt 0 view .LVU3867
 11884 004a A1F13003 		sub	r3, r1, #48
 11885 004e DBB2     		uxtb	r3, r3
4689:Middlewares/Third_Party/FatFs/src/ff.c **** 			w = w * 10 + c - '0';
 11886              		.loc 1 4689 9 view .LVU3868
 11887 0050 092B     		cmp	r3, #9
 11888 0052 F3D9     		bls	.L827
4692:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4693:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 'l' || c == 'L') {	/* Prefix: Size is long int */
 11889              		.loc 1 4693 3 is_stmt 1 view .LVU3869
 11890              		.loc 1 4693 6 is_stmt 0 view .LVU3870
 11891 0054 6C29     		cmp	r1, #108
 11892 0056 01D0     		beq	.L828
 11893              		.loc 1 4693 16 discriminator 1 view .LVU3871
 11894 0058 4C29     		cmp	r1, #76
 11895 005a 03D1     		bne	.L829
ARM GAS  /tmp/cc9KJrYz.s 			page 347


 11896              	.L828:
4694:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 4; c = *fmt++;
 11897              		.loc 1 4694 4 is_stmt 1 view .LVU3872
 11898              		.loc 1 4694 6 is_stmt 0 view .LVU3873
 11899 005c 46F00406 		orr	r6, r6, #4
 11900              	.LVL1280:
 11901              		.loc 1 4694 12 is_stmt 1 view .LVU3874
 11902              		.loc 1 4694 14 is_stmt 0 view .LVU3875
 11903 0060 15F8011B 		ldrb	r1, [r5], #1	@ zero_extendqisi2
 11904              	.LVL1281:
 11905              	.L829:
4695:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4696:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (!c) break;
 11906              		.loc 1 4696 3 is_stmt 1 view .LVU3876
 11907              		.loc 1 4696 6 is_stmt 0 view .LVU3877
 11908 0064 0029     		cmp	r1, #0
 11909 0066 00F0D980 		beq	.L821
4697:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 11910              		.loc 1 4697 3 is_stmt 1 view .LVU3878
 11911              	.LVL1282:
4698:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (IsLower(d)) d -= 0x20;
 11912              		.loc 1 4698 3 view .LVU3879
 11913              		.loc 1 4698 7 is_stmt 0 view .LVU3880
 11914 006a A1F16103 		sub	r3, r1, #97
 11915 006e DBB2     		uxtb	r3, r3
 11916              		.loc 1 4698 6 view .LVU3881
 11917 0070 192B     		cmp	r3, #25
 11918 0072 14D8     		bhi	.L866
 11919              		.loc 1 4698 19 is_stmt 1 discriminator 1 view .LVU3882
 11920              		.loc 1 4698 21 is_stmt 0 discriminator 1 view .LVU3883
 11921 0074 A1F12003 		sub	r3, r1, #32
 11922 0078 DBB2     		uxtb	r3, r3
 11923              	.LVL1283:
 11924              	.L830:
4699:Middlewares/Third_Party/FatFs/src/ff.c **** 		switch (d) {				/* Type is... */
 11925              		.loc 1 4699 3 is_stmt 1 view .LVU3884
 11926 007a A3F14202 		sub	r2, r3, #66
 11927 007e 162A     		cmp	r2, #22
 11928 0080 53D8     		bhi	.L831
 11929 0082 DFE802F0 		tbb	[pc, r2]
 11930              	.L833:
 11931 0086 56       		.byte	(.L838-.L833)/2
 11932 0087 3B       		.byte	(.L837-.L833)/2
 11933 0088 43       		.byte	(.L834-.L833)/2
 11934 0089 52       		.byte	(.L831-.L833)/2
 11935 008a 52       		.byte	(.L831-.L833)/2
 11936 008b 52       		.byte	(.L831-.L833)/2
 11937 008c 52       		.byte	(.L831-.L833)/2
 11938 008d 52       		.byte	(.L831-.L833)/2
 11939 008e 52       		.byte	(.L831-.L833)/2
 11940 008f 52       		.byte	(.L831-.L833)/2
 11941 0090 52       		.byte	(.L831-.L833)/2
 11942 0091 52       		.byte	(.L831-.L833)/2
 11943 0092 52       		.byte	(.L831-.L833)/2
 11944 0093 58       		.byte	(.L867-.L833)/2
 11945 0094 52       		.byte	(.L831-.L833)/2
 11946 0095 52       		.byte	(.L831-.L833)/2
ARM GAS  /tmp/cc9KJrYz.s 			page 348


 11947 0096 52       		.byte	(.L831-.L833)/2
 11948 0097 0E       		.byte	(.L835-.L833)/2
 11949 0098 52       		.byte	(.L831-.L833)/2
 11950 0099 43       		.byte	(.L834-.L833)/2
 11951 009a 52       		.byte	(.L831-.L833)/2
 11952 009b 52       		.byte	(.L831-.L833)/2
 11953 009c 50       		.byte	(.L832-.L833)/2
 11954              	.LVL1284:
 11955 009d 00       		.p2align 1
 11956              	.L866:
4697:Middlewares/Third_Party/FatFs/src/ff.c **** 		d = c;
 11957              		.loc 1 4697 5 is_stmt 0 view .LVU3885
 11958 009e 0B46     		mov	r3, r1
 11959 00a0 EBE7     		b	.L830
 11960              	.LVL1285:
 11961              	.L835:
4700:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'S' :					/* String */
4701:Middlewares/Third_Party/FatFs/src/ff.c **** 			p = va_arg(arp, TCHAR*);
 11962              		.loc 1 4701 4 is_stmt 1 view .LVU3886
 11963              		.loc 1 4701 6 is_stmt 0 view .LVU3887
 11964 00a2 199B     		ldr	r3, [sp, #100]
 11965              	.LVL1286:
 11966              		.loc 1 4701 6 view .LVU3888
 11967 00a4 1A1D     		adds	r2, r3, #4
 11968 00a6 1992     		str	r2, [sp, #100]
 11969 00a8 D3F80080 		ldr	r8, [r3]
4702:Middlewares/Third_Party/FatFs/src/ff.c **** 			for (j = 0; p[j]; j++) ;
 11970              		.loc 1 4702 4 is_stmt 1 view .LVU3889
 11971              	.LVL1287:
 11972              		.loc 1 4702 11 is_stmt 0 view .LVU3890
 11973 00ac 0027     		movs	r7, #0
 11974              		.loc 1 4702 4 view .LVU3891
 11975 00ae 00E0     		b	.L839
 11976              	.LVL1288:
 11977              	.L840:
 11978              		.loc 1 4702 27 is_stmt 1 discriminator 3 view .LVU3892
 11979              		.loc 1 4702 22 discriminator 3 view .LVU3893
 11980              		.loc 1 4702 23 is_stmt 0 discriminator 3 view .LVU3894
 11981 00b0 0137     		adds	r7, r7, #1
 11982              	.LVL1289:
 11983              	.L839:
 11984              		.loc 1 4702 16 is_stmt 1 discriminator 1 view .LVU3895
 11985              		.loc 1 4702 17 is_stmt 0 discriminator 1 view .LVU3896
 11986 00b2 18F80730 		ldrb	r3, [r8, r7]	@ zero_extendqisi2
 11987              		.loc 1 4702 4 discriminator 1 view .LVU3897
 11988 00b6 002B     		cmp	r3, #0
 11989 00b8 FAD1     		bne	.L840
4703:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (!(f & 2)) {
 11990              		.loc 1 4703 4 is_stmt 1 view .LVU3898
 11991              		.loc 1 4703 7 is_stmt 0 view .LVU3899
 11992 00ba 16F0020F 		tst	r6, #2
 11993 00be 0FD1     		bne	.L844
 11994 00c0 04E0     		b	.L841
 11995              	.LVL1290:
 11996              	.L843:
4704:Middlewares/Third_Party/FatFs/src/ff.c **** 				while (j++ < w) putc_bfd(&pb, ' ');
 11997              		.loc 1 4704 21 is_stmt 1 discriminator 2 view .LVU3900
ARM GAS  /tmp/cc9KJrYz.s 			page 349


 11998 00c2 2021     		movs	r1, #32
 11999 00c4 01A8     		add	r0, sp, #4
 12000 00c6 FFF7FEFF 		bl	putc_bfd
 12001              	.LVL1291:
 12002              		.loc 1 4704 13 is_stmt 0 discriminator 2 view .LVU3901
 12003 00ca 3746     		mov	r7, r6
 12004              	.LVL1292:
 12005              	.L841:
 12006              		.loc 1 4704 11 is_stmt 1 discriminator 1 view .LVU3902
 12007              		.loc 1 4704 13 is_stmt 0 discriminator 1 view .LVU3903
 12008 00cc 7E1C     		adds	r6, r7, #1
 12009              	.LVL1293:
 12010              		.loc 1 4704 11 discriminator 1 view .LVU3904
 12011 00ce A742     		cmp	r7, r4
 12012 00d0 F7D3     		bcc	.L843
 12013              		.loc 1 4704 13 view .LVU3905
 12014 00d2 3746     		mov	r7, r6
 12015 00d4 04E0     		b	.L844
 12016              	.LVL1294:
 12017              	.L845:
4705:Middlewares/Third_Party/FatFs/src/ff.c **** 			}
4706:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (*p) putc_bfd(&pb, *p++);
 12018              		.loc 1 4706 15 is_stmt 1 discriminator 2 view .LVU3906
 12019              		.loc 1 4706 31 is_stmt 0 discriminator 2 view .LVU3907
 12020 00d6 08F10108 		add	r8, r8, #1
 12021              	.LVL1295:
 12022              		.loc 1 4706 15 discriminator 2 view .LVU3908
 12023 00da 01A8     		add	r0, sp, #4
 12024 00dc FFF7FEFF 		bl	putc_bfd
 12025              	.LVL1296:
 12026              	.L844:
 12027              		.loc 1 4706 10 is_stmt 1 discriminator 1 view .LVU3909
 12028              		.loc 1 4706 11 is_stmt 0 discriminator 1 view .LVU3910
 12029 00e0 98F80010 		ldrb	r1, [r8]	@ zero_extendqisi2
 12030              		.loc 1 4706 10 discriminator 1 view .LVU3911
 12031 00e4 0029     		cmp	r1, #0
 12032 00e6 F6D1     		bne	.L845
 12033              		.loc 1 4706 10 discriminator 1 view .LVU3912
 12034 00e8 04E0     		b	.L846
 12035              	.LVL1297:
 12036              	.L847:
4707:Middlewares/Third_Party/FatFs/src/ff.c **** 			while (j++ < w) putc_bfd(&pb, ' ');
 12037              		.loc 1 4707 20 is_stmt 1 discriminator 2 view .LVU3913
 12038 00ea 2021     		movs	r1, #32
 12039 00ec 01A8     		add	r0, sp, #4
 12040 00ee FFF7FEFF 		bl	putc_bfd
 12041              	.LVL1298:
 12042              		.loc 1 4707 12 is_stmt 0 discriminator 2 view .LVU3914
 12043 00f2 3746     		mov	r7, r6
 12044              	.LVL1299:
 12045              	.L846:
 12046              		.loc 1 4707 10 is_stmt 1 discriminator 1 view .LVU3915
 12047              		.loc 1 4707 12 is_stmt 0 discriminator 1 view .LVU3916
 12048 00f4 7E1C     		adds	r6, r7, #1
 12049              	.LVL1300:
 12050              		.loc 1 4707 10 discriminator 1 view .LVU3917
 12051 00f6 A742     		cmp	r7, r4
ARM GAS  /tmp/cc9KJrYz.s 			page 350


 12052 00f8 F7D3     		bcc	.L847
 12053 00fa 83E0     		b	.L820
 12054              	.LVL1301:
 12055              	.L837:
4708:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
4709:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'C' :					/* Character */
4710:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, (TCHAR)va_arg(arp, int)); continue;
 12056              		.loc 1 4710 4 is_stmt 1 view .LVU3918
 12057              		.loc 1 4710 25 is_stmt 0 view .LVU3919
 12058 00fc 199B     		ldr	r3, [sp, #100]
 12059              	.LVL1302:
 12060              		.loc 1 4710 25 view .LVU3920
 12061 00fe 1A1D     		adds	r2, r3, #4
 12062 0100 1992     		str	r2, [sp, #100]
 12063              		.loc 1 4710 4 view .LVU3921
 12064 0102 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 12065              	.LVL1303:
 12066              		.loc 1 4710 4 view .LVU3922
 12067 0104 01A8     		add	r0, sp, #4
 12068 0106 FFF7FEFF 		bl	putc_bfd
 12069              	.LVL1304:
 12070              		.loc 1 4710 44 is_stmt 1 view .LVU3923
 12071              		.loc 1 4710 4 is_stmt 0 view .LVU3924
 12072 010a 7BE0     		b	.L820
 12073              	.LVL1305:
 12074              	.L834:
4711:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'B' :					/* Binary */
4712:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 2; break;
4713:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'O' :					/* Octal */
4714:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 8; break;
4715:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'D' :					/* Signed decimal */
4716:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'U' :					/* Unsigned decimal */
4717:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 10; break;
 12075              		.loc 1 4717 4 is_stmt 1 view .LVU3925
 12076              		.loc 1 4717 12 view .LVU3926
 12077              		.loc 1 4717 6 is_stmt 0 view .LVU3927
 12078 010c 0A20     		movs	r0, #10
 12079              	.LVL1306:
 12080              	.L836:
4718:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'X' :					/* Hexdecimal */
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 			r = 16; break;
4720:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c); continue;
4722:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4723:Middlewares/Third_Party/FatFs/src/ff.c **** 
4724:Middlewares/Third_Party/FatFs/src/ff.c **** 		/* Get an argument and put it in numeral */
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		v = (f & 4) ? (DWORD)va_arg(arp, long) : ((d == 'D') ? (DWORD)(long)va_arg(arp, int) : (DWORD)va_
 12081              		.loc 1 4725 3 is_stmt 1 view .LVU3928
 12082              		.loc 1 4725 42 is_stmt 0 view .LVU3929
 12083 010e 16F0040F 		tst	r6, #4
 12084 0112 12D0     		beq	.L848
 12085              		.loc 1 4725 24 view .LVU3930
 12086 0114 199A     		ldr	r2, [sp, #100]
 12087 0116 171D     		adds	r7, r2, #4
 12088 0118 1997     		str	r7, [sp, #100]
 12089 011a 1268     		ldr	r2, [r2]
 12090              	.L849:
ARM GAS  /tmp/cc9KJrYz.s 			page 351


 12091              	.LVL1307:
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 12092              		.loc 1 4726 3 is_stmt 1 discriminator 8 view .LVU3931
 12093              		.loc 1 4726 6 is_stmt 0 discriminator 8 view .LVU3932
 12094 011c 442B     		cmp	r3, #68
 12095 011e 18D0     		beq	.L877
 12096              	.L851:
4727:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
4729:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
4730:Middlewares/Third_Party/FatFs/src/ff.c **** 		i = 0;
 12097              		.loc 1 4730 3 is_stmt 1 view .LVU3933
 12098              	.LVL1308:
 12099              		.loc 1 4730 5 is_stmt 0 view .LVU3934
 12100 0120 4FF0000C 		mov	ip, #0
 12101 0124 2BE0     		b	.L855
 12102              	.LVL1309:
 12103              	.L832:
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
 12104              		.loc 1 4719 4 is_stmt 1 view .LVU3935
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
 12105              		.loc 1 4719 12 view .LVU3936
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
 12106              		.loc 1 4719 6 is_stmt 0 view .LVU3937
 12107 0126 1020     		movs	r0, #16
4719:Middlewares/Third_Party/FatFs/src/ff.c **** 		default:					/* Unknown type (pass-through) */
 12108              		.loc 1 4719 4 view .LVU3938
 12109 0128 F1E7     		b	.L836
 12110              	.LVL1310:
 12111              	.L831:
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12112              		.loc 1 4721 4 is_stmt 1 view .LVU3939
 12113 012a 01A8     		add	r0, sp, #4
 12114 012c FFF7FEFF 		bl	putc_bfd
 12115              	.LVL1311:
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12116              		.loc 1 4721 22 view .LVU3940
4721:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12117              		.loc 1 4721 4 is_stmt 0 view .LVU3941
 12118 0130 68E0     		b	.L820
 12119              	.LVL1312:
 12120              	.L838:
4717:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'X' :					/* Hexdecimal */
 12121              		.loc 1 4717 6 view .LVU3942
 12122 0132 0220     		movs	r0, #2
 12123 0134 EBE7     		b	.L836
 12124              	.L867:
4714:Middlewares/Third_Party/FatFs/src/ff.c **** 		case 'D' :					/* Signed decimal */
 12125              		.loc 1 4714 6 view .LVU3943
 12126 0136 0820     		movs	r0, #8
 12127 0138 E9E7     		b	.L836
 12128              	.LVL1313:
 12129              	.L848:
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 12130              		.loc 1 4725 88 discriminator 2 view .LVU3944
 12131 013a 442B     		cmp	r3, #68
 12132 013c 04D0     		beq	.L878
ARM GAS  /tmp/cc9KJrYz.s 			page 352


4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 12133              		.loc 1 4725 88 view .LVU3945
 12134 013e 199A     		ldr	r2, [sp, #100]
 12135 0140 171D     		adds	r7, r2, #4
 12136 0142 1997     		str	r7, [sp, #100]
 12137 0144 1268     		ldr	r2, [r2]
 12138 0146 E9E7     		b	.L849
 12139              	.L878:
4725:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (d == 'D' && (v & 0x80000000)) {
 12140              		.loc 1 4725 71 view .LVU3946
 12141 0148 199A     		ldr	r2, [sp, #100]
 12142 014a 171D     		adds	r7, r2, #4
 12143 014c 1997     		str	r7, [sp, #100]
 12144 014e 1268     		ldr	r2, [r2]
 12145 0150 E4E7     		b	.L849
 12146              	.LVL1314:
 12147              	.L877:
4726:Middlewares/Third_Party/FatFs/src/ff.c **** 			v = 0 - v;
 12148              		.loc 1 4726 16 discriminator 1 view .LVU3947
 12149 0152 002A     		cmp	r2, #0
 12150 0154 E4DA     		bge	.L851
4727:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
 12151              		.loc 1 4727 4 is_stmt 1 view .LVU3948
4727:Middlewares/Third_Party/FatFs/src/ff.c **** 			f |= 8;
 12152              		.loc 1 4727 6 is_stmt 0 view .LVU3949
 12153 0156 5242     		rsbs	r2, r2, #0
 12154              	.LVL1315:
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12155              		.loc 1 4728 4 is_stmt 1 view .LVU3950
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12156              		.loc 1 4728 6 is_stmt 0 view .LVU3951
 12157 0158 46F00806 		orr	r6, r6, #8
 12158              	.LVL1316:
4728:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12159              		.loc 1 4728 6 view .LVU3952
 12160 015c E0E7     		b	.L851
 12161              	.LVL1317:
 12162              	.L879:
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			d = (TCHAR)(v % r); v /= r;
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 12163              		.loc 1 4733 17 view .LVU3953
 12164 015e 2727     		movs	r7, #39
 12165              	.L853:
 12166              		.loc 1 4733 17 discriminator 5 view .LVU3954
 12167 0160 3B44     		add	r3, r3, r7
 12168              	.LVL1318:
 12169              		.loc 1 4733 17 discriminator 5 view .LVU3955
 12170 0162 DBB2     		uxtb	r3, r3
 12171              	.LVL1319:
 12172              	.L852:
4734:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 12173              		.loc 1 4734 4 is_stmt 1 view .LVU3956
 12174              		.loc 1 4734 7 is_stmt 0 view .LVU3957
 12175 0164 0CF10107 		add	r7, ip, #1
 12176              	.LVL1320:
 12177              		.loc 1 4734 15 view .LVU3958
ARM GAS  /tmp/cc9KJrYz.s 			page 353


 12178 0168 3033     		adds	r3, r3, #48
 12179              	.LVL1321:
 12180              		.loc 1 4734 11 view .LVU3959
 12181 016a 0DF16809 		add	r9, sp, #104
 12182 016e E144     		add	r9, r9, ip
 12183 0170 09F8183C 		strb	r3, [r9, #-24]
4735:Middlewares/Third_Party/FatFs/src/ff.c **** 		} while (v && i < sizeof s / sizeof s[0]);
 12184              		.loc 1 4735 11 is_stmt 1 view .LVU3960
 12185              		.loc 1 4735 3 is_stmt 0 view .LVU3961
 12186 0174 C645     		cmp	lr, r8
 12187 0176 10D8     		bhi	.L854
 12188              		.loc 1 4735 14 discriminator 1 view .LVU3962
 12189 0178 0F2F     		cmp	r7, #15
 12190 017a 0ED8     		bhi	.L854
4734:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 12191              		.loc 1 4734 7 view .LVU3963
 12192 017c BC46     		mov	ip, r7
 12193              	.LVL1322:
 12194              	.L855:
4731:Middlewares/Third_Party/FatFs/src/ff.c **** 		do {
 12195              		.loc 1 4731 3 is_stmt 1 view .LVU3964
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 12196              		.loc 1 4732 4 view .LVU3965
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 12197              		.loc 1 4732 18 is_stmt 0 view .LVU3966
 12198 017e 8646     		mov	lr, r0
 12199 0180 B2FBF0F7 		udiv	r7, r2, r0
 12200 0184 00FB1723 		mls	r3, r0, r7, r2
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 12201              		.loc 1 4732 6 view .LVU3967
 12202 0188 DBB2     		uxtb	r3, r3
 12203              	.LVL1323:
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 12204              		.loc 1 4732 24 is_stmt 1 view .LVU3968
 12205 018a 9046     		mov	r8, r2
4732:Middlewares/Third_Party/FatFs/src/ff.c **** 			if (d > 9) d += (c == 'x') ? 0x27 : 0x07;
 12206              		.loc 1 4732 26 is_stmt 0 view .LVU3969
 12207 018c 3A46     		mov	r2, r7
 12208              	.LVL1324:
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 12209              		.loc 1 4733 4 is_stmt 1 view .LVU3970
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 12210              		.loc 1 4733 7 is_stmt 0 view .LVU3971
 12211 018e 092B     		cmp	r3, #9
 12212 0190 E8D9     		bls	.L852
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 12213              		.loc 1 4733 15 is_stmt 1 discriminator 1 view .LVU3972
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 12214              		.loc 1 4733 17 is_stmt 0 discriminator 1 view .LVU3973
 12215 0192 7829     		cmp	r1, #120
 12216 0194 E3D0     		beq	.L879
4733:Middlewares/Third_Party/FatFs/src/ff.c **** 			s[i++] = d + '0';
 12217              		.loc 1 4733 17 view .LVU3974
 12218 0196 0727     		movs	r7, #7
 12219 0198 E2E7     		b	.L853
 12220              	.LVL1325:
 12221              	.L854:
ARM GAS  /tmp/cc9KJrYz.s 			page 354


4736:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (f & 8) s[i++] = '-';
 12222              		.loc 1 4736 3 is_stmt 1 view .LVU3975
 12223              		.loc 1 4736 6 is_stmt 0 view .LVU3976
 12224 019a 16F0080F 		tst	r6, #8
 12225 019e 06D0     		beq	.L856
 12226              		.loc 1 4736 14 is_stmt 1 discriminator 1 view .LVU3977
 12227              	.LVL1326:
 12228              		.loc 1 4736 21 is_stmt 0 discriminator 1 view .LVU3978
 12229 01a0 1AAB     		add	r3, sp, #104
 12230 01a2 1F44     		add	r7, r7, r3
 12231 01a4 2D23     		movs	r3, #45
 12232 01a6 07F8183C 		strb	r3, [r7, #-24]
 12233              		.loc 1 4736 17 discriminator 1 view .LVU3979
 12234 01aa 0CF10207 		add	r7, ip, #2
 12235              	.LVL1327:
 12236              	.L856:
4737:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 12237              		.loc 1 4737 3 is_stmt 1 view .LVU3980
 12238              		.loc 1 4737 10 view .LVU3981
 12239              		.loc 1 4737 12 is_stmt 0 view .LVU3982
 12240 01ae 16F0010F 		tst	r6, #1
 12241 01b2 0FD0     		beq	.L870
 12242              		.loc 1 4737 12 view .LVU3983
 12243 01b4 4FF0300A 		mov	r10, #48
 12244              	.L857:
 12245              	.LVL1328:
4738:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (!(f & 2) && j++ < w) putc_bfd(&pb, d);
 12246              		.loc 1 4738 3 is_stmt 1 discriminator 4 view .LVU3984
4737:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 12247              		.loc 1 4737 5 is_stmt 0 discriminator 4 view .LVU3985
 12248 01b8 B846     		mov	r8, r7
 12249              	.LVL1329:
 12250              	.L858:
 12251              		.loc 1 4738 9 is_stmt 1 discriminator 1 view .LVU3986
 12252 01ba 16F0020F 		tst	r6, #2
 12253 01be 0DD1     		bne	.L861
 12254              		.loc 1 4738 23 is_stmt 0 discriminator 2 view .LVU3987
 12255 01c0 08F10109 		add	r9, r8, #1
 12256              	.LVL1330:
 12257              		.loc 1 4738 19 discriminator 2 view .LVU3988
 12258 01c4 A045     		cmp	r8, r4
 12259 01c6 08D2     		bcs	.L880
 12260              		.loc 1 4738 31 is_stmt 1 discriminator 3 view .LVU3989
 12261 01c8 5146     		mov	r1, r10
 12262 01ca 01A8     		add	r0, sp, #4
 12263 01cc FFF7FEFF 		bl	putc_bfd
 12264              	.LVL1331:
 12265              		.loc 1 4738 23 is_stmt 0 discriminator 3 view .LVU3990
 12266 01d0 C846     		mov	r8, r9
 12267 01d2 F2E7     		b	.L858
 12268              	.LVL1332:
 12269              	.L870:
4737:Middlewares/Third_Party/FatFs/src/ff.c **** 		j = i; d = (f & 1) ? '0' : ' ';
 12270              		.loc 1 4737 12 view .LVU3991
 12271 01d4 4FF0200A 		mov	r10, #32
 12272 01d8 EEE7     		b	.L857
 12273              	.LVL1333:
ARM GAS  /tmp/cc9KJrYz.s 			page 355


 12274              	.L880:
 12275              		.loc 1 4738 23 view .LVU3992
 12276 01da C846     		mov	r8, r9
 12277              	.LVL1334:
 12278              	.L861:
4739:Middlewares/Third_Party/FatFs/src/ff.c **** 		do putc_bfd(&pb, s[--i]); while (i);
 12279              		.loc 1 4739 3 is_stmt 1 discriminator 1 view .LVU3993
 12280              		.loc 1 4739 6 discriminator 1 view .LVU3994
 12281 01dc 013F     		subs	r7, r7, #1
 12282              	.LVL1335:
 12283              		.loc 1 4739 6 is_stmt 0 discriminator 1 view .LVU3995
 12284 01de 1AAB     		add	r3, sp, #104
 12285 01e0 3B44     		add	r3, r3, r7
 12286 01e2 13F8181C 		ldrb	r1, [r3, #-24]	@ zero_extendqisi2
 12287 01e6 01A8     		add	r0, sp, #4
 12288 01e8 FFF7FEFF 		bl	putc_bfd
 12289              	.LVL1336:
 12290              		.loc 1 4739 35 is_stmt 1 discriminator 1 view .LVU3996
 12291              		.loc 1 4739 3 is_stmt 0 discriminator 1 view .LVU3997
 12292 01ec 002F     		cmp	r7, #0
 12293 01ee F5D1     		bne	.L861
 12294              		.loc 1 4739 3 discriminator 1 view .LVU3998
 12295 01f0 04E0     		b	.L862
 12296              	.LVL1337:
 12297              	.L863:
4740:Middlewares/Third_Party/FatFs/src/ff.c **** 		while (j++ < w) putc_bfd(&pb, d);
 12298              		.loc 1 4740 19 is_stmt 1 discriminator 2 view .LVU3999
 12299 01f2 5146     		mov	r1, r10
 12300 01f4 01A8     		add	r0, sp, #4
 12301 01f6 FFF7FEFF 		bl	putc_bfd
 12302              	.LVL1338:
 12303              		.loc 1 4740 11 is_stmt 0 discriminator 2 view .LVU4000
 12304 01fa B046     		mov	r8, r6
 12305              	.LVL1339:
 12306              	.L862:
 12307              		.loc 1 4740 9 is_stmt 1 discriminator 1 view .LVU4001
 12308              		.loc 1 4740 11 is_stmt 0 discriminator 1 view .LVU4002
 12309 01fc 08F10106 		add	r6, r8, #1
 12310              	.LVL1340:
 12311              		.loc 1 4740 9 discriminator 1 view .LVU4003
 12312 0200 A045     		cmp	r8, r4
 12313 0202 F6D3     		bcc	.L863
 12314              	.LVL1341:
 12315              	.L820:
4673:Middlewares/Third_Party/FatFs/src/ff.c **** 		c = *fmt++;
 12316              		.loc 1 4673 2 is_stmt 1 view .LVU4004
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 12317              		.loc 1 4674 3 view .LVU4005
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 12318              		.loc 1 4674 11 is_stmt 0 view .LVU4006
 12319 0204 2C46     		mov	r4, r5
 12320              	.LVL1342:
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 12321              		.loc 1 4674 5 view .LVU4007
 12322 0206 14F8011B 		ldrb	r1, [r4], #1	@ zero_extendqisi2
 12323              	.LVL1343:
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
ARM GAS  /tmp/cc9KJrYz.s 			page 356


 12324              		.loc 1 4675 3 is_stmt 1 view .LVU4008
4675:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c != '%') {				/* Non escape character */
 12325              		.loc 1 4675 6 is_stmt 0 view .LVU4009
 12326 020a 39B1     		cbz	r1, .L821
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
 12327              		.loc 1 4676 3 is_stmt 1 view .LVU4010
4676:Middlewares/Third_Party/FatFs/src/ff.c **** 			putc_bfd(&pb, c);
 12328              		.loc 1 4676 6 is_stmt 0 view .LVU4011
 12329 020c 2529     		cmp	r1, #37
 12330 020e 3FF404AF 		beq	.L822
4677:Middlewares/Third_Party/FatFs/src/ff.c **** 			continue;
 12331              		.loc 1 4677 4 is_stmt 1 view .LVU4012
 12332 0212 01A8     		add	r0, sp, #4
 12333 0214 FFF7FEFF 		bl	putc_bfd
 12334              	.LVL1344:
4678:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12335              		.loc 1 4678 4 view .LVU4013
4674:Middlewares/Third_Party/FatFs/src/ff.c **** 		if (c == 0) break;			/* End of string */
 12336              		.loc 1 4674 11 is_stmt 0 view .LVU4014
 12337 0218 2546     		mov	r5, r4
4678:Middlewares/Third_Party/FatFs/src/ff.c **** 		}
 12338              		.loc 1 4678 4 view .LVU4015
 12339 021a F3E7     		b	.L820
 12340              	.LVL1345:
 12341              	.L821:
4741:Middlewares/Third_Party/FatFs/src/ff.c **** 	}
4742:Middlewares/Third_Party/FatFs/src/ff.c **** 
4743:Middlewares/Third_Party/FatFs/src/ff.c **** 	va_end(arp);
 12342              		.loc 1 4743 2 is_stmt 1 view .LVU4016
4744:Middlewares/Third_Party/FatFs/src/ff.c **** 
4745:Middlewares/Third_Party/FatFs/src/ff.c **** 	if (   pb.idx >= 0		/* Flush buffered characters to the file */
 12343              		.loc 1 4745 2 view .LVU4017
 12344              		.loc 1 4745 11 is_stmt 0 view .LVU4018
 12345 021c 029A     		ldr	r2, [sp, #8]
 12346              		.loc 1 4745 5 view .LVU4019
 12347 021e 002A     		cmp	r2, #0
 12348 0220 0FDB     		blt	.L871
4746:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& f_write(pb.fp, pb.buf, (UINT)pb.idx, &nw) == FR_OK
 12349              		.loc 1 4746 6 view .LVU4020
 12350 0222 18AB     		add	r3, sp, #96
 12351 0224 04A9     		add	r1, sp, #16
 12352 0226 0198     		ldr	r0, [sp, #4]
 12353 0228 FFF7FEFF 		bl	f_write
 12354              	.LVL1346:
 12355              		.loc 1 4746 3 view .LVU4021
 12356 022c 60B9     		cbnz	r0, .L872
4747:Middlewares/Third_Party/FatFs/src/ff.c **** 		&& (UINT)pb.idx == nw) return pb.nchr;
 12357              		.loc 1 4747 3 view .LVU4022
 12358 022e 029A     		ldr	r2, [sp, #8]
 12359 0230 189B     		ldr	r3, [sp, #96]
 12360 0232 9A42     		cmp	r2, r3
 12361 0234 0BD1     		bne	.L873
 12362              		.loc 1 4747 26 is_stmt 1 discriminator 1 view .LVU4023
 12363              		.loc 1 4747 35 is_stmt 0 discriminator 1 view .LVU4024
 12364 0236 0398     		ldr	r0, [sp, #12]
 12365              	.L819:
4748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
ARM GAS  /tmp/cc9KJrYz.s 			page 357


4749:Middlewares/Third_Party/FatFs/src/ff.c **** }
 12366              		.loc 1 4749 1 view .LVU4025
 12367 0238 1BB0     		add	sp, sp, #108
 12368              	.LCFI132:
 12369              		.cfi_remember_state
 12370              		.cfi_def_cfa_offset 44
 12371              		@ sp needed
 12372 023a BDE8F047 		pop	{r4, r5, r6, r7, r8, r9, r10, lr}
 12373              	.LCFI133:
 12374              		.cfi_restore 14
 12375              		.cfi_restore 10
 12376              		.cfi_restore 9
 12377              		.cfi_restore 8
 12378              		.cfi_restore 7
 12379              		.cfi_restore 6
 12380              		.cfi_restore 5
 12381              		.cfi_restore 4
 12382              		.cfi_def_cfa_offset 12
 12383 023e 03B0     		add	sp, sp, #12
 12384              	.LCFI134:
 12385              		.cfi_restore 3
 12386              		.cfi_restore 2
 12387              		.cfi_restore 1
 12388              		.cfi_def_cfa_offset 0
 12389 0240 7047     		bx	lr
 12390              	.LVL1347:
 12391              	.L871:
 12392              	.LCFI135:
 12393              		.cfi_restore_state
4748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 12394              		.loc 1 4748 9 view .LVU4026
 12395 0242 4FF0FF30 		mov	r0, #-1
 12396 0246 F7E7     		b	.L819
 12397              	.LVL1348:
 12398              	.L872:
4748:Middlewares/Third_Party/FatFs/src/ff.c **** 	return EOF;
 12399              		.loc 1 4748 9 view .LVU4027
 12400 0248 4FF0FF30 		mov	r0, #-1
 12401 024c F4E7     		b	.L819
 12402              	.L873:
 12403 024e 4FF0FF30 		mov	r0, #-1
 12404 0252 F1E7     		b	.L819
 12405              		.cfi_endproc
 12406              	.LFE129:
 12408              		.section	.bss.FatFs,"aw",%nobits
 12409              		.align	2
 12410              		.set	.LANCHOR2,. + 0
 12413              	FatFs:
 12414 0000 00000000 		.space	4
 12415              		.section	.bss.Files,"aw",%nobits
 12416              		.align	2
 12417              		.set	.LANCHOR0,. + 0
 12420              	Files:
 12421 0000 00000000 		.space	48
 12421      00000000 
 12421      00000000 
 12421      00000000 
ARM GAS  /tmp/cc9KJrYz.s 			page 358


 12421      00000000 
 12422              		.section	.bss.Fsid,"aw",%nobits
 12423              		.align	1
 12424              		.set	.LANCHOR3,. + 0
 12427              	Fsid:
 12428 0000 0000     		.space	2
 12429              		.section	.rodata.ExCvt,"a"
 12430              		.align	2
 12431              		.set	.LANCHOR1,. + 0
 12434              	ExCvt:
 12435 0000 809A90B6 		.ascii	"\200\232\220\266\216\267\217\200\322\323\324\330\327"
 12435      8EB78F80 
 12435      D2D3D4D8 
 12435      D7
 12436 000d DE8E8F90 		.ascii	"\336\216\217\220\222\222\342\231\343\352\353Y\231\232"
 12436      9292E299 
 12436      E3EAEB59 
 12436      999A
 12437 001b 9D9C9D9E 		.ascii	"\235\234\235\236\237\265\326\340\351\245\245\246\247"
 12437      9FB5D6E0 
 12437      E9A5A5A6 
 12437      A7
 12438 0028 A8A9AAAB 		.ascii	"\250\251\252\253\254!\256\257\260\261\262\263\264\265"
 12438      AC21AEAF 
 12438      B0B1B2B3 
 12438      B4B5
 12439 0036 B6B7B8B9 		.ascii	"\266\267\270\271\272\273\274\275\276\277\300\301\302"
 12439      BABBBCBD 
 12439      BEBFC0C1 
 12439      C2
 12440 0043 C3C4C5C7 		.ascii	"\303\304\305\307\307\310\311\312\313\314\315\316\317"
 12440      C7C8C9CA 
 12440      CBCCCDCE 
 12440      CF
 12441 0050 D0D1D2D3 		.ascii	"\320\321\322\323\324\325\326\327\330\331\332\333\334"
 12441      D4D5D6D7 
 12441      D8D9DADB 
 12441      DC
 12442 005d DDDEDFE0 		.ascii	"\335\336\337\340\341\342\343\345\345\346\347\347\351"
 12442      E1E2E3E5 
 12442      E5E6E7E7 
 12442      E9
 12443 006a EAEBEDED 		.ascii	"\352\353\355\355\356\357\360\361\362\363\364\365\366"
 12443      EEEFF0F1 
 12443      F2F3F4F5 
 12443      F6
 12444 0077 F7F8F9FA 		.ascii	"\367\370\371\372\373\374\375\376\377"
 12444      FBFCFDFE 
 12444      FF
 12445              		.section	.rodata.cst.0,"a"
 12446              		.align	2
 12447              		.set	.LANCHOR5,. + 0
 12450              	cst.0:
 12451 0000 0080     		.short	-32768
 12452 0002 0040     		.short	16384
 12453 0004 0020     		.short	8192
 12454 0006 0010     		.short	4096
ARM GAS  /tmp/cc9KJrYz.s 			page 359


 12455 0008 0008     		.short	2048
 12456 000a 0040     		.short	16384
 12457 000c 0020     		.short	8192
 12458 000e 0010     		.short	4096
 12459 0010 0008     		.short	2048
 12460 0012 0004     		.short	1024
 12461 0014 0002     		.short	512
 12462              		.section	.rodata.vst.1,"a"
 12463              		.align	2
 12464              		.set	.LANCHOR4,. + 0
 12467              	vst.1:
 12468 0000 0004     		.short	1024
 12469 0002 0002     		.short	512
 12470 0004 0001     		.short	256
 12471 0006 8000     		.short	128
 12472 0008 4000     		.short	64
 12473 000a 2000     		.short	32
 12474 000c 1000     		.short	16
 12475 000e 0800     		.short	8
 12476 0010 0400     		.short	4
 12477 0012 0200     		.short	2
 12478 0014 0000     		.short	0
 12479              		.text
 12480              	.Letext0:
 12481              		.file 2 "Middlewares/Third_Party/FatFs/src/integer.h"
 12482              		.file 3 "Middlewares/Third_Party/FatFs/src/ff.h"
 12483              		.file 4 "Middlewares/Third_Party/FatFs/src/diskio.h"
 12484              		.file 5 "/home/onur/STM32Toolchain/gcc-arm/lib/gcc/arm-none-eabi/10.2.1/include/stdarg.h"
 12485              		.file 6 "<built-in>"
ARM GAS  /tmp/cc9KJrYz.s 			page 360


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ff.c
     /tmp/cc9KJrYz.s:16     .text.mem_cpy:0000000000000000 $t
     /tmp/cc9KJrYz.s:23     .text.mem_cpy:0000000000000000 mem_cpy
     /tmp/cc9KJrYz.s:63     .text.mem_set:0000000000000000 $t
     /tmp/cc9KJrYz.s:69     .text.mem_set:0000000000000000 mem_set
     /tmp/cc9KJrYz.s:104    .text.mem_cmp:0000000000000000 $t
     /tmp/cc9KJrYz.s:110    .text.mem_cmp:0000000000000000 mem_cmp
     /tmp/cc9KJrYz.s:164    .text.chk_chr:0000000000000000 $t
     /tmp/cc9KJrYz.s:170    .text.chk_chr:0000000000000000 chk_chr
     /tmp/cc9KJrYz.s:206    .text.chk_lock:0000000000000000 $t
     /tmp/cc9KJrYz.s:212    .text.chk_lock:0000000000000000 chk_lock
     /tmp/cc9KJrYz.s:365    .text.chk_lock:000000000000008c $d
     /tmp/cc9KJrYz.s:370    .text.enq_lock:0000000000000000 $t
     /tmp/cc9KJrYz.s:376    .text.enq_lock:0000000000000000 enq_lock
     /tmp/cc9KJrYz.s:424    .text.enq_lock:0000000000000020 $d
     /tmp/cc9KJrYz.s:429    .text.inc_lock:0000000000000000 $t
     /tmp/cc9KJrYz.s:435    .text.inc_lock:0000000000000000 inc_lock
     /tmp/cc9KJrYz.s:621    .text.inc_lock:00000000000000d4 $d
     /tmp/cc9KJrYz.s:626    .text.dec_lock:0000000000000000 $t
     /tmp/cc9KJrYz.s:632    .text.dec_lock:0000000000000000 dec_lock
     /tmp/cc9KJrYz.s:715    .text.dec_lock:0000000000000044 $d
     /tmp/cc9KJrYz.s:720    .text.clear_lock:0000000000000000 $t
     /tmp/cc9KJrYz.s:726    .text.clear_lock:0000000000000000 clear_lock
     /tmp/cc9KJrYz.s:808    .text.clear_lock:0000000000000040 $d
     /tmp/cc9KJrYz.s:813    .text.clmt_clust:0000000000000000 $t
     /tmp/cc9KJrYz.s:819    .text.clmt_clust:0000000000000000 clmt_clust
     /tmp/cc9KJrYz.s:890    .text.ld_clust:0000000000000000 $t
     /tmp/cc9KJrYz.s:896    .text.ld_clust:0000000000000000 ld_clust
     /tmp/cc9KJrYz.s:941    .text.st_clust:0000000000000000 $t
     /tmp/cc9KJrYz.s:947    .text.st_clust:0000000000000000 st_clust
     /tmp/cc9KJrYz.s:974    .text.get_fileinfo:0000000000000000 $t
     /tmp/cc9KJrYz.s:980    .text.get_fileinfo:0000000000000000 get_fileinfo
     /tmp/cc9KJrYz.s:1126   .rodata.create_name.str1.4:0000000000000000 $d
     /tmp/cc9KJrYz.s:1130   .text.create_name:0000000000000000 $t
     /tmp/cc9KJrYz.s:1136   .text.create_name:0000000000000000 create_name
     /tmp/cc9KJrYz.s:1448   .text.create_name:0000000000000110 $d
     /tmp/cc9KJrYz.s:1454   .text.get_ldnumber:0000000000000000 $t
     /tmp/cc9KJrYz.s:1460   .text.get_ldnumber:0000000000000000 get_ldnumber
     /tmp/cc9KJrYz.s:1588   .text.sync_window:0000000000000000 $t
     /tmp/cc9KJrYz.s:1594   .text.sync_window:0000000000000000 sync_window
     /tmp/cc9KJrYz.s:1706   .text.move_window:0000000000000000 $t
     /tmp/cc9KJrYz.s:1712   .text.move_window:0000000000000000 move_window
     /tmp/cc9KJrYz.s:1788   .text.check_fs:0000000000000000 $t
     /tmp/cc9KJrYz.s:1794   .text.check_fs:0000000000000000 check_fs
     /tmp/cc9KJrYz.s:1884   .text.check_fs:0000000000000088 $d
     /tmp/cc9KJrYz.s:1890   .text.validate:0000000000000000 $t
     /tmp/cc9KJrYz.s:1896   .text.validate:0000000000000000 validate
     /tmp/cc9KJrYz.s:1969   .text.find_volume:0000000000000000 $t
     /tmp/cc9KJrYz.s:1975   .text.find_volume:0000000000000000 find_volume
     /tmp/cc9KJrYz.s:2550   .text.find_volume:00000000000002e8 $d
     /tmp/cc9KJrYz.s:2555   .text.find_volume:00000000000002f0 $t
     /tmp/cc9KJrYz.s:2764   .text.find_volume:0000000000000400 $d
     /tmp/cc9KJrYz.s:2771   .text.sync_fs:0000000000000000 $t
     /tmp/cc9KJrYz.s:2777   .text.sync_fs:0000000000000000 sync_fs
     /tmp/cc9KJrYz.s:2922   .text.clust2sect:0000000000000000 $t
     /tmp/cc9KJrYz.s:2929   .text.clust2sect:0000000000000000 clust2sect
ARM GAS  /tmp/cc9KJrYz.s 			page 361


     /tmp/cc9KJrYz.s:2973   .text.get_fat:0000000000000000 $t
     /tmp/cc9KJrYz.s:2980   .text.get_fat:0000000000000000 get_fat
     /tmp/cc9KJrYz.s:3253   .text.dir_sdi:0000000000000000 $t
     /tmp/cc9KJrYz.s:3259   .text.dir_sdi:0000000000000000 dir_sdi
     /tmp/cc9KJrYz.s:3496   .text.dir_remove:0000000000000000 $t
     /tmp/cc9KJrYz.s:3502   .text.dir_remove:0000000000000000 dir_remove
     /tmp/cc9KJrYz.s:3582   .text.put_fat:0000000000000000 $t
     /tmp/cc9KJrYz.s:3589   .text.put_fat:0000000000000000 put_fat
     /tmp/cc9KJrYz.s:3904   .text.create_chain:0000000000000000 $t
     /tmp/cc9KJrYz.s:3910   .text.create_chain:0000000000000000 create_chain
     /tmp/cc9KJrYz.s:4142   .text.dir_next:0000000000000000 $t
     /tmp/cc9KJrYz.s:4148   .text.dir_next:0000000000000000 dir_next
     /tmp/cc9KJrYz.s:4490   .text.dir_find:0000000000000000 $t
     /tmp/cc9KJrYz.s:4496   .text.dir_find:0000000000000000 dir_find
     /tmp/cc9KJrYz.s:4596   .text.follow_path:0000000000000000 $t
     /tmp/cc9KJrYz.s:4602   .text.follow_path:0000000000000000 follow_path
     /tmp/cc9KJrYz.s:4767   .text.dir_alloc:0000000000000000 $t
     /tmp/cc9KJrYz.s:4773   .text.dir_alloc:0000000000000000 dir_alloc
     /tmp/cc9KJrYz.s:4885   .text.dir_register:0000000000000000 $t
     /tmp/cc9KJrYz.s:4891   .text.dir_register:0000000000000000 dir_register
     /tmp/cc9KJrYz.s:4969   .text.dir_read:0000000000000000 $t
     /tmp/cc9KJrYz.s:4975   .text.dir_read:0000000000000000 dir_read
     /tmp/cc9KJrYz.s:5101   .text.remove_chain:0000000000000000 $t
     /tmp/cc9KJrYz.s:5107   .text.remove_chain:0000000000000000 remove_chain
     /tmp/cc9KJrYz.s:5236   .text.f_mount:0000000000000000 $t
     /tmp/cc9KJrYz.s:5243   .text.f_mount:0000000000000000 f_mount
     /tmp/cc9KJrYz.s:5362   .text.f_mount:0000000000000060 $d
     /tmp/cc9KJrYz.s:5367   .text.f_open:0000000000000000 $t
     /tmp/cc9KJrYz.s:5374   .text.f_open:0000000000000000 f_open
     /tmp/cc9KJrYz.s:5815   .text.f_read:0000000000000000 $t
     /tmp/cc9KJrYz.s:5822   .text.f_read:0000000000000000 f_read
     /tmp/cc9KJrYz.s:6277   .text.f_write:0000000000000000 $t
     /tmp/cc9KJrYz.s:6284   .text.f_write:0000000000000000 f_write
     /tmp/cc9KJrYz.s:6809   .text.putc_bfd:0000000000000000 $t
     /tmp/cc9KJrYz.s:6815   .text.putc_bfd:0000000000000000 putc_bfd
     /tmp/cc9KJrYz.s:6926   .text.f_sync:0000000000000000 $t
     /tmp/cc9KJrYz.s:6933   .text.f_sync:0000000000000000 f_sync
     /tmp/cc9KJrYz.s:7090   .text.f_close:0000000000000000 $t
     /tmp/cc9KJrYz.s:7097   .text.f_close:0000000000000000 f_close
     /tmp/cc9KJrYz.s:7158   .text.f_lseek:0000000000000000 $t
     /tmp/cc9KJrYz.s:7165   .text.f_lseek:0000000000000000 f_lseek
     /tmp/cc9KJrYz.s:7928   .text.f_opendir:0000000000000000 $t
     /tmp/cc9KJrYz.s:7935   .text.f_opendir:0000000000000000 f_opendir
     /tmp/cc9KJrYz.s:8113   .text.f_closedir:0000000000000000 $t
     /tmp/cc9KJrYz.s:8120   .text.f_closedir:0000000000000000 f_closedir
     /tmp/cc9KJrYz.s:8178   .text.f_readdir:0000000000000000 $t
     /tmp/cc9KJrYz.s:8185   .text.f_readdir:0000000000000000 f_readdir
     /tmp/cc9KJrYz.s:8312   .text.f_stat:0000000000000000 $t
     /tmp/cc9KJrYz.s:8319   .text.f_stat:0000000000000000 f_stat
     /tmp/cc9KJrYz.s:8422   .text.f_getfree:0000000000000000 $t
     /tmp/cc9KJrYz.s:8429   .text.f_getfree:0000000000000000 f_getfree
     /tmp/cc9KJrYz.s:8714   .text.f_truncate:0000000000000000 $t
     /tmp/cc9KJrYz.s:8721   .text.f_truncate:0000000000000000 f_truncate
     /tmp/cc9KJrYz.s:8940   .text.f_unlink:0000000000000000 $t
     /tmp/cc9KJrYz.s:8947   .text.f_unlink:0000000000000000 f_unlink
     /tmp/cc9KJrYz.s:9188   .text.f_mkdir:0000000000000000 $t
     /tmp/cc9KJrYz.s:9195   .text.f_mkdir:0000000000000000 f_mkdir
ARM GAS  /tmp/cc9KJrYz.s 			page 362


     /tmp/cc9KJrYz.s:9598   .text.f_chmod:0000000000000000 $t
     /tmp/cc9KJrYz.s:9605   .text.f_chmod:0000000000000000 f_chmod
     /tmp/cc9KJrYz.s:9730   .text.f_rename:0000000000000000 $t
     /tmp/cc9KJrYz.s:9737   .text.f_rename:0000000000000000 f_rename
     /tmp/cc9KJrYz.s:10049  .text.f_utime:0000000000000000 $t
     /tmp/cc9KJrYz.s:10056  .text.f_utime:0000000000000000 f_utime
     /tmp/cc9KJrYz.s:10179  .rodata.f_mkfs.str1.4:0000000000000000 $d
     /tmp/cc9KJrYz.s:10189  .text.f_mkfs:0000000000000000 $t
     /tmp/cc9KJrYz.s:10196  .text.f_mkfs:0000000000000000 f_mkfs
     /tmp/cc9KJrYz.s:10795  .text.f_mkfs:00000000000002d0 $d
     /tmp/cc9KJrYz.s:10802  .text.f_mkfs:00000000000002e0 $t
     /tmp/cc9KJrYz.s:11436  .text.f_mkfs:0000000000000658 $d
     /tmp/cc9KJrYz.s:11444  .text.f_gets:0000000000000000 $t
     /tmp/cc9KJrYz.s:11451  .text.f_gets:0000000000000000 f_gets
     /tmp/cc9KJrYz.s:11570  .text.f_putc:0000000000000000 $t
     /tmp/cc9KJrYz.s:11577  .text.f_putc:0000000000000000 f_putc
     /tmp/cc9KJrYz.s:11658  .text.f_puts:0000000000000000 $t
     /tmp/cc9KJrYz.s:11665  .text.f_puts:0000000000000000 f_puts
     /tmp/cc9KJrYz.s:11760  .text.f_printf:0000000000000000 $t
     /tmp/cc9KJrYz.s:11767  .text.f_printf:0000000000000000 f_printf
     /tmp/cc9KJrYz.s:11931  .text.f_printf:0000000000000086 $d
     /tmp/cc9KJrYz.s:12409  .bss.FatFs:0000000000000000 $d
     /tmp/cc9KJrYz.s:12413  .bss.FatFs:0000000000000000 FatFs
     /tmp/cc9KJrYz.s:12416  .bss.Files:0000000000000000 $d
     /tmp/cc9KJrYz.s:12420  .bss.Files:0000000000000000 Files
     /tmp/cc9KJrYz.s:12423  .bss.Fsid:0000000000000000 $d
     /tmp/cc9KJrYz.s:12427  .bss.Fsid:0000000000000000 Fsid
     /tmp/cc9KJrYz.s:12430  .rodata.ExCvt:0000000000000000 $d
     /tmp/cc9KJrYz.s:12434  .rodata.ExCvt:0000000000000000 ExCvt
     /tmp/cc9KJrYz.s:12446  .rodata.cst.0:0000000000000000 $d
     /tmp/cc9KJrYz.s:12450  .rodata.cst.0:0000000000000000 cst.0
     /tmp/cc9KJrYz.s:12463  .rodata.vst.1:0000000000000000 $d
     /tmp/cc9KJrYz.s:12467  .rodata.vst.1:0000000000000000 vst.1
     /tmp/cc9KJrYz.s:11955  .text.f_printf:000000000000009d $d
     /tmp/cc9KJrYz.s:11955  .text.f_printf:000000000000009e $t

UNDEFINED SYMBOLS
disk_write
disk_read
disk_status
disk_initialize
disk_ioctl
get_fattime
